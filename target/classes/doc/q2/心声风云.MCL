<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on 星期一, 十月 24, 2016, 11:40 上午 -->
<!-- MuClient version 4.94 -->
<!-- Written by Nick Gammon -->
<!-- Home Page: http://www.mushclient.com/ -->
<muclient>
<world
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"

   auto_say_override_prefix="-"
   auto_say_string="say "
   chat_name="Name-not-set"
   command_stack_character=";"
   id="2a067ce9003864da8f768eac"
   input_font_name="Fixedsys"
   mapping_failure="Alas, you cannot go that way."
   name="sxfy"
   new_activity_sound="(No sound)"
   output_font_name="新宋体"
   script_editor="D:\Apps\Notepad++\notepad++.exe"
   script_editor_argument="%file"
   script_filename="D:\Apps\MUSHclient\worlds\zhua\sxfy_script.lua"
   script_language="Lua"
   script_prefix="/"
   site="112.124.15.134"
   spam_message="look"
   speed_walk_prefix="#"
   terminal_identification="mushclient"

   arrows_change_history="y"
   arrow_keys_wrap="y"
   arrow_recalls_partial="y"
   auto_pause="y"
   auto_repeat="y"
   auto_resize_minimum_lines="1"
   auto_resize_maximum_lines="20"
   auto_wrap_window_width="y"
   chat_foreground_colour="red"
   chat_background_colour="black"
   chat_port="4050"
   confirm_before_replacing_typing="y"
   confirm_on_paste="y"
   confirm_on_send="y"
   convert_ga_to_newline="y"
   default_trigger_sequence="100"
   default_alias_sequence="100"
   detect_pueblo="y"
   display_my_input="y"
   echo_colour="11"
   echo_hyperlink_in_output_window="y"
   enable_aliases="y"
   enable_beeps="y"
   enable_command_stack="y"
   enable_scripts="y"
   enable_speed_walk="y"
   enable_timers="y"
   enable_triggers="y"
   enable_trigger_sounds="y"
   escape_deletes_input="y"
   history_lines="1000"
   hyperlink_adds_to_command_history="y"
   hyperlink_colour="#0080FF"
   indent_paras="y"
   input_background_colour="white"
   input_font_height="12"
   input_font_weight="400"
   input_font_charset="134"
   input_text_colour="black"
   keypad_enable="y"
   line_information="y"
   line_spacing="15"
   log_output="y"
   max_output_lines="100000"
   mud_can_change_link_colour="y"
   mud_can_change_options="y"
   note_text_colour="#040000"
   output_font_height="9"
   output_font_weight="400"
   output_font_charset="134"
   paste_delay_per_lines="1"
   pixel_offset="3"
   port="6666"
   proxy_port="1080"
   save_world_automatically="y"
   script_errors_to_output_window="y"
   send_file_delay_per_lines="1"
   send_mxp_afk_response="y"
   show_connect_disconnect="y"
   show_underline="y"
   spam_line_count="20"
   tab_completion_lines="200"
   timestamp_input_text_colour="maroon"
   timestamp_notes_text_colour="blue"
   timestamp_output_text_colour="white"
   timestamp_input_back_colour="black"
   timestamp_notes_back_colour="black"
   timestamp_output_back_colour="black"
   tool_tip_visible_time="5000"
   tool_tip_start_time="400"
   treeview_triggers="y"
   treeview_aliases="y"
   treeview_timers="y"
   underline_hyperlinks="y"
   unpause_on_send="y"
   use_custom_link_colour="y"
   warn_if_scripting_inactive="y"
   wrap_column="124"
   write_world_name_to_log="y"
   > <!-- end of general world attributes -->
  <connect_text>0
%name%
%password%
y</connect_text>
  <notes>2016.10.20
=========
针对新的 mission 提示改动触发。(重要)

2016.10.14
=========
修正 任务重试 对 g moonblade 的处理。

2016.10.9
=========
完善 mj 步法别名
完善 "神水 山洞秘道" 点灯的判断，原来只判断自己点灯。

2016.10.7
=========
修改定时 save 的延时。

2016.10.2
=========
修正 skills 触发的BUG。

2016.10.1
=========
修正华山"荒凉小径"遍历的
优化金钱杀如麻杀气的补给.

2016.9.27
=========
取消天宗“金非”的守株待兔杀法。（重要）
修正无故跑去 小武 处要 jadebox。

2016.9.23
=========
登录信息有变动，重新调整登录处理。（重要）
修正组织判断触发，原触发没考虑到没头衔的情况。（重要）
增加天宗“金非”的守株待兔杀法。（重要）
完善别名 init 关于刷黄石触发开关的判断。（重要）
修正判断是否晚上再去霸王山庄暗道。（重要）
增加 ctyue 的战斗方式。（重要）
back seal 使用后，增加变量重置，避免死在 红屋 偶尔出现 usedan=1 的情况。
土娼解离别毒增加 Return 用于返回。
修正在组织密室 &lt;95% 精气神 吃丹判断的漏洞。
老云寨修改延时处理，避免无视MNPC路过。
修改别名 um 增加富贵密林 unset brief 的处理。
增加 TX 男女 pfm
其它一些零星调整

2016.8.29
=========
增加别名 setid ，用于设置变量。（重要）
修正登录初始化。（重要）
完善杀无须老人的处理。（重要）
增加杀玉箫道人的处理。（重要）
修正不补充 back seal 的漏洞。（重要）
增加华山派用暗器的处理。（重要）
重新加入 mission 中刷砚台的处理
山流领取丹药的正义值下限由原来的1000000下调至100000。
buff 里面关于内力灵力法力的补给判断降至1000。
自动使用丹药做了一些优化，由原来统一&lt;=95%吃药改为，战斗中&lt;=75%，在组织处&lt;=95%。以减少战斗中过于频繁吃药。
补充两位新的MNPC数据。
完善自动存盘判断
修正死后偶尔会触发找小武
猪猪专用补丁：
不自动打开红木大柜。
因死得太多，经常在教堂不停 east，为此把防发呆从原来的10分钟降到5分钟。

2016.5.14
=========
修正别名 getm。

2016.5.13
=========
增加天宗随从的处理，相关变量 tz_guard
修正莽林重试的BUG。
增加别名 tzgaurd，从去泰山踏莎斋领跟班。
完善山流/天宗任务的路径变动

2016.5.9
=========
增加当身上物品爆满时，变量 box_destroy=1，会去天主教堂销毁宝箱。
增加华山进荒凉小径金灵芝不在时的处理，相关变量华山大米 hsdummy_id
增加 神水 白水宫门 路径

2016.5.7
=========
增加去海岛的路径。区域名：island

2016.4.29
=========
修改别名 du ，增加判断是否戴了 老山东面具。
完善通过 tty 寻找MNPC的判断，原来只判断字符串中是否包含MNPC名字，有时候会碰到MNPC尸体和MNPC同时存在的情况，导致触发两次。现再增加MNPC ID的判断。

2016.4.28
=========
增加从 杀人庄 到沉香的路径，相关变量 usesrz。注意：需要保证非中毒状态，否则不能进入杀人庄。

2016.4.27
=========
修正快活林入口的延时。
幻术师模块增加失败判断。

2016.4.26
=========
增加使用幻术师飞的模块，相关变量 useplane

2016.4.20
=========
增加 sky clothes 穿着的判断，相关变量　item_skyclothes，当 item_ckyclothes为０时穿，为空即不处理。
修正：同时需要补充油纸和丹药的冲突。

2016.4.12
=========
修正：当在最后一步前有NPC阻拦,因为别名bianli延时,有时候会导致Rush后停止遍历(例如快活林:争春苑,百兵库等地点)，相关别名：bianli

=========
2016.4.9
增加 moonforce exert的触发判断
相关别名 buff2

2016.2.17
=========
触发 "^[&gt; ]*你现已存入了(\d+)点潜能。$“ 增加判断潜能大于205m停止misison。

2016.2.11
=========
修正"补给"中 取手环 关于 兴国及帝王谷 不需要的漏洞。

2016.2.10
=========
老屋地图 area_lw 增加了到 余王满 的部分。

2016.2.5
=========
修正别名 getpath 不能取得 快活林 圣殿 的路径漏洞。
修正 ju 魏行龙时只判断auto_mission，改为判断bianli。
</notes>

</world>

<!-- triggers -->

<triggers
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >
  <trigger
   enabled="y"
   group="status"
   match="^[&gt; ]* 精力  ：\s*(\S+)/\s*(\S+)\s*\(\s*(\S+)%\)    食物：\s*(\S+)%$"
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>--Note("%1,%2,%3,%4")
SetVariable("hp_jing","%1")
SetVariable("hp_jing_max","%2")
SetVariable("hp_jing2","%3")
SetVariable("hp_shiwu","%4")</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 气血  ：\s*(\S+)/\s*(\S+)\s*\(\s*(\S+)%\)    饮水：\s*(\S+)%$"
   regexp="y"
   send_to="12"
   sequence="96"
  >
  <send>--Note("%1,%2,%3,%4")
SetVariable("hp_qi","%1")
SetVariable("hp_qi_max","%2")
SetVariable("hp_qi2","%3")
SetVariable("hp_yinshui","%4")</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 心神  ：\s*(\S+)/\s*(\S+)\s*\(\s*(\S+)%\)    评价：\s*(\S+)$"
   regexp="y"
   send_to="12"
   sequence="96"
  >
  <send>--Note("%1,%2,%3,%4")
SetVariable("hp_shen","%1")
SetVariable("hp_shen_max","%2")
SetVariable("hp_shen2","%3")
SetVariable("hp_pingjia","%4")</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 灵力  ：\s*(\S+)/\s*(\S+)\s*\(\s*(\S+)\)    杀气：\s*(\S+)$"
   regexp="y"
   send_to="12"
   sequence="97"
  >
  <send>--Note("%1,%2,%3,%4")
SetVariable("hp_lingli","%1")
SetVariable("hp_lingli_max","%2")
SetVariable("hp_shaqi","%4")</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 内力  ：\s*(\S+)/\s*(\S+)\s*\(\s*(\S+)\)    潜能：\s*(\S+)$"
   regexp="y"
   send_to="12"
   sequence="97"
  >
  <send>--Note("%1,%2,%3,%4")
SetVariable("hp_neili","%1")
SetVariable("hp_neili_max","%2")
SetVariable("hp_enforce","%3")
SetVariable("hp_qianneng","%4")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;tty end\&quot;$"
   regexp="y"
   send_to="12"
   sequence="97"
  >
  <send>-- 执行天眼通结束，重新开启 location 触发
--EnableTriggerGroup("location")
SetVariable("tty",0)

if (GetVariable("class")=="sq" and GetVariable("mission")=="1") then
if GetVariable("tty_result")=="1" then
local location=GetVariable("mnpc_location")

-- 地下城
local area="dxc"
Execute("getpath "..location.." "..area)

-- 大召寺
if GetVariable("path")=="" then
  area="dz"
  Execute("getpath "..location.." "..area)
 end

-- 杀人庄
if GetVariable("path")=="" then
  area="srz"
  Execute("getpath "..location.." "..area)
end
 
-- 狼山
if GetVariable("path")=="" then
  area="ls"
  Execute("getpath "..location.." "..area)
end

-- 风云周边
if GetVariable("path")=="" then
  area="fyzb"
  Execute("getpath "..location.." "..area)
end

-- 秋水夫人
if GetVariable("path")=="" then
  area="qs"
  Execute("getpath "..location.." "..area)
end

SetVariable("area",area)
SetVariable("mnpc_location",location)

-- 记录任务
SetVariable("mission_log",GetVariable("mission_log")..","..chs_area(GetVariable("area"))..":"..GetVariable("mnpc_location"))

-- 判断是否calldie对象
if (GetVariable("item_moonblade")~="0" and GetVariable("calldie")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("calldie_list"),"|")&gt;0) then
  Execute("g moonblade")
end

-- 出发
Execute("doit")

else
-- 杀人庄"厢房"
local area="srz"
local location="厢房"
Execute("getpath "..location.." "..area)

SetVariable("area",area)
SetVariable("mnpc_location",location)

-- 记录任务
SetVariable("mission_log",GetVariable("mission_log")..","..chs_area(GetVariable("area"))..":"..GetVariable("mnpc_location"))

-- 判断是否calldie对象
if (GetVariable("item_moonblade")~="0" and GetVariable("calldie")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("calldie_list"),"|")&gt;0) then
  Execute("g moonblade")
end

-- 出发
Execute("doit")
end
end</send>
  </trigger>
  <trigger
   group="player_list"
   match="(♂|♀).*?\(([^\(\)]*?)\)\s*\**\#*\s*(♂|♀).*?\(([^\(\)]*?)\)\s*\**\#*\s*(♂|♀).*?\(([^\(\)]*?)\)"
   regexp="y"
   send_to="12"
   sequence="98"
  >
  <send>local player_list = GetVariable("player_list")
if player_list == "" then
  player_list = "%2"
  player_list = player_list .. "|" .. "%4"
  player_list = player_list .. "|" .. "%6"
else
  player_list = player_list .. "|" .. "%2"
  player_list = player_list .. "|" .. "%4"
  player_list = player_list .. "|" .. "%6"
end
SetVariable("player_list", player_list)</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="status"
   match="^ 法力  ：\s*(\S+)/\s*(\S+)\s*\(\s*(\S+)\)    经验：\s*(\S+)$"
   regexp="y"
   send_to="12"
   sequence="98"
  >
  <send>--Note("%1,%2,%3,%4")
SetVariable("hp_fali","%1")
SetVariable("hp_fali_max","%2")
SetVariable("hp_jingyan","%4")

if GetVariable("item_skyclothes") == "0" and GetVariable("yangfan") == "1" then
    Send("wear sky clothes")
end

--以下为补给内容====================

if GetVariable("auto_supply")=="1" then

--以下为HP状态取值==========

&#9;local fali=tonumber(GetVariable("hp_fali"))
&#9;local fali_max=tonumber(GetVariable("hp_fali_max"))
&#9;local jingyan=tonumber(GetVariable("hp_jingyan"))
&#9;local jing=tonumber(GetVariable("hp_jing"))
&#9;local jing_max=tonumber(GetVariable("hp_jing_max"))
&#9;local jing2=tonumber(GetVariable("hp_jing2"))
&#9;local shiwu=tonumber(GetVariable("hp_shiwu"))
&#9;local lingli=tonumber(GetVariable("hp_lingli"))
&#9;local lingli_max=tonumber(GetVariable("hp_lingli_max"))
&#9;local shaqi=tonumber(GetVariable("hp_shaqi"))
&#9;local neili=tonumber(GetVariable("hp_neili"))
&#9;local neili_max=tonumber(GetVariable("hp_neili_max"))
&#9;local enforce=tonumber(GetVariable("hp_enforce"))
&#9;local qianneng=tonumber(GetVariable("hp_qianneng"))
&#9;local qi=tonumber(GetVariable("hp_qi"))
&#9;local qi_max=tonumber(GetVariable("hp_qi_max"))
&#9;local qi2=tonumber(GetVariable("hp_qi2"))
&#9;local yinshui=tonumber(GetVariable("hp_yinshui"))
&#9;local shen=tonumber(GetVariable("hp_shen"))
&#9;local shen_max=tonumber(GetVariable("hp_shen_max"))
&#9;local shen2=tonumber(GetVariable("hp_shen2"))
&#9;local pingjia=tonumber(GetVariable("hp_pingjia"))
&#9;local fight = tonumber(GetVariable("fight"))
&#9;local dan2 = tonumber(GetVariable("dan2"))
&#9;local dan_bag = tonumber(GetVariable("dan_bag"))
&#9;local backseal = tonumber(GetVariable("item_backseal"))
&#9;local backseal_bag = tonumber(GetVariable("item_backseal_bag"))
&#9;local youzhi_body = tonumber(GetVariable("youzhi_body"))
&#9;local youzhi_mugui = tonumber(GetVariable("youzhi_mugui"))
&#9;local youzhi_bag = tonumber(GetVariable("youzhi_bag"))
&#9;local enforce_max = tonumber(GetVariable("hp_enforce_max"))
&#9;local auto_enforce = tonumber(GetVariable("auto_enforce"))
&#9;if fight == 0 then
&#9;&#9;-- 回收身上油纸
&#9;&#9;if (GetVariable("yangfan")=="1" or GetVariable("lcb") == "1") and youzhi_body&gt;0 then
&#9;&#9;&#9;Execute("g mugui")
&#9;&#9;&#9;for i=1, youzhi_body do
&#9;&#9;&#9;&#9;Send("put youzhi in mugui")
&#9;&#9;&#9;end
&#9;&#9;&#9;Execute("p mugui")
&#9;&#9;end
&#9;&#9;-- 回收天蚕布袋油纸
&#9;&#9;if youzhi_bag&gt;0 then
&#9;&#9;&#9;local j=0
&#9;&#9;&#9;if youzhi_bag&gt;5 then
&#9;&#9;&#9;&#9;j=5
&#9;&#9;&#9;else
&#9;&#9;&#9;&#9;j=youzhi_bag
&#9;&#9;&#9;end
&#9;&#9;&#9;Execute("g mugui")
&#9;&#9;&#9;for i=1, j do
&#9;&#9;&#9;&#9;Execute("g youzhi;put youzhi in mugui")
&#9;&#9;&#9;end
&#9;&#9;&#9;Execute("p mugui")
&#9;&#9;end
&#9;&#9;-- 补给修仙符，要求back seal不为0
&#9;&#9;if backseal &lt; 1 and backseal_bag&gt;0 then
&#9;&#9;&#9;Send("get back seal from @rq")
&#9;&#9;elseif backseal &gt;1 then
&#9;&#9;&#9;for i=1, backseal-1 do
&#9;&#9;&#9;&#9;Send("put back seal in @rq")
&#9;&#9;&#9;end
&#9;&#9;end
&#9;&#9;-- 当身上丹药小于指定上限，补给丹药，要求jadebox不为0
&#9;&#9;if dan2 &gt; 0 and GetVariable("item_jadebox")~="0" then
&#9;&#9;&#9;SetVariable("obj","dan")
&#9;&#9;&#9;Execute("get jadebox from @rq")
&#9;&#9;&#9;if GetVariable("look_jadebox")=="1" then
&#9;&#9;&#9;&#9;SetVariable("look_jadebox",0)
&#9;&#9;&#9;&#9;Send("look jadebox")
&#9;&#9;&#9;end
&#9;&#9;&#9;for i=1, dan2 do
&#9;&#9;&#9;&#9;Execute("get dan from jadebox")
&#9;&#9;&#9;end
&#9;&#9;&#9;Execute("put jadebox in @rq")
&#9;&#9;&#9;-- 当身上丹药大于指定上限，收纳丹药，要求jadebox不为0
&#9;&#9;elseif dan2&lt;0 and GetVariable("item_jadebox")~="0" then
&#9;&#9;&#9;Execute("get jadebox from @rq")
&#9;&#9;&#9;if GetVariable("look_jadebox")=="1" then
&#9;&#9;&#9;&#9;SetVariable("look_jadebox",0)
&#9;&#9;&#9;&#9;Send("look jadebox")
&#9;&#9;&#9;end
&#9;&#9;&#9;for i=1, math.abs(dan2) do
&#9;&#9;&#9;&#9;Execute("put dan in jadebox")
&#9;&#9;&#9;end
&#9;&#9;&#9;Execute("put jadebox in @rq")
&#9;&#9;end
&#9;&#9;-- 回收天蚕布袋丹药
&#9;&#9;if dan_bag&gt;0 and GetVariable("item_jadebox")~="0" then
&#9;&#9;&#9;local j=0
&#9;&#9;&#9;if dan_bag&gt;5 then
&#9;&#9;&#9;&#9;j=5
&#9;&#9;&#9;else
&#9;&#9;&#9;&#9;j=dan_bag
&#9;&#9;&#9;end
&#9;&#9;&#9;Execute("get jadebox from @rq")
&#9;&#9;&#9;for i=1, j do
&#9;&#9;&#9;&#9;Execute("g dan;put dan in jadebox")
&#9;&#9;&#9;end
&#9;&#9;&#9;Execute("p jadebox")
&#9;&#9;end
&#9;&#9;-- 补给食物饮水，要求野果不为0
&#9;&#9;if (shiwu&lt;10 or yinshui&lt;10) and GetVariable("item_yeguo")~="0" then Execute("cg") end
&#9;end
    if GetVariable("die") == "1" then  -- 如果死亡状态则重置 usedan，避免 usedan &gt; 1 导致死后无法补给
        SetVariable("usedan", 0)
    end
&#9;-- 判断hp状态吃丹药
&#9;if jing&lt;=jing_max*0.75 or qi&lt;=qi_max*0.75 or shen&lt;=shen_max*0.75 or jing2&lt;=75 or qi2&lt;=75 or shen2&lt;=75 then
&#9;&#9;SetVariable("usedan",tonumber(GetVariable("usedan"))+1)
&#9;&#9;if GetVariable("usedan") == "1" and GetVariable("die") == "0" then
&#9;&#9;&#9;Execute("use dan;hp")
&#9;&#9;end
&#9;elseif (jing&lt;=jing_max*0.95 or qi&lt;=qi_max*0.95 or shen&lt;=shen_max*0.95 or jing2&lt;=95 or qi2&lt;=95 or shen2&lt;=95) and ismember(GetVariable("location"), "山流密室|天宗密室", "|") &gt; 0 then
&#9;&#9;Execute("g jadebox;get dan from jadebox;use dan;p jadebox")
&#9;end
&#9;-- 判断 enforce
&#9;if auto_enforce&gt;=0 and enforce~=auto_enforce then
&#9;&#9;if enforce~=auto_enforce and auto_enforce&lt;=enforce_max then
&#9;&#9;&#9;Send("enforce "..auto_enforce)
&#9;&#9;elseif enforce~=enforce_max and auto_enforce&gt;enforce_max then
&#9;&#9;&#9;Send("enforce "..enforce_max)
&#9;&#9;end
&#9;end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*你感到眼睛酸酸的，却什么也没看到！$"
   regexp="y"
   send_to="12"
   sequence="98"
  >
  <send>if GetVariable("npc_id")=="ding peng" then 
  SetVariable("refresh_dingpeng",1)
end

if (GetVariable("class")=="sq" and GetVariable("mission")=="1") then
  SetVariable("tty_result",0)
end</send>
  </trigger>
  <trigger
   group="tri_sq"
   match="^[&gt; ]*你喃喃地念了几句咒语。$"
   regexp="y"
   send_to="12"
   sequence="98"
  >
  <send>-- 召唤天兵鬼卒，数量加1
SetVariable("sq_ci",tonumber(GetVariable("sq_ci"))+1)</send>
  </trigger>
  <trigger
   group="player_list"
   match="(♂|♀).*?\(([^\(\)]*?)\)\s*\**\#*\s*(♂|♀).*?\(([^\(\)]*?)\)"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>local player_list = GetVariable("player_list")
if player_list == "" then
  player_list = "%2"
  player_list = player_list .. "|" .. "%4"
else
  player_list = player_list .. "|" .. "%2"
  player_list = player_list .. "|" .. "%4"
end
SetVariable("player_list", player_list)</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^  \S* \((.+)\)\s*：\s*(\S*)\s*有效等级：\s*(\d+)$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>--Note("%1,%2,%3")
local skill_list=GetVariable("skill_list_all")
if "%2"~="无" then
&#9;if "%1"=="force" then
&#9;&#9;SetVariable("enableforce","")
&#9;&#9;SetVariable("enableforce",item(skill_list,ismember("%2",skill_list,"|")+1,"|"))
&#9;&#9;if %3/3 &gt;= 150 then
&#9;&#9;&#9;SetVariable("hp_enforce_max", 150)
&#9;&#9;else
&#9;&#9;&#9;SetVariable("hp_enforce_max", GetIntPart(%3/3))
&#9;&#9;end
&#9;elseif "%1"=="iron-cloth" then
&#9;&#9;SetVariable("enableironcloth","")
&#9;&#9;SetVariable("enableironcloth",item(skill_list,ismember("%2",skill_list,"|")+1,"|"))
&#9;elseif "%1"=="animal-training" then
&#9;&#9;SetVariable("enableanimaltraining","")
&#9;&#9;SetVariable("enableanimaltraining",item(skill_list,ismember("%2",skill_list,"|")+1,"|"))
&#9;else
&#9;&#9;SetVariable("enable".."%1",item(skill_list,ismember("%2",skill_list,"|")+1,"|"))
&#9;end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^(.+)痛苦地捂住眼睛，直在地上打滚。$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>--[[统计 hong 的成功率
if ismember(GetVariable("mnpc_name"), "程驹|怜星|南宫平|魏子云|海东青|屠万", "|") == 0 and ismember(GetVariable("area"), "sl|ml|qjl|srz|hsl|dmcs1|dmcs2|dmcs3|dxc|lyz|ls|fycq|hgs|ss|bw|bat", "|") == 0 then
    local hong = GetVariable("dz_hong")
    local hong2 = tonumber(item(GetVariable("dz_hong"), 2, "|")) + 1
    SetVariable("dz_hong", modiitem(hong, 2, "|", hong2))
    Note(string.format("%.2f", hong2/tonumber(item(GetVariable("dz_hong"), 1, "|"))*100).."%")
end
]]--
-- 对象中了hong
SetVariable("pfm","pfm_gmz")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*“恕敝荒茉谡蕉分惺褂谩$"
   regexp="y"
   send_to="10"
   sequence="99"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*但是什麽也没有发生。$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>-- "你喃喃地念了几句咒语。"之后失败的提示，数量减1
--SetVariable("sq_ci",tonumber(GetVariable("sq_ci"))-1)
SetVariable("sq_sm",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dwg"
   match="^[&gt; ]*浓雾似乎在(.+)身边渐渐得浓缩成一个黑影．．．$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>if GetVariable("bianli")=="1" then
    if GetVariable("location")=="无名的空地" and ismember("gdf",GetVariable("path"),";")&gt;0 then
        --如果enable八识则使用灵识
        if GetVariable("enablemagic")=="essencemagic" then
            Execute("axl")
            --如果没八识有手环则装备手环
        elseif GetVariable("item_shouhuan")=="1" then
            Execute("g shouhuan;wear shouhuan;axl;p shouhuan")
        end
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*天(\S\S)神兵说道：末将奉法主(.+)召唤，特来护法！$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>if "%2"==GetVariable("player_name") then
  SetVariable("sq_ci",tonumber(GetVariable("sq_ci"))+1)
  --Note(GetVariable("sq_ci"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*天(\S\S)神兵说道：末将奉法主(.+)召唤，现在已经完成护法任务，就此告辞！$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>if "%2"==GetVariable("player_name") then
  SetVariable("sq_ci",tonumber(GetVariable("sq_ci"))-1)
  --Note(GetVariable("sq_ci"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_mj"
   match="^你将［如意人魔连环八步］六十四式连续施展，围着(\S+)转个不停！$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>if GetVariable("uselhbb")=="1" then
  SetVariable("pfm_lhbb1",tonumber(GetVariable("pfm_lhbb1"))+1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="tri_dwg"
   match="^浓雾立刻消失了．．．$"
   regexp="y"
   send_to="12"
   sequence="99"
  >
  <send>if GetVariable("class")=="dwg" and GetVariable("npc_id")~="" then
  Execute("ju "..GetVariable("npc_id"))
end</send>
  </trigger>
  <trigger
   group="player_list"
   match="(♂|♀).*?\(([^\(\)]*?)\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local player_list = GetVariable("player_list")
if player_list == "" then
  player_list = "%2"
else
  player_list = player_list .. "|" .. "%2"
end
SetVariable("player_list", player_list)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^                (.+)点潜能$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_log",GetVariable("mission_log")..",潜能:"..chs2num("%1").."点")

-- 记录任务总潜能
SetVariable("mission_totalpot",tonumber(GetVariable("mission_totalpot"))+chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^                (.+)点实战经验$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_log",GetVariable("mission_log")..",经验:"..chs2num("%1").."点")

-- 记录任务总经验
SetVariable("mission_totalexp",tonumber(GetVariable("mission_totalexp"))+chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^                (.+)点正义值$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("hp_zhengyi",tonumber(GetVariable("hp_zhengyi"))+chs2num("%1"))
SetVariable("mission_log",GetVariable("mission_log")..",正义值:"..chs2num("%1").."点")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^                (.+)两银子$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_log",GetVariable("mission_log")..",银子:"..chs2num("%1").."两")</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   keep_evaluating="y"
   match="^    (.+)\((.+)\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 用于统计身上物品数量
if GetVariable("rq_type")=="body" then
    SetVariable("item_total",tonumber(GetVariable("item_total"))+1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)粒毒蒺藜\(Tribuli\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type") == "bag" then
    SetVariable("item_tribuli",tonumber(GetVariable("item_tribuli")+chs2num("%1")))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)两黄金\(Gold\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_gold",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)两银子\(Silver\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_silver",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)文钱\(Coin\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_coin",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)张桃符纸\(Paper seal\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
  SetVariable("item_paperseal",chs2num("%1"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)张一百万两银票\(Million\-cash\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_micash",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)张一千两银票\(Thousand\-cash\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_cash",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    (.+)张一万两银票\(Tenthousand\-cash\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_ttcash",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^    \S\S木宝鼎\(Ding\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_ding",tonumber(GetVariable("item_ding"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    \S{8}丹\(Pill\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local dan = tonumber(GetVariable("dan"))
local dan2 = tonumber(GetVariable("dan2"))
local dan_max = tonumber(GetVariable("dan_max"))
local dan_jadebox = tonumber(GetVariable("dan_jadebox"))
local dan_bag = tonumber(GetVariable("dan_bag"))
if GetVariable("rq_type")=="body" then
&#9;-- dan = 身上丹数
&#9;SetVariable("dan", dan + 1)
&#9;-- dan2 = 当前丹数和设定的最大丹数(dan_max)的差额,用于补给时调用.
&#9;SetVariable("dan2", dan_max - (dan + 1))
elseif GetVariable("rq_type")=="jadebox" then
&#9;SetVariable("dan_jadebox", dan_jadebox + 1)
elseif GetVariable("rq_type")=="bag" then
&#9;SetVariable("dan_bag", dan_bag + 1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_island"
   match="^    舱中光线昏暗，船头站着一个白发苍苍的老妇人，她年龄虽已老迈，但站在动$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("area") == "island" then
    Send("jumpto")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_df"
   match="^    此桥桥边便是焦都驿驿，桥和驿站一样，通跨阴阳，左段青天白日，$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  if ismember(GetVariable("mnpc_location"),"焦都驿|储藏室","|")==0 then
    DeleteTimer("temp")
    SetVariable("stop",0)
    DoAfterSpecial(1,"bianli",sendto.execute)
  else
    DoAfterSpecial(2,"e;dash",sendto.execute)
  end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dmcs"
   match="^    地势到这是豁然开朗，你的西边是一望无际的沙漠。狂风在呼哮，漫天黄$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 塞外风光 w
if (GetTimerInfo("temp",6) and GetVariable("area")=="dmcs3") then
  Send("west")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^    对面墙上一大幅山水画，青山碧水，让你觉得心胸为之一宽。$"
   regexp="y"
   sequence="100"
  >
  <send>open hua</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    风灵刃\(Wind dagger\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_dagger",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^    风云客栈的大堂，几张大红木的八仙桌上还镶着云石，墙上挂着各方名家的书$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_location")=="石室" then
  Send("pull 书画")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    红木大柜\(Mugui\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
    SetVariable("item_mugui", tonumber(GetVariable("item_mugui"))+1)
elseif GetVariable("rq_type")=="body" and GetVariable("auto_mission")=="1" then
    Execute("p mugui")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    火摺子\(Lighter\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_lighter",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="box"
   match="^    金箱子\(Gold box\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计箱子数量及金额
SetVariable("box_num",tonumber(GetVariable("box_num"))+1)
SetVariable("box_sum",tonumber(GetVariable("box_sum"))+200000)

-- 当商玉龙在时自动买钥开箱
if GetVariable("keyseller") == "1" then
  Execute("buy gold key from seller;open gold box")
end

if GetVariable("box_destroy") == "1" and GetVariable("priest") == "1" then
  Send("give gold box to priest")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^    空地，乱石，杂草，阴风。海腥味更重了，令人觉得嘴里似乎塞满了盐，又苦$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" and ismember(GetVariable("mnpc_location"),"无名的空地|靠在海边的船|海边","|")==0 then
    SetVariable("stop",1)
    if GetVariable("enablemagic")=="essencemagic" then
        Execute("ls;nl 5000;axl")
        --如果没八识有手环则装备手环
    elseif GetVariable("item_shouhuan")=="1" then
        Execute("g shouhuan;wear shouhuan;nl 5000")
        -- 加延时，防止busy取不出shouhuan
        DoAfterSpecial(1,"axl;p shouhuan",sendto.execute)
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sq"
   match="^    两扇铜钉大门紧紧关着，门的上方挂着一块金匾，匾上龙$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--门开、关的描述不同，此为关门描述
if GetVariable("bianli")=="1" then
  Send("knock door")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    芦花鸡蛋\(Egg\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_egg",tonumber(GetVariable("item_egg"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    芦苇\(Luwei\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
  SetVariable("item_luwei", tonumber(GetVariable("item_luwei"))+1)
elseif GetVariable("rq_type")=="body" then
  SetVariable("get_luwei",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    律香川的情报\(Paper\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_paper",tonumber(GetVariable("item_paper"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qf"
   match="^    弥勒佛为五代僧，名契此，体躯肥满，言语无恒，以杖负布袋立$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="弥勒殿") then
  Send("smile")
  Send("smile")
  Send("smile")
  Send("smile")
  Send("smile")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    南瓜\(Pumpkin\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_pumpkin",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dmcs"
   match="^    你脚下的流沙突然不见，一阵凉爽的微风拂面出来，只见一个小小的湖泊呈现$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 绿洲  e
if (GetTimerInfo("temp",6) and GetVariable("area")=="dmcs3") then
  Send("east")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lyz"
   match="^    你现在正走在一条松树林间的小路，西边有一座小石桥横跨在一条$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" and ismember(GetVariable("mnpc_location"),"松树林|老云寨秘密入口|老云寨外围|老云寨","|")&gt;0 then
  DeleteTimer("temp")
  Execute("w;hold vine;s;s;s;climb cliff;cu;s;set tri 随机走迷宫")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    牛皮酒袋\(Jiudai\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_jiudai", tonumber(GetVariable("item_jiudai"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    清风十三式\(Qing feng book\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="body" then
  Execute("p qing feng book")
end

if GetVariable("rq_type")=="bag" then
  SetVariable("item_qfbook", tonumber(GetVariable("item_qfbook"))+1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    雀翎玉盒\(Jadebox\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
    SetVariable("item_jadebox", tonumber(GetVariable("item_jadebox"))+1)
elseif GetVariable("rq_type")=="body" and GetVariable("auto_mission")=="1" then
    Execute("p jadebox")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    圣笛\(Saint pipe\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_spipe",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yg"
   match="^    四面的墙壁粉刷的象雪洞一样，上面挂满了古今名家的字画。最大的幅山水，排$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_location")~=GetVariable("location") then
  Send("open hua")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^    四面墙壁均是用玉做成，正对着你的是一块极大的玉壁。$"
   regexp="y"
   sequence="100"
  >
  <send>push 玉壁</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    藤萝绳\(Rope\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_rope",tonumber(GetVariable("item_rope",1))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    天蚕金丝袍\(Sky clothes\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_skyclothes", 0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    天师符\(Save\-me sheet\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("location")=="山流密室" or GetVariable("location")=="天宗密室") and GetVariable("rq_type")=="body" then
  Send("put save-me sheet in ding")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="box"
   match="^    铁箱子\(Iron box\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计箱子数量及金额
SetVariable("box_num",tonumber(GetVariable("box_num"))+1)
SetVariable("box_sum",tonumber(GetVariable("box_sum"))+50000)

-- 当商玉龙在时自动买钥开箱
if GetVariable("keyseller") == "1" then
  Execute("buy iron key from seller;open iron box")
end

if GetVariable("box_destroy") == "1" and GetVariable("priest") == "1" then
  Send("give iron box to priest")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    铜哨\(Pipe\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_pipe",1)
if (GetVariable("item_spipe")=="1" or GetVariable("class")=="sq") then
  Send("drop pipe")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="box"
   match="^    铜箱子\(Copper box\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计箱子数量及金额
SetVariable("box_num",tonumber(GetVariable("box_num"))+1)
SetVariable("box_sum",tonumber(GetVariable("box_sum"))+100000)

-- 当商玉龙在时自动买钥开箱
if GetVariable("keyseller") == "1" then
  Execute("buy copper key from seller;open copper box")
end

if GetVariable("box_destroy") == "1" and GetVariable("priest") == "1" then
  Send("give copper box to priest")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    温侯铁手\(Iron\-fist\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_fist",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    无影枪\(Wuying spear\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 杨飞物品 sell for 12gold</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qf"
   match="^    香积厨为禅寺的厨房，供奉的是万紧那罗王，相传曾显化为一火$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="香积厨") then
  Send("push luowang")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^    小路曲曲折折返向山峰，一路上但见青翠的山林中，种满了五彩缤纷的花朵。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--开启CCD触发,自动走到"观月顶"
if (GetVariable("bianli")=="1" and GetVariable("area")=="dq3" and GetVariable("stop")=="0") then
  SetVariable("stop",1)
  EnableTrigger("CCD")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_wm"
   match="^    小木筏\(Boat\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("wm_boat",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    修仙术灵符\(Back seal\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="body" then
  SetVariable("item_backseal", tonumber(GetVariable("item_backseal"))+1)
elseif GetVariable("rq_type")=="bag" then
  SetVariable("item_backseal_bag", tonumber(GetVariable("item_backseal_bag"))+1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hd"
   match="^    悬崖顶上，一望无际。向东望去，便是连绵的大海。和在高山看日出$"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    羊皮酒袋\(Wineskin\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_wineskin",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    野果\(Ye guo\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_yeguo", tonumber(GetVariable("item_yeguo"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^    夜黑风高，四下黑乎乎一片，到了晚上就更不要指望看见什么。你隐约听到银$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 断塔下，晚上
if GetVariable("mnpc_location")~="断塔下" then
  Send("listen")
  Send("enter")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    银花铃\(Silver ring\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local ring=tonumber(GetVariable("item_ring"))
SetVariable("item_ring", ring+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="box"
   match="^    银箱子\(Silver box\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计箱子数量及金额
SetVariable("box_num",tonumber(GetVariable("box_num"))+1)
SetVariable("box_sum",tonumber(GetVariable("box_sum"))+150000)

-- 当商玉龙在时自动买钥开箱
if GetVariable("keyseller") == "1" then
  Execute("buy silver key from seller;open silver box")
end

if GetVariable("box_destroy") == "1" and GetVariable("priest") == "1" then
  Send("give silver box to priest")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    油油的纸\(Youzhi\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="mugui" then
  SetVariable("youzhi_mugui", tonumber(GetVariable("youzhi_mugui"))+1)
elseif GetVariable("rq_type")=="body" then
  SetVariable("youzhi_body", tonumber(GetVariable("youzhi_body"))+1)
elseif GetVariable("rq_type")=="bag" then
  SetVariable("youzhi_bag", tonumber(GetVariable("youzhi_bag"))+1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^    原本就摇摇欲坠的断塔在两大高手的剧斗之下只剩下一片残墙断垣。四周一片$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnc_location")~="断墙边" then
  Send("push 断墙")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    云雾茶\(Tea\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_tea",tonumber(GetVariable("item_tea"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dmcs"
   match="^    这里不但像是已到了沙漠的尽头，简直像是到了天地的尽头。再往$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 石峰群边缘 s
if (GetTimerInfo("temp",6) and GetVariable("area")=="dmcs3") then
  Send("south")
end</send>
  </trigger>
  <trigger
   group="area_dq"
   match="^    这里明显的出口是 (.+) 和 (.+)。$"
   name="CCD"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local area=GetVariable("area")
local bianli=tonumber(GetVariable("bianli"))
local stop=tonumber(GetVariable("stop"))
local mnpc_location=GetVariable("mnpc_location")

if (area=="dq3" and bianli==1 and stop==1 and ismember(mnpc_location,"小路|平台|长阶|观月顶","|")&gt;1) then
  DoAfterSpecial(0.3,"CCDMove ".."%1 ".."%2",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lyz"
   match="^    这里只见一个木头搭成的大门，门框上挂著四、五的不知道是什麽$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("auto_mission")=="1" then
if GetVariable("mnpc_location")=="松树林" then
  Send("west")
else
  DeleteTimer("temp")
  SetVariable("path","e;e;e")
  SetVariable("steps",3)
  SetVariable("step",1)
  SetVariable("bianli",1)
  DoAfterSpecial(1,"bianli",sendto.execute)
end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dmcs"
   match="^    这是一个无边的沙砾地，山势到了这里突然间变的无影无踪。地气极干燥，$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 沉香 荒野 nw
if (GetTimerInfo("temp",6) and GetVariable("area")=="dmcs3") then
  Send("northwest")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^    这是一间卧室，虽然并不富丽堂皇，各样东西却都十分精致得体，靠南是一面屏风，$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="有凤来仪") then
  Send("open pingfeng")
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_hs"
   match="^    这是一片长满灌木的山坡。低矮的树木重重叠叠，无路可行，更看不清后面有$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- "断山坡"北面是"灌木丛"，会摔晕。
if GetVariable("mnpc_location")~=GetVariable("location") then
  Execute("look bush;wield @blade;chop bush;unwield @blade;n")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    租船的契约\(Qiyue\)$"
   regexp="y"
   sequence="100"
  >
  <send>drop qiyue</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^    歙石\(She shi\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_sheshi",tonumber(GetVariable("item_sheshi"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^   霎那间万籁俱寂，你突觉一阵冰冷伤痛涌上心头。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )豹牙手环\(Shouhuan\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_shouhuan",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )风云战甲\(Zhanjia\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
  SetVariable("item_zhanjia",1)
elseif GetVariable("rq_type")=="body" then
  SetVariable("get_zhanjia",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )狼毫笔\(Wolf pen\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_wolfpen",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )老山东的面具\(Shandong skinmask\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
  SetVariable("item_sdmask",1)
elseif GetVariable("rq_type")=="body" then
  SetVariable("get_sdmask",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )冷月面罩\(Yue mask\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_yuemask", tonumber(GetVariable("item_yuemask"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )天蚕金丝袍\(Sky clothes\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_skyclothes",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )圆月弯刀\(Moonblade\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
  SetVariable("item_moonblade", tonumber(GetVariable("item_moonblade"))+1)
elseif GetVariable("rq_type")=="body" then
  SetVariable("get_moonblade",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  (√|  )脏布衣\(Dirty cloth\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("rq_type")=="bag" then
  SetVariable("item_sdcloth",1)
elseif GetVariable("rq_type")=="body" then
  SetVariable("get_sdcloth",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="general"
   match="^  \S+?\(Corpse\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计尸体数量
local corpse_num = GetVariable("corpse_num")
corpse_num = corpse_num + 1
SetVariable("corpse_num",corpse_num)</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_df"
   match="^  「黑面君王」阎王爷\(Death\-god\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DoAfterSpecial(3,"g pumpkin;eat pumpkin;p pumpkin",sendto.execute)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^  「辽东大侠」百里长青\(Baili\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="断塔顶") then
  SetVariable("stop",1)
  DoAfterSpecial(5,"abl",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  √天蚕金丝袍\(Sky clothes\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_skyclothes", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^  √温侯铁手\(Iron\-fist\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_fist",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dwg"
   match="^  被石蛇缠住的恶人像\(Eren\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_location")~=GetVariable("location") then
  Send("touch 恶人像")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^  独行大盗「六亲不认」孤独美\(Gu du mei\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" and GetVariable("area")=="yl" then
    DeleteTimer("temp") -- 删除随机走迷宫
    -- 某些情况下孤独美不会提出帮助要求，直接agree to help。
    -- 如果"yl_gdm_follow"为1即需要follow，"yl_gdm"为0尚未follow
    if GetVariable("yl_gdm_follow")=="1" and GetVariable("yl_gdm")=="0" then
        Send("agree to help")
    end
end</send>
  </trigger>
  <trigger
   group="item"
   match="^  红木大柜\(Mugui\)$"
   name="getmugui"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_mugui")=="0" then
  SetVariable('stop',1)
  Execute('kill monk;kill monk 2')
  DoAfterSpecial(5,'get mugui;open mugui;p   mugui;um',sendto.execute)
  EnableTrigger("getmugui",false)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qf"
   match="^  浑身布满经络图的铜人\(Copperman\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="大雄宝殿") then
  Send("touch mark")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hsl"
   match="^  蒙面人将小娟装入大布袋，向黑松山遁去。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>bianli</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hsl"
   match="^  民女 小娟\(Xiao juan\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="山脚乡田" then
  Send("talk")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^  山流 少主「大头」杨凡\(Yang fan\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("yangfan",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^  少林寺 第二十二代长老「茫为」圆灭\(Master yuan\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("ask_yuanmie")=="1" then
  Execute("aym")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^  无垢山庄 少庄主「侠义无双」连城璧\(Lian\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("lcb",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^  幽灵山庄 第二代弟子 勾魂使者\(Ghost\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("class") ~= "yl" then
    Execute("accept test;tell ghost no face")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^  幽灵山庄 第三代弟子 叶灵\(Ye ling\)$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill ye ling</send>
  </trigger>
  <trigger
   enabled="y"
   group="target"
   match="^ {2,3}((?!\S+「.+)\S+ +)?((?!\S+「.+)\S+ +)?((\S+)?「.+」)?(\S+)\((.+)\)( &lt;\S+&gt;)?$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- Note("1:%1 2:%2 3:%3 4:%4 5:%5 6:%6")
-- 抓取 %5:名字 %6:id

if GetVariable("quest") == "1" then
    if "%5" == GetVariable("qnpc_name") then
        Execute("kk " .. string.lower("%6"))
    end
end

-- 过滤玩家ID，并且非mission期间。
if ismember("%6",GetVariable("player_list"),"|")==0 and ismember("%6",GetVariable("ignore_id_list"),"|")==0 and GetVariable("target_id")=="" and GetVariable("mission")=="0" then
    SetVariable("target_name","%5")
    SetVariable("target_id",string.lower("%6"))
end
-- mission期间寻找MNPC
local mnpc_name=GetVariable("mnpc_name")
local mnpc_id=GetVariable("mnpc_id")
if GetVariable("mission")=="1" and ("%5"==mnpc_name and string.lower("%6")==string.lower(mnpc_id)) and GetVariable("tty")=="0" then
    SetVariable("find",1)
    SetVariable("bianli",0)
    -- 显示用，没实际用途
    SetVariable("target_name","%5")
    SetVariable("target_id",mnpc_id)
    -- 设置npc_id，供pfm对象用
    SetVariable("npc_name","%5")
    if mnpc_name=="胡姥姥" then
        SetVariable("npc_id","hu")&#9;
    else
        SetVariable("npc_id",mnpc_id)
    end
    if mnpc_name=="萧伯贤" and GetVariable("item_yuemask")~="0" then
        Execute("g yue mask;remove all;wear yue mask")
    elseif mnpc_name=="唐无双" and GetVariable("item_ring")~="0" then
        Execute("g silver ring;wakeing tang wushuang;p silver ring")
    elseif mnpc_name=="裴珏" and tonumber(GetVariable("item_yuemask"))&lt;=2 then
        Execute("ask pei jue about 冷月仙子;p yue mask")
    end
    -- 切换到杀mnpc pfm
    if ismember(mnpc_name,GetVariable("calldie_list"),"|")&gt;0 and GetVariable("calldie")=="1" and GetVariable("get_moonblade")=="1" then
        SetVariable("pfm","pfm_yy")
    elseif ismember(mnpc_name,GetVariable("useyy_list"),"|")&gt;0 and GetVariable("useyy")=="1" then
        SetVariable("pfm","pfm_yy")
    elseif ismember(mnpc_name,GetVariable("uselr_list"),"|")&gt;0 and GetVariable("uselr")=="1" then
        SetVariable("pfm","pfm_lr")
    elseif ismember(mnpc_name,GetVariable("useother_list"),"|")&gt;0 and GetVariable("useother")=="1" then
        SetVariable("pfm","pfm_other")
    else
        SetVariable("pfm",GetVariable("mypfm"))
    end
    -- 招杀手
    if GetVariable("fight")=="0" and GetVariable("useding")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("figure_list"),"|")&gt;0 then
        for i=1,tonumber(GetVariable("youzhi_num")) do
            Send("fang youzhi")
            SetVariable("youzhi_sum", tonumber(GetVariable("youzhi_sum"))-1)
        end
    else
        -- 不招杀手
        if GetVariable("fight")=="0" then
            if (ismember(GetVariable("class"),"sq|bat|dwg","|")&gt;0 or GetVariable("org")=="天宗") and (GetVariable("passive_kill")=="0" or (GetVariable("passive_kill")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("passive_list"),"|")==0)) then
                -- 带跟班门派延时1秒下kill。
                if not(GetVariable("master") == "常胜将军" and GetVariable("location") == "八术诛仙阵") then
                    DoAfterSpecial(1,"kk "..GetVariable("npc_id"),sendto.execute)
                end
            else
                if GetVariable("passive_kill")=="1" and GetVariable("mnpc_autokill")=="0" and ismember(mnpc_name,GetVariable("passive_list"),"|")&gt;0 then
                    -- 判断是否使用被动叫杀
                    SetVariable("fight",1)
                    if GetVariable("class")=="dwg" then
                        -- 帝王谷使用血降
                        Send("curse bloodcurse on "..GetVariable("npc_id"))
                    end
                    if GetVariable("player_id")=="lnf" then
                        -- 使用点穴
                        Send("acupoint "..GetVariable("npc_id"))
                    else
                        -- 其它调用变量 passive_skill 指定的技能
                        Execute(GetVariable("passive_skill"))
                    end
                    EnableTimer('pfm')
                else
                    -- 主动叫杀
                    if not(GetVariable("master") == "常胜将军" and GetVariable("location") == "八术诛仙阵") then
                        Execute("kk "..GetVariable("npc_id"))
                    end
                end
            end
        end
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 你的组织是(.+)，首领是(.+)，(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("org", "%1")
if "%1" == "山流" then
    SetVariable("orgout", "eu")
    SetVariable("orgin", "wd")
elseif "%1" == "天宗" then
    SetVariable("orgout", "wu")
    SetVariable("orgin", "ed")
end
</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 你是一位.+族.+岁的(.+)性人类，.+年.+月.+日.+时.+刻生。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- score中抓取性别
SetVariable("gender","%1")</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 你现在共有存款：(.+)文钱。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("bank",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 你现在共有大额存款：(.+)百万两银子。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("bank2",chs2num("%1"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 运气：\s*(\d+) \/\s*(\d+)         定力：\s*(\d+) \/\s*(\d+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- Note("%1,%2,%3,%4")
-- 设置杀气最大控制值
SetVariable("hp_shaqi_max",tonumber("%4")*80)</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 正 义 值： (\d+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("hp_zhengyi",%1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^(.+)目前共学过(.+)种技能：$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 玩家或师父技能列表
SetVariable("skill_num", 2)
SetVariable("skill_next", 0)
if GetVariable("skill_refresh") == "1" then
    SetVariable("skill_list", "")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^(.+)目前所学过的技能：$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 宠物技能列表
SetVariable("skill_num", 2)
SetVariable("skill_next", 0)
if GetVariable("skill_refresh") == "1" then
    SetVariable("skill_list", "")
end</send>
  </trigger>
  <trigger
   group="mnpc"
   match="^(.+)突然神情有了变化，时而伤心，时而肃穆，使出月形门绝学海渊八剑刺向你 ！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^(.+)眼前压力消除，幻象渐散，定下神来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 光明咒技能破精防失效
SetVariable("dz_gmz", 0)
if GetVariable("pfm") ~= "pfm_gmz" then
    SetVariable("pfm", "pfm_gmz")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_mj"
   match="^(\S+)被扰得手忙脚乱，破绽百出！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("uselhbb")=="1" then
  SetVariable("pfm_lhbb2",tonumber(GetVariable("pfm_lhbb2"))+1)
  SetVariable("pfm_lhbb_fail",0)
end
</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="die"
   keep_evaluating="y"
   match="^(\S+)死了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 你死了。
if "%1"=="你" then
    SetVariable("mission_totaldie",tonumber(GetVariable("mission_totaldie")+1))

    local mission_retry=tonumber(GetVariable("mission_retry"))+1
    if mission_retry&gt;2 then
        SetVariable("mission_retry",0)
        SetVariable("mission_cancel",1)
    else
        SetVariable("mission_retry",mission_retry)
    end
    SetVariable("dan",0)
    SetVariable("item_backseal",0)
    SetVariable("usedan",0)
    SetVariable("bianli",0)
    SetVariable("find",0)
    SetVariable("stop",0)
    SetVariable("fight",0)
    if GetVariable("area")=="ml" and GetVariable("mission_retry")~="0" then
        SetVariable("manglin","北")
    else
        SetVariable("manglin","")
    end
    SetVariable("manglin_dir","")
    SetVariable("get_mugui",0)
    SetVariable("get_moonblade",0)
    SetVariable("get_sdmask",0)
    SetVariable("get_sdcloth",0)
    SetVariable("get_zhanjia",0)
    SetVariable("get_yuemask",0)
    SetVariable("get_luwei",0)
    SetVariable("get_ring",0)

    --死亡记录
    writefile("die_"..GetVariable("player_id")..".txt",os.date("%Y-%m-%d %H:%M:%S", os.time())..","..GetVariable("mission_log"))

    -- 自动复活
    if GetVariable("auto_revive")=="1" then
    local money=""
    if tonumber(GetVariable("item_coin"))&gt;=100 then
        money="coin"
    elseif tonumber(GetVariable("item_silver"))&gt;=1 then
        money="silver"
    elseif tonumber(GetVariable("item_gold"))&gt;=1 then
        money="gold"
    elseif tonumber(GetVariable("item_cash"))&gt;=1 then
        money="cash"
    elseif tonumber(GetVariable("item_ttcash"))&gt;=1 then
        money="ttcash"
    end
    --DoAfterSpecial(60,"Execute('e;e;g "..money..";buy jiudai from max;drink jiudai;drop jiudai;drop cloth;pm')",sendto.script)
    --DoAfterSpecial(60,"hp;g jiudai;drink jiudai;drop jiudai;drop cloth",sendto.execute)
    --DoAfter(63,"north")
    SetVariable("revive_num",0)
    SetVariable("die",1)
    --DoAfterSpecial(60,"Execute('e;e');EnableTimer('revive')",sendto.script)
    EnableTimer("pfm",false)
    AddTimer("temp",0,0,5,"go east;set tri 死亡",timer_flag.Temporary+timer_flag.Replace,"")
    SetTimerOption("temp","send_to",10)
    SetTimerOption("temp","enabled",1)
    end
end

-- 保存死者名字
local corpse_name="%1"
local corpse_list=GetVariable("corpse_list")
local kill_name=GetVariable("kill_name")
local mnpc_name=GetVariable("mnpc_name")

if "%1"=="胡英" then
    SetVariable("refresh_huying",1)
elseif "%1"=="丁鹏" then
    SetVariable("refresh_dingpeng",1)
elseif "%1"=="商玉龙" then
    SetVariable("refresh_seller",1)
elseif "%1"=="南宫十一郎" then
    SetVariable("refresh_shiyi",1)
end

if string.find("%1", "说道：")==nil and string.find("%1", "【") == nil then
    SetVariable("corpse_name", corpse_name)
    if corpse_list=="" then
        SetVariable("corpse_list",corpse_name)
    else
        SetVariable("corpse_list",corpse_list.."|"..corpse_name)
    end
    --Note(GetVariable("corpse_list"))
    --查看尸体
    if GetVariable("auto_lookcorpse")=="1" then
        Send("look corpse")
    end
    -- 统计尸体数量
    local corpse_num = GetVariable("corpse_num")
    corpse_num = corpse_num + 1
    SetVariable("corpse_num",corpse_num)
end

-- 清空 npc_id 取消 pfm 指定对象
if corpse_name==kill_name then  -- 死者为主动叫杀对象
    SetVariable("npc_id","")
elseif corpse_name==mnpc_name then  -- 死者为任务对象
    SetVariable("npc_id","")
elseif mnpc_name == "无须老人" and GetVariable("passive_kill") == "0" then
&#9;local list = "无目老人|wumu oldman|独右老人|ydubei oldman|独左老人|zdubei oldman|无右老人|ywutui oldman|无左老人|zwutui oldman|聋哑老人|longya oldman|无须老人|wuxu oldman"
&#9;local mnpc_wx = GetVariable("mnpc_wx")
&#9;mnpc_wx = delitem(mnpc_wx, item(list, ismember(corpse_name, list, "|") + 1, "|"), "|")
&#9;SetVariable("npc_id", item(mnpc_wx, 1, "|"))
&#9;SetVariable("mnpc_wx", mnpc_wx)
&#9;Note(mnpc_wx)
end

--
if corpse_name=="银花娘" and tonumber(GetVariable("item_ring"))&lt;=2 then
    DoAfterSpecial(2,"gc silver ring;p silver ring",sendto.execute)
elseif corpse_name=="宫九" and mnpc_name=="宫九" then
    DoAfterSpecial(3,"gc ttcash;p ttcash",sendto.execute)
elseif corpse_name=="李燕北" and mnpc_name=="李燕北" then
    DoAfterSpecial(3,"gc gold;p gold",sendto.execute)
elseif corpse_name=="唐无双" and mnpc_name=="唐无双" then
    DoAfterSpecial(3,"gc tribuli;p tribuli",sendto.execute)
elseif corpse_name=="唐无影" and mnpc_name=="唐无影" then
    DoAfterSpecial(3,"gc tribuli;p tribuli",sendto.execute)
elseif corpse_name=="唐傲" and mnpc_name=="唐傲" then
    --DoAfterSpecial(3,"gc 解药;p 解药",sendto.execute)
elseif corpse_name=="梅吟雪" and mnpc_name=="梅吟雪" then
    DoAfterSpecial(3,"jd",sendto.execute)
elseif corpse_name=="龙五" then
    DoAfterSpecial(3,"gc ttcash;gc cang qiong;out;w;s;e;sell cang qiong;p ttcash;p cash;p cang qiong;Return",sendto.execute)
    SetVariable("refresh_longwu",1)
elseif corpse_name=="顾青枫" then
    DoAfterSpecial(3,"gc tribuli;p tribuli;Return",sendto.execute)
    SetVariable("refresh_guqingfeng",1)
elseif corpse_name=="老赵" and GetVariable("robot_tangqing")=="1" then
    DoAfterSpecial(3,"e;whisper lady 你不是女人;ask tie monk about 少林寺;kk tang qing",sendto.execute)
elseif corpse_name=="唐青" then
    DoAfterSpecial(3,"gc tribuli;p tribuli;Return",sendto.execute)
    SetVariable("refresh_tangqing",1)
elseif corpse_name=="巡逻士兵" and GetVariable("item_zhanjia")=="0" then
    DoAfterSpecial(3,"gc zhanjia;p zhanjia;Return",sendto.execute)
elseif corpse_name=="丁鹏" and GetVariable("calldie")=="1" and tonumber(GetVariable("item_moonblade"))&lt;3 then
    DoAfterSpecial(3,"gc moonblade;p moonblade",sendto.execute)
end
if GetVariable("getcorpse")=="1" and ismember(corpse_name,GetVariable("mnpc_list"),"|")&gt;0 then
    DoAfter(2,"get corpse")
end

-- 任务完成4秒后返回
if "%1"==GetVariable("mnpc_name") or ("%1"=="吕迪" and GetVariable("mnpc_name")=="多儿甲") then
    if GetVariable("class")=="dwg" and GetVariable("usejw")=="1" and ismember(mnpc_name,"怜星|程驹|无须老人|风入松|金花娘|郭灭|金童|胡姥姥|萧伯贤","|")==0 then
        SetVariable("pfm","pfm_jw")
    end
    SetVariable("find",0)
    SetVariable("mission",0)
    --EnableTimer("mtime",false)
    --SetVariable("mission_retry",0)
    SetVariable("target_die", 1)
    if GetVariable("master") == "常胜将军" and GetTimerInfo("pfm",6)==false then
        Execute("pfm")
    end
    Execute("Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^(\s\s|＊)(\S+) \((.+)\)\s+\- \S+\s*(\d+)\/\s*(\d+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--Note("中文技能名:%2,英文技能名:%3,等级:%4,熟练度:%5")
if GetVariable("skill_refresh") == "1" then
    local skill_list=GetVariable("skill_list")
    local skill_list_all=GetVariable("skill_list_all")
    if skill_list=="" then
        SetVariable("skill_list",skill_list.."%2|%3|%4")
    else
        SetVariable("skill_list",skill_list.."|%2|%3|%4")
    end
    if ismember("%3",skill_list_all,"|")==0 then
        SetVariable("skill_list_all","%2|%3|1|"..skill_list_all)
    end
end
SetVariable("skill_name","%3")
SetVariable("skill_level","%4")</send>
  </trigger>
  <trigger
   group="team"
   match="^.+\((.+)\)告诉你：qqfy$"
   regexp="y"
   sequence="100"
  >
  <send>team with %1</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^.+必须配合(.+)才能练.*。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if ismember("%1", GetVariable("skill_list"), "|") &gt; 0 then
    Send("enable force "..item(GetVariable("skill_list"), ismember("%1", GetVariable("skill_list"), "|")+1, "|"))
elseif "%1" == "太极内功心法" then
    Send("enable force taijiforce")
else
    SetVariable("skill_next",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="general"
   match="^.?.?你从.*尸\S*身上搜出一件布衣。$"
   regexp="y"
   sequence="100"
  >
  <send>drop cloth</send>
  </trigger>
  <trigger
   enabled="y"
   group="die"
   match="^[ &gt;]*你要对谁耳语？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="焦都驿" then
  EnableTimer("revive",false)
  Execute("hp;g jiudai;drink jiudai;drop jiudai;drop cloth")
  DoAfterSpecial(3,"north;Return",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]* （你血脉不畅，真气受滞，一时竟然不能念咒文。）$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 封印perform cast conjure，胡姥姥的啄冰取火有类似特效，但特效结束不会有提示。
if GetVariable("mnpc_name")~="胡姥姥" then
  SetVariable("mnpc_clzx",1)
end
if GetVariable("class")=="by" then
  Execute("exert wind")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]* （你血脉不畅，真气受滞，一时竟然不能施展神通。）$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 封印perform cast conjure，胡姥姥的啄冰取火有类似特效，但特效结束不会有提示。
if GetVariable("mnpc_name")~="胡姥姥" then
  SetVariable("mnpc_clzx",1)
end
if GetVariable("class")=="by" then
  Execute("exert wind")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]* （你血脉不畅，真气受滞，一时竟然运不起外功。）$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 封印perform cast conjure，胡姥姥的啄冰取火有类似特效，但特效结束不会有提示。
if GetVariable("mnpc_name")~="胡姥姥" then
  SetVariable("mnpc_clzx",1)
end
if GetVariable("class")=="by" then
  Execute("exert wind")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="chat"
   match="^[&gt; ]*(.+)\((.+)\)告诉你：(.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if ismember("%2",GetVariable("id_list"),"|")&gt;0 or ismember("everyone",GetVariable("id_list"),"|")&gt;0 then
  Execute("%3")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*(.+)的现钱已经不够了．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("auto_mission")=="1" then
    if GetVariable("location")=="南宫钱庄" then
        Execute("kill shiyi")
    elseif GetVariable("location")=="中央广场" then
        Execute("kk nangong riyue")
    elseif GetVariable("location")=="沉香南宫" then
        Execute("kill nangong")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dxc"
   match="^[&gt; ]*(.+)喝道，什么人敢私闯青龙会，拿命来！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_name="%1"
local dxc_npc = GetVariable("dxc_npc")
if (GetVariable("bianli")=="1" and GetVariable("find")=="0" and GetVariable("fight")=="0" and ismember(npc_name,dxc_npc,"|")&gt;0) then
  local npc_id=item(dxc_npc,ismember(npc_name,dxc_npc,"|")+1,"|")
  Execute("Rush "..npc_id)
end</send>
  </trigger>
  <trigger
   group="escape"
   match="^[&gt; ]*(.+)祭起一张修仙术灵符，手指掐诀，口中默念，忽然化作一股青烟了 \.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- useseal 提示，到生效期间有延时
if GetVariable("player_name")=="%1" then

end
</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*(.+)连忙转过头去，不看你。$"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   group="area_dxc"
   match="^[&gt; ]*(.+)闪身挡住了你的路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local dxc_npc=GetVariable("dxc_npc")
local npc_id=item(dxc_npc,ismember("%1",dxc_npc,"|")+1,"|")
Execute("Rush "..npc_id)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*(.+)神色间似乎对你不是十分信任，也许是想起你从前离婚的事情\.\.\.。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*(.+)是只有(.+)才能练的武功。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*(.+)往(.+)离开。$"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   group="area_ss"
   match="^[&gt; ]*(.+)用火摺子点燃了墙壁上的灯。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 自己点灯和玩家点灯描述相同
if GetVariable("bianli") == "1" and GetVariable("area") == "ss2" then
    DeleteTimer("temp")
    SetVariable("stop",0)
    Send("look")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*(.+)走了过来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mission")=="1" and GetVariable("mnpc_name")=="%1" then
    SetVariable("find",1)
    SetVariable("pfm",GetVariable("mypfm"))
    Execute("kk "..GetVariable("mnpc_id"))
end</send>
  </trigger>
  <trigger
   custom_colour="5"
   enabled="y"
   group="location"
   keep_evaluating="y"
   match="^[&gt; ]*(.\S+)\s+\- $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 当前位置
--Note("|%1|")

SetVariable("corpse_order",1)
local orgin = GetVariable("orgin")

if GetVariable("area")=="yl" and GetVariable("mnpc_location")=="原始丛林" then
    SetVariable("yl_go",1)  -- 幽灵follow孤独美判断是否go
end
-- 当quit重新登录时，继续任务
if GetVariable("login")=="1" and GetVariable("auto_mission")=="1" then
  EnableTimer("mtime",false)
  if "%1"=="天主教堂" then
    Note("登录位置“天主教堂”，自动任务启动！")
    DoAfterSpecial(3,"w;n;"..orgin..";sm;Return",sendto.execute)
  elseif "%1"=="宝塔" then
    Note("登录位置“大召宝塔”，自动任务启动！")
    DoAfterSpecial(3,"bianli('e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;s;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;s;"..orgin..";sm;Return')",sendto.script)
  end
end
if ismember("%1", "山流密室|天宗密室", "|") == 0 then
    if "%1" ~= "山流密室" then
        SetVariable("yangfan", 0)
    end
    if "%1" ~= "天宗密室" then
        SetVariable("lcb", 0)
    end
else
    SetVariable("target_die", 0)
    if GetVariable("login")=="1" and GetVariable("auto_mission")=="1" then
        SetVariable("login",0)
        DoAfterSpecial(2,"um",sendto.execute)
    end
        SetVariable("pfm",GetVariable("mypfm"))
end

SetVariable("corpse_list","")

-- 每到一个地方重置跟班数量为0
SetVariable("tz_guard",0)
SetVariable("ct_guard",0)
SetVariable("sq_immortal",0)
SetVariable("bat_bat",0)
local bianli=tonumber(GetVariable("bianli"))
local area=GetVariable("area")
local flag=tonumber(GetVariable("flag"))

if GetVariable("tty")=="0" then
  SetVariable("location","%1")
else
  SetVariable("mnpc_location","%1")
end
SetVariable("target_name","")
SetVariable("target_id","")
SetVariable("corpse_num",0)
SetVariable("xg_drift_sum",0)

-- 设置重复标志,"河边小路"共有3个.
if (bianli==1 and area=="lw" and "%1"=="河边小路") then
  SetVariable("flag",flag+1)
end
if (bianli==1 and area=="lw" and flag&gt;0 and ("%1"=="峡谷口" or "%1"=="土路")) then
-- "河边小路"走完,取消重复标志.
  SetVariable("flag",0)
  Execute("StepForward")
end

-- 蝙蝠岛重复位置
if (bianli==1 and (area=="dq3" or area=="bat" or area=="island") and ("%1"=="小路" or "%1"=="山中小路" or "%1"=="平原路")) then
  SetVariable("flag",flag+1)
end
if (bianli==1 and (area=="dq3"  or area=="bat" or area=="island") and flag&gt;0 and ("%1"=="海边路")) then
-- 取消重复标志.
  SetVariable("flag",0)
  Execute("StepForward")
  Execute("StepForward")
end

-- 蝙蝠岛重复位置
if (bianli==1 and area=="by" and ("%1"=="林中小路" or "%1"=="平原路")) then
  SetVariable("flag",flag+1)
end
if (bianli==1 and area=="by" and flag&gt;0 and ("%1"=="南海大道")) then
-- 取消重复标志.
  SetVariable("flag",0)
  Execute("StepForward")
  Execute("StepForward")
end

if (bianli==1 and area=="dq3" and ("%1"=="观月顶")) then
-- 取消重复标志.
  SetVariable("bianli",0)
  SetVariable("stop",0)
  SetVariable("flag",0)
  EnableTrigger("CCD",false)
end

-- 大旗重复位置
if (bianli==1 and area=="dq1" and "%1"=="小路") then
  SetVariable("flag",flag+1)
end
if (bianli==1 and area=="dq1" and flag&gt;0 and ("%1"=="危崖前")) then
-- 取消重复标志.
  SetVariable("flag",0)
  Execute("StepForward")
end

-- 藏北3重复位置
if (bianli==1 and area=="zb3" and "%1"=="大漠") then
  SetVariable("flag",flag+1)
end
if (bianli==1 and area=="zb3" and flag&gt;0 and ("%1"=="阳关古址")) then
-- 取消重复标志.
  SetVariable("flag",0)
  Execute("StepForward")
end

-- 山西重复位置
if (bianli==1 and area=="sx" and "%1"=="风云道") then
  SetVariable("flag",flag+1)
end
if (bianli==1 and area=="sx" and flag&gt;0 and ("%1"=="南北大道")) then
-- 取消重复标志.
  SetVariable("flag",0)
  Execute("StepForward")
end

-- 离开玉龙珠宝店即设置keyseller为0
if "%1" == "玉龙珠宝店" then
  SetVariable("keyseller",1)
elseif "%1" == "天主教堂" then
  SetVariable("priest", 1)
else
  SetVariable("priest", 0)
  SetVariable("keyseller",0)
end

-- 每到一个地点设置倒计时1分钟
  SetTimerOption("bianli","hour",0)
  SetTimerOption("bianli","minute",1)
  SetTimerOption("bianli","second",0)

-- 遍历
if bianli==1 then
  if flag&gt;0 then
    Execute("StepBack")
  end
  local wait = tonumber(GetVariable("wait"))
  DoAfterSpecial(wait,"bianli",sendto.execute)
end

--[[ 保存潜能
local qianneng=tonumber(GetVariable("hp_qianneng"))
if ("%1"=="风云天下" and GetVariable("mission")=="1" and qianneng&gt;0) then
  Send("enhancesave "..qianneng)
end
]]--</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*(\S+)对你道：没有方丈的亲笔手谕不得上楼！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*(\S+)喝道\:贼子止步\!$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*(\S+)向你拱手道：没有游山牌，非少林弟子不可入内！！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*(\S\S)阴鬼卒说道：末将奉法主(.+)召唤，特来护法！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%2"==GetVariable("player_name") then
  SetVariable("sq_ci",tonumber(GetVariable("sq_ci"))+1)
  --Note(GetVariable("sq_ci"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*(\S\S)阴鬼卒说道：末将奉法主(.+)召唤，现在已经完成护法任务，就此告辞！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%2"==GetVariable("player_name") then
  SetVariable("sq_ci",tonumber(GetVariable("sq_ci"))-1)
  --Note(GetVariable("sq_ci"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_bat"
   match="^[&gt; ]*(\S\S\S\S)蝙蝠扑哧扑哧地飞了过来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计蝙蝠数量
SetVariable("bat_bat",tonumber(GetVariable("bat_bat"))+1)
if (GetVariable("class")=="bat" and GetVariable("bat_bat")=="1" and GetVariable("fight")=="1") then
  if GetVariable("area")=="qs" then
  -- 避免robot唐青时杀老赵误触发
  Note("noop")
  elseif (ismember(GetVariable("mnpc_name"),"阎铁珊|霍休","|")&gt;0 or (GetVariable("passive_kill")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("passive_list"),"|")&gt;0))then 
  Note("noop")
  else
    Send("kill "..GetVariable("npc_id"))
  end
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_khl"
   match="^[&gt; ]*(\S{4})骑伸手拦住你的去路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%1"=="方心" then Execute("Rush fang xinqi")
  elseif "%1"=="孙驰" then Execute("Rush sun chiqi")
    elseif "%1"=="李义" then Execute("Rush li yiqi")
&#9;  elseif "%1"=="王侠" then Execute("Rush wang xiaqi") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^[&gt; ]*(\S{6,8})说：“此山是我开，此\S\S是我栽，要打此路过，留下买路钱！”$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("%1")
if GetVariable("bianli")=="1" then
  Execute("StepBack")
  Execute("kill baimian langzhong;kill tu laohu;kill one eye")
  Execute("kill bandit;kill bandit 2;kill bandit 3")
  Execute("pfm")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*.+以嘲笑的目光望着你。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   group="mission"
   match="^[&gt; ]*\S+回答你：(.+) \-$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>EnableTimer("tty",false)

local location="%1"

if GetVariable("auto_mission")=="1" then
-- 地下城
local area="dxc"
Execute("getpath "..location.." "..area)

-- 大召寺
if GetVariable("path")=="" then
  area="dz"
  Execute("getpath "..location.." "..area)
 end

-- 杀人庄
if GetVariable("path")=="" then
  area="srz"
  Execute("getpath "..location.." "..area)
end
 
-- 狼山
if GetVariable("path")=="" then
  area="ls"
  Execute("getpath "..location.." "..area)
end

-- 风云周边
if GetVariable("path")=="" then
  area="fyzb"
  Execute("getpath "..location.." "..area)
end

-- 秋水夫人
if GetVariable("path")=="" then
  area="qs"
  Execute("getpath "..location.." "..area)
end

SetVariable("area",area)
SetVariable("mnpc_location",location)

-- 记录任务
SetVariable("mission_log",GetVariable("mission_log")..","..chs_area(GetVariable("area"))..":"..GetVariable("mnpc_location"))

-- 判断是否calldie对象
if (GetVariable("item_moonblade")~="0" and GetVariable("calldie")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("calldie_list"),"|")&gt;0) then
  Execute("g moonblade")
end

-- 白云使用exert wind
if GetVariable("class")=="by" and ismember(GetVariable("mnpc_name"),"路小佳|宫锦弼","|")&gt;0 then
    Execute("g zhanjia;wear zhanjia")
end

-- 出发
Execute("doit")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*\S+回答你：(.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("auto_mission") == "1" then
    local strlen = string.len("%1")
    local list = string.lower("%1")
    local area = ""
    if string.sub("%1", strlen - 1, strlen) == " -" then  -- 取得地点名
        SetVariable("mnpc_location", string.sub("%1", 1, strlen - 2))  -- 保存地点名到 mnpc_location
    elseif "%1" == "不一样，如果在海面看日出，分外能感觉到那种破土而出的新生。海风迎" then  -- 海岛区域
        SetVariable("area", "island")
    elseif string.find(list, GetVariable("mnpc_name")) and string.find(list, string.lower(GetVariable("mnpc_id"))) then  -- 比较是否任务对象
        EnableTimer("tty", false)
        location = GetVariable("mnpc_location")  -- 是任务对象，开始遍历搜索区域、地点
        if GetVariable("area") == "island" then  -- 海岛区域
            area = "island"
            Execute("getpath "..location.." "..area)
        else  -- 地下城
            area = "dxc"
            Execute("getpath "..location.." "..area)
        end
        if GetVariable("path") == "" then  -- 大召寺
            area = "dz"
            Execute("getpath "..location.." "..area)
        end
        if GetVariable("path") == "" then  -- 杀人庄
            area = "srz"
            Execute("getpath "..location.." "..area)
        end
        if GetVariable("path") == "" then  -- 狼山
            area = "ls"
            Execute("getpath "..location.." "..area)
        end
        if GetVariable("path") == "" then  -- 风云周边
            area = "fyzb"
            Execute("getpath "..location.." "..area)
        end
        if GetVariable("path") == "" then  -- 秋水夫人
            area = "qs"
            Execute("getpath "..location.." "..area)
        end
        SetVariable("area", area)  -- 保存区域名到 area
        -- 记录任务
        SetVariable("mission_log", GetVariable("mission_log")..","..chs_area(GetVariable("area"))..":"..GetVariable("mnpc_location"))
        -- 判断是否calldie对象
        if GetVariable("item_moonblade") ~= "0" and GetVariable("calldie") == "1" and ismember(GetVariable("mnpc_name"), GetVariable("calldie_list"), "|") &gt; 0 then
            Execute("g moonblade")
        end
        -- 白云使用exert wind
        if GetVariable("class")=="by" and ismember(GetVariable("mnpc_name"), "路小佳|宫锦弼", "|") &gt; 0 then
            Execute("g zhanjia;wear zhanjia")
        end
        -- 出发
        Execute("doit")
    elseif "%1" == "什么也没看到！" then  -- 杀人庄"厢房"
        EnableTimer("tty", false)
        area = "srz"
        location = "厢房"
        Execute("getpath "..location.." "..area)
        SetVariable("area", area)  -- 保存区域名到 area
        -- 记录任务
        SetVariable("mission_log", GetVariable("mission_log")..","..chs_area(GetVariable("area"))..":"..GetVariable("mnpc_location"))
        -- 判断是否calldie对象
        if GetVariable("item_moonblade") ~= "0" and GetVariable("calldie") == "1" and ismember(GetVariable("mnpc_name"), GetVariable("calldie_list"), "|") &gt; 0 then
            Execute("g moonblade")
        end
        -- 白云使用exert wind
        if GetVariable("class")=="by" and ismember(GetVariable("mnpc_name"), "路小佳|宫锦弼", "|") &gt; 0 then
            Execute("g zhanjia;wear zhanjia")
        end
        -- 出发
        Execute("doit")
    end
end</send>
  </trigger>
  <trigger
   group="mission"
   match="^[&gt; ]*\S+回答你：什么也没看到！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>EnableTimer("tty",false)

if GetVariable("auto_mission")=="1" then
-- 杀人庄"厢房"
local area="srz"
local location="厢房"
Execute("getpath "..location.." "..area)

SetVariable("area",area)
SetVariable("mnpc_location",location)

-- 记录任务
SetVariable("mission_log",GetVariable("mission_log")..","..chs_area(GetVariable("area"))..":"..GetVariable("mnpc_location"))

-- 判断是否calldie对象
if (GetVariable("item_moonblade")~="0" and GetVariable("calldie")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("calldie_list"),"|")&gt;0) then
  Execute("g moonblade")
end

-- 出发
Execute("doit")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*\S\S蚂蚁双手一拦，哼的一声，“富贵山庄里还藏着那该死的燕七，$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush ant</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*\S\S小\S\S回头扫视了在场所有人。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计天宗随从数量
SetVariable("tz_guard",tonumber(GetVariable("tz_guard"))+1)
local mnpc_name=GetVariable("mnpc_name")
if GetVariable("org")=="天宗" and GetVariable("fight")=="1" and GetVariable("tz_guard")=="1" then
    if GetVariable("area")=="qs" then
        -- 避免robot唐青时杀老赵误触发
        Note("noop")
    elseif ismember(mnpc_name,"阎铁珊|霍休","|")&gt;0 or (GetVariable("passive_kill")=="1" and ismember(mnpc_name,GetVariable("passive_list"),"|")&gt;0) then
        Note("noop")
    else
        Send("kill "..GetVariable("npc_id"))
        if mnpc_name=="程驹" then
            Send("kill pan jin")
        elseif mnpc_name=="怜星" then
            Send("kill yao yue")
        end
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_ct"
   match="^[&gt; ]*\S\S小\S\S走了过来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计朝廷护卫数量
SetVariable("ct_guard",tonumber(GetVariable("ct_guard"))+1)
local mnpc_name=GetVariable("mnpc_name")
if GetVariable("class")=="ct" and GetVariable("fight")=="1" and GetVariable("ct_guard")=="1" then
    if GetVariable("area")=="qs" then
        -- 避免robot唐青时杀老赵误触发
        Note("noop")
    elseif ismember(mnpc_name,"阎铁珊x|霍休x","|")&gt;0 or (GetVariable("passive_kill")=="1" and ismember(mnpc_name,GetVariable("passive_list"),"|")&gt;0) then
        Note("noop")
    elseif GetVariable("location") == "八术诛仙阵" then
        Note("noop")
    else
        if GetVariable("master") == "常胜将军" then  -- 不叫杀，避免进阵前的 KILL 指令延时到进阵后，导致产生危险。
            Note("noop")
        else
            Send("kill "..GetVariable("npc_id"))
            if mnpc_name=="程驹" then
                Send("kill pan jin")
            elseif mnpc_name=="怜星" then
                Send("kill yao yue")
            end
        end
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*\S\S之元神忽然出现。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计元神数量
SetVariable("sq_immortal",tonumber(GetVariable("sq_immortal"))+1)
if (GetVariable("class")=="sq" and GetVariable("sq_immortal")=="1" and GetVariable("fight")=="1") then
  if GetVariable("area")=="qs" then
  -- 避免robot唐青时杀老赵误触发
  Note("noop")
  elseif (ismember(GetVariable("mnpc_name"),"阎铁珊|霍休","|")&gt;0 or (GetVariable("passive_kill")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("passive_list"),"|")&gt;0))then 
  Note("noop")
  else
    Send("kill "..GetVariable("npc_id"))
  end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*“呢”只能在战斗中使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^[&gt; ]*“新娘正在上装，非礼勿视”，几个喜娘推推搡搡的把你赶了出来．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("mnpc_location")=="百花宫" and GetVariable("find")=="1" and GetVariable("mission")=="1") then
  DoAfterSpecial(3,"Execute('n;kk '..GetVariable('mnpc_id'))",sendto.script)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*「.+」只能对战斗中的对手使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*「.+」只能在战斗中使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="chat"
   keep_evaluating="y"
   match="^[&gt; ]*【(.+)】(.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local list = {")开宝箱", "(Tufei)", "(Biao tou)", "的境界。"}
local j = 0
for _, k in pairs(list) do
    if string.find("%2", k) then
        j = 1
    end
end
if j == 0 then
    if "%1" == "传闻" and string.find("%2", "死了。") then
        writefile("chat_"..GetVariable("player_id")..".txt", os.date("%Y-%m-%d %H:%M:%S", os.time()))  -- 如果是死亡传闻，记录死亡时间
    end
    if "%1" ~= "传闻" then
        local chat = GetVariable("chat")
        local len1 = string.len(chat)
        local chat2 = "【".."%1".."】".."%2"
        local len2 = string.len(chat2)
        if len1 + len2 &gt;= 170 then
            chat = chat2..string.sub(chat, 1, 170 - len2)
        else
            chat = chat2..chat
        end
        SetVariable("chat", chat)
        InfoClear()
        Info(chat)
    end
    writefile("chat_"..GetVariable("player_id")..".txt", "【".."%1".."】".."%2")  -- 记录聊天频道内容
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="box"
   keep_evaluating="y"
   match="^[&gt; ]*【传闻】(.+)\((.+)\)开宝箱得到了(\d+)点(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%2"==GetVariable("player_id") then
    SetVariable("box_total",tonumber(GetVariable("box_total"))+1)
    if "%4"=="潜能" then
        SetVariable("box_pot",tonumber(GetVariable("box_pot"))+"%3")
    elseif "%4"=="实战经验" then
        SetVariable("box_exp",tonumber(GetVariable("box_exp"))+"%3")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="uptime"
   match="^[&gt; ]*【传闻】黑白二道似乎又再蠢蠢欲动，平静已久的江湖，转眼已是风声鹤唳。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 刷新
SetVariable("timer", 0)
SetVariable("ask_guard",tonumber(GetVariable("ask_guard"))+1)
Execute("RefreshNPCOBJ")

-- 修正 uptime 时间
Execute("uptime;set tri fix uptime")
-- 自动存盘
if GetVariable("auto_save")=="1" then
    if GetVariable("auto_mission") == "1" then
        SetVariable("save", 1)
    else
        Send("save")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*［.+］只能对战斗中的对手使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_bat"
   match="^[&gt; ]*［灭天刀］只能从［十万神魔］一式中变化而来！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("pfm","pfm_swsm")
if GetVariable("fight")=="1" then
  Execute("pfm_swsm")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hgs"
   match="^[&gt; ]*白\S\S说道：请留步！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill bai huan
Rush bai hong</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^[&gt; ]*白虎狂笑道：哪里跑！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush bai hu</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hs"
   match="^[&gt; ]*白色幔帐垂下挡住了去路。$"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^[&gt; ]*白羊狂笑道：哪里跑！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush bai yang</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^[&gt; ]*白衣壮汉说：“三堂主今天有重要客人，闲杂人等，不准入内。”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush white man
kill white man 2</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^[&gt; ]*百里长青大袖一挥，一股柔和的劲风将你从塔顶送出，缓缓落下。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--百里安全送出
SetVariable("stop",0)
Execute("StepForward")
Send("drop note")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dz"
   match="^[&gt; ]*班察巴那冷笑一声道：尔等凡夫俗子，怎配踏入我圣母雪峰半步，除$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush bancha bana</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qf"
   match="^[&gt; ]*北面墙上的暗门又无声无息的合上了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="弥勒殿") then
  Send("smile")
  Send("smile")
  Send("smile")
  Send("smile")
  Send("smile")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="^[&gt; ]*冰寒于水发作了，你全身哆嗦，不停渗出冷汗，似乎血液都结冰了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--[[冰毒似乎无法解
SetVariable("mnpc_poison",1)
if (GetVariable("bianli")=="1" and GetVariable("fight")=="0") then Execute("jd") end
]]--
Send("hp")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*持剑的青衣少女说道：“这位公子请留步。”$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--"平台"位置上的"持剑的青衣少女"会阻止男性eastup
Send("kill sword girl")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*楚楚向你笑道：没有白毛巾怎么洗？$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush chu chu</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*楚楚向你笑道：身上穿戴那么多，怎么能洗澡？$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush chu chu</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_zb"
   match="^[&gt; ]*春暖花开，一阵迷人花香扑鼻而来，原来是路边的野花正在悄悄绽放。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 七叶一枝花
SetVariable("flower", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*此地不能使用时空转换。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>g back seal
useseal</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qjl"
   match="^[&gt; ]*打更的对你说：来，别瞎忙，喝！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush guard</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_axg"
   match="^[&gt; ]*但是你并没有成功。$"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   group="area_fyzb"
   match="^[&gt; ]*狄青麟微笑的对你说：“这就走？用不着那么急吧？”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush di qinglin</send>
  </trigger>
  <trigger
   match="^[&gt; ]*东方的天空越来越亮，渐渐出现红色。$"
   regexp="y"
   sequence="100"
  >
  <send>s</send>
  </trigger>
  <trigger
   match="^[&gt; ]*东方的天空中逐渐出现了一丝鱼肚白。$"
   regexp="y"
   sequence="100"
  >
  <send>n
fate</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^[&gt; ]*独孤伤冷冷道：打赢我，进去；打输了，滚蛋。”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush dugu shang</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*独孤一鹤冷笑：大鹏王朝的账也是汝等小辈过问的么！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*赌博之术到了这个程度只能从实赌中提高。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*队伍成员 (.+) 的组织任务被(.+)完成，你被奖励了：$"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*对方好像没有你想要的东西。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("auto_mission") == "1" then
local location=GetVariable("location")
if location=="玉龙珠宝店" then
  Send("kill seller")
elseif location=="红屋" then
  Send("kill xian")
elseif location=="安生棺材店" then
  DeleteTimer("temp")
  SetVariable("kill_name","huying")
elseif location=="焦都驿" then
  Send("kill max")
end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*方龙香对你大喝一声：兔崽子，敢打老子的主意，拿命来！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill fang longxiang
pfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*方龙香伸手挡住去路：后边是客房，还是不要打搅客人的好！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush fang longxiang</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fycq"
   match="^[&gt; ]*风兵向你喝道：闲杂人等不可上登护城墙！$"
   regexp="y"
   sequence="100"
  >
  <send>kao</send>
  </trigger>
  <trigger
   enabled="y"
   group="uptime"
   match="^[&gt; ]*风云Ⅳ已经运行了(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- uptime实时计时
local d=""
local h=""
local m=""
local s=""
local t=0
local uptime="%1"
local uptime_len=string.len(uptime)
local uptime_str=""
local uptime_list=""
for i=1,uptime_len,2 do
  uptime_str=string.sub(uptime,i,i+1)
--  if (uptime_str~="天" and uptime_str~="时" and uptime_str~="分" and uptime_str~="秒") then
  if string.find("天小时分秒",uptime_str)==nil then
    uptime_list=uptime_list..uptime_str
  else
    if uptime_str=="秒" then
&#9;  t=t+chs2num(uptime_list)
&#9;elseif uptime_str=="分" then
&#9;  t=t+chs2num(uptime_list)*60
&#9;elseif uptime_str=="小" then
&#9;  t=t+chs2num(uptime_list)*60*60
&#9;elseif uptime_str=="天" then
&#9;  t=t+chs2num(uptime_list)*60*60*24
&#9;end
&#9;uptime_list=""
&#9;end
  uptime_str=""
end
uptime=t
-----------------------
uptime2=900-math.fmod(uptime,900)
local uptime_fix=tonumber(GetVariable("uptime_fix"))
local refresh=900-math.fmod(uptime,900)+uptime_fix
local min=GetIntPart(refresh/60)
local sec=math.fmod(refresh,60)
--if (min&lt;10 and min&gt;=0) then min="0"..min end
--if (sec&lt;10 and sec&gt;=0) then sec="0"..sec end
Note("距离刷新还有"..min.."分"..sec.."秒，修正+"..uptime_fix.."秒。")

-- 比较系统uptime与MUSH timer的误差，如果大于10秒则重置timer
if math.abs(uptime2-tonumber(GetVariable("timer")))&gt;=10 then
  SetVariable("timer",900-uptime2-tonumber(GetVariable("uptime_fix")))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^[&gt; ]*公孙断说：“没有三堂主的邀请，谁都不准入内。”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush gongsun duan</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*孤独美充满了恐惧的眼里露出了一丝笑意，喘息着对你道：谢谢你。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("yl_gdm",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*孤独美说道：向(\S\S)走。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local dir="%1"
if GetVariable("yl_go")=="1" then  -- 每移动到新位置 yl_go=1，以此分辨同时两个孤独美指方向。
    if dir=="东" then
        dir="east"
    elseif dir=="南" then
        dir="south"
    elseif dir=="西" then
        dir="west"
    elseif dir=="北" then
        dir="north"
    end
    SetVariable("dir",dir)
    SetVariable("yl_go",0)  -- 防止两个孤独美同时说方向乱走
    if GetVariable("find")=="0" then
        Send("go "..dir)
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ml"
   keep_evaluating="y"
   match="^[&gt; ]*古树顶 \- $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("stop",1)
EnableTrigger("mlby")
SendImmediate("look vine")</send>
  </trigger>
  <trigger
   enabled="y"
   group="die"
   match="^[&gt; ]*鬼魂无法使用仙法！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("die",1)
Execute("hp;g jiudai;drink jiudai;drop jiudai;drop cloth")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*海浪就象是一头头恶狼，唑咬着你的船！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DoAfter(0.1,"look wave")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^[&gt; ]*韩伶恼怒的说道：“谁要是有能耐帮我搞好【孔雀开屏】，谁就可以过去。”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush han ling</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_wm"
   match="^[&gt; ]*寒冰终于化开了一个小洞．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  DeleteTimer("temp")
  SetVariable("stop",0)
  Execute("put wineskin in @rq;bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*和尚说道：这位施主，非少林弟子不可再往前走了！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*和尚说道：只有少林寺入室弟子才可以进入少林内院。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^[&gt; ]*黑幔垂了下来，又遮住了暗门。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 垂下速度快
if GetVariable("mnpc_location")=="黑室" then
  Execute("StepBack;open curtain;bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="figure"
   match="^[&gt; ]*红木大柜里面已经有太多东西了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="薛记老号" then
  Send("drop youzhi")
  SetVariable("youzhi_mugui",201)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="general"
   match="^[&gt; ]*忽然地上有一件亮光的物品，你赶紧捡了起来。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>bud
var auto_mission 0</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ls"
   match="^[&gt; ]*还好，没掉下去！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Execute("StepBack")
DoAfterSpecial(1,"bianli",sendto.execute)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*夹棍拦住了你的去路，看看告示吧。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush jia gun</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*将军向你喝道：没吃完肉，就想走？$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>get meat
eat meat
drop meat
StepBack
bianli</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^[&gt; ]*江左司徒喝道：“站住！王爷在办喜事呢，没有礼物就滚一边去！”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush jiangzuo situ</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*结果你被扰得眼花潦乱，接应不暇！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*金光打在你身上，一闪就消失了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hs"
   match="^[&gt; ]*金灵芝和丁枫向东边荒凉的小径走去，很快消失了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Send("east")
if GetVariable("bianli")=="1" then
  DoAfter(1,"set tri 继续遍历")
--  SetVariable("stop",0)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*金狮子拦住了你的去路，看看告示吧。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli") == "1" then
    Execute("kill jin shizi;Rush jia gun")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*金童向你笑道：没有白毛巾怎么洗？$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush jin tong</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*金童向你笑道：身上穿戴那么多，怎么能洗澡？$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush jin tong</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^[&gt; ]*金无望一言不发，身形微动，挡在你的身前。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush jin wuwang</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*据组织情报，【(.+)】现在藏匿在【(.+)】【(.+)】。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("idle_time",0)
if GetVariable("auto_mission")=="1" then
    SetVariable("mission_totaltime",tonumber(GetVariable("mission_totaltime"))+tonumber(GetVariable("mtime")))  -- 记录任务总时间
    SetVariable("mtime",0)          -- 重置任务计时
    EnableTimer("mtime")            -- 启动任务计时
    SetVariable("mission_retry",0)  -- 重置重试
    SetVariable("mission_cancel",0) -- 重置取消
    SetVariable("mission",1)        -- 任务进行标志
    Execute("mnpc ".."%1")          -- 查询MNPC
    SetVariable("tick","hp")
    local area_list = GetVariable("area_list")    -- 区域列表
    local sum = num(area_list, "|")    -- 区域列表个数
    SetVariable("area", item(area_list, ismember("%2", area_list, "|") + 1, "|")) -- 设置区域ID
    SetVariable("mnpc_location", "%3") -- 设置MNPC位置
    Execute("getpath "..GetVariable("mnpc_location").." "..GetVariable("area")) -- 执行getpath
    SetVariable("mission_log",os.date("%Y-%m-%d %H:%M:%S", os.time()))  -- 记录任务开始时间
    SetVariable("mission_log",GetVariable("mission_log")..","..GetVariable("mnpc_name")..","..chs_area(GetVariable("area"))..":"..GetVariable("mnpc_location")) -- 记录对象及位置
    if GetVariable("mnpc_cancel")=="1" or GetVariable("path")=="" or (GetVariable("area")=="hgs" and GetVariable("mnpc_location")=="松树" and GetVariable("refresh_rope")=="1" and GetVariable("item_rope")=="0") then     -- 如果路径为空或者MNPC属于不杀,取消任务。注："黄山松树"如果没刷新vine同时没rope的情况下取消。
        Execute("mc")
    elseif GetVariable("mnpc_autokill") == "1" and GetVariable("mnpc_autorun") == "1" and GetVariable("area") == "bw" and ismember(GetVariable("mnpc_location"),"暗道|聚义厅","|") &gt; 0 then  -- 霸王山庄进入“断墙边”有时候会晕，当任务是自动跑并叫杀的则取消
        Execute("mc")
    elseif GetVariable("area") == "bw" and ismember(GetVariable("mnpc_location"), "断墙边|暗道|聚义厅", "|") &gt; 0 and GetVariable("time") == "day" then  -- 霸王山庄白天不能进，取消
        Execute("mc")
    elseif (GetVariable("mnpc_autokill")=="1" and GetVariable("area")=="bw" and GetVariable("mnpc_location")=="断墙边") then  -- 霸王山庄进入“断墙边”有时候会晕，如果是自动叫杀的任务取消。
        Execute("mc")
    elseif (GetVariable("mnpc_autokill")=="1" and GetVariable("area")=="yl" and GetVariable("mnpc_location")=="地窖") then
        Execute("mc")
    else    -- 出发流程
        if (GetVariable("item_moonblade")~="0" and GetVariable("calldie")=="1" and ismember("%1",GetVariable("calldie_list"),"|")&gt;0) then   -- 判断是否calldie对象
            Execute("g moonblade")
        end
        if GetVariable("area")=="bw" and tonumber(GetVariable("steps"))&gt;3 then  -- 判断是否需要老山东套装
            if GetVariable("item_sdmask")~="0" and GetVariable("item_sdcloth")~="0" then
                Execute("g shandong skinmask;g dirty cloth;remove all;wear all")
            end
        elseif GetVariable("area")=="fycq" and GetVariable("item_zhanjia")~="0" then    --判断是否上城墙，需要战甲
            Execute("g zhanjia")
            if GetVariable("item_skyclothes") == "1" then Send("remove sky clothes") end
            Send("wear zhanjia")
        elseif GetVariable("class")=="by" and ismember(GetVariable("mnpc_name"),"路小佳|宫锦弼","|")&gt;0 then   -- 白云使用exert wind
            Execute("g zhanjia;wear zhanjia")
        elseif GetVariable("area") == "wd" and GetVariable("item_fist") == "1" then
            Send("unwield iron-fist")
        end
        Execute("doit") -- 出发
    end
else    -- 发呆状态记录
    SetVariable("mission_log",os.date("%Y-%m-%d %H:%M:%S", os.time()))           -- 记录任务开始时间
    SetVariable("mission_log",GetVariable("mission_log")..",".."%1"..",".."%2"..":".."%3")   -- 对象及位置
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^[&gt; ]*开始使用「(.+)」的特殊技能「(.+)」。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local skill_list=GetVariable("skill_list_all")
local list="训兽术|animal-training|斧法|axe|刀法|blade|短兵刃|dagger|闪躲术|dodge|内功|force|叉法|fork|锤法|hammer|硬功|iron-cloth|读写|literate|法术|magic|轻功|move|招架|parry|听风术|perception|符之术|scratching|降头术|cursism|咒文|spells|杖法|staff|妙手术|stealing|剑法|sword|暗器|throwing|拳脚|unarmed|鞭法|whip|药道|herb|枪法|spear"
if "%1"=="硬功" then
    SetVariable("enableironcloth",item(skill_list,ismember("%2",skill_list,"|")+1,"|"))
elseif "%1"=="训兽术" then
    SetVariable("enableanimaltraining",item(skill_list,ismember("%2",skill_list,"|")+1,"|"))
else
&#9;local str=item(list,tonumber(ismember("%1",list,"|"))+1,"|")
    SetVariable("enable"..str,item(skill_list,ismember("%2",skill_list,"|")+1,"|"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dz"
   match="^[&gt; ]*看来不杀班察巴那，是上不了树的．$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush bancha bana</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*看起来(.+)想杀死你！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local bianli = tonumber(GetVariable("bianli"))
local find = tonumber(GetVariable("find"))
local fight = tonumber(GetVariable("fight"))
local stop = tonumber(GetVariable("stop"))
local mnpc_name = GetVariable("mnpc_name")
local mnpc_id = GetVariable("mnpc_id")
local mnpc_autokill = GetVariable("mnpc_autokill")
--[[ 地下城
local dxc_npc = GetVariable("dxc_npc")
if (bianli==1 and find==0 and fight==0 and ismember("%1",dxc_npc,"|")&gt;0) then
  npc_id=item(dxc_npc,ismember("%1",dxc_npc,"|")+1,"|")
  Execute("Rush "..npc_id)
end
]]--
-- MNPC
if mnpc_name=="%1" then
    if ismember(mnpc_name,GetVariable("calldie_list"),"|")&gt;0 and GetVariable("calldie")=="1" and GetVariable("get_moonblade")=="1" then
        SetVariable("pfm","pfm_yy")
    elseif ismember(mnpc_name,GetVariable("useyy_list"),"|")&gt;0 and GetVariable("useyy")=="1" then
        SetVariable("pfm","pfm_yy")
    elseif ismember(mnpc_name,GetVariable("uselr_list"),"|")&gt;0 and GetVariable("uselr")=="1" then
        SetVariable("pfm","pfm_lr")
    elseif ismember(mnpc_name,GetVariable("useother_list"),"|")&gt;0 and GetVariable("useother")=="1" then
        SetVariable("pfm","pfm_other")
    else
        SetVariable("pfm",GetVariable("mypfm"))
    end
    if fight==0 then
        if GetVariable("passive_kill")=="1" and GetVariable("mnpc_autokill")=="1" and ismember(mnpc_name,GetVariable("passive_list"),"|")&gt;0 then
            -- 判断是否使用被动叫杀
            SetVariable("fight",1)
            if GetVariable("class")=="dwg" then
                -- 帝王谷使用血降
                Send("curse bloodcurse on "..GetVariable("mnpc_id"))
            end
            if GetVariable("player_id")=="lnf" then
                -- 使用点穴
                if mnpc_name=="程驹" then
                    -- 如果是"程驹"则点"潘金"穴。
                    Send("acupoint ".."pan jin")
                    Execute("kk "..GetVariable("mnpc_id"))
                else
                    Send("acupoint "..GetVariable("mnpc_id"))
                end
            else
                -- 其它调用变量 passive_skill 指定的技能
                Execute(GetVariable("passive_skill"))
            end
            -- 如果定时器pfm关闭则打开
            if GetTimerInfo("pfm",6)==false then
                EnableTimer("pfm")
            end
        else
            -- 主动叫杀
            Execute("kk "..GetVariable("mnpc_id"))
        end
    end
    if GetVariable("useding")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("figure_list"),"|")&gt;0 then
        -- 使用鼎
        if GetVariable("youzhi_sum")==GetVariable("youzhi_num") then 
            for i=1,tonumber(GetVariable("youzhi_num")) do
                Send("fang youzhi")
                SetVariable("youzhi_sum", tonumber(GetVariable("youzhi_sum"))-1)
            end
        end
    end
end
-- MNPC海东青的狼
if "%1"=="狼" and GetVariable("mnpc_name")=="海东青" then
    Execute("kk "..GetVariable("mnpc_id"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*看起来魏行龙并不想跟你较量。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DoAfterSpecial(2,"axl",sendto.execute)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*空手无法学习或练习(.+)。$"
   regexp="y"
   sequence="100"
  >
  <send>wq</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fyzb"
   match="^[&gt; ]*蓝某人但有一口气在，绝不让尔等贼子从此而过！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush master yichen</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fyzb"
   match="^[&gt; ]*蓝一尘挡在路中，冷冷地盯着你，一字一字道：滚，还是不滚？\(answer yes or no\)$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush master yichen</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fyzb"
   match="^[&gt; ]*老板双手一张挡住去路，恨声道：你个(.*?)，不想活了啊，惊了狄小侯爷那还了得！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush lao ban</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_erg"
   match="^[&gt; ]*老妇人很疑惑地望了望你，你忽然觉得心中有点寒意，不由得停住了脚步。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Execute("Rush oldwoman")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_zb"
   match="^[&gt; ]*老妇人很疑惑地望了望你，你忽然觉得心中有点寒意，不由得停住了脚步。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 恶人谷MARK2，需要买egg给黑松堡的律川香换情报作为信物
if GetVariable("bianli")=="1" then
  if tonumber(GetVariable("item_paper"))&gt;0 then
    Execute("StepBack;g paper;give paper to oldwoman;set tri 继续遍历")
  else
    SetVariable("mission_cancel",1)
    Execute("g ttcash;buy egg from oldwoman;p egg;pm;Return")
  end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*老和尚说道：我没病啊，你不用费心了？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 已治疗，杀</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*老老和尚说道：施主请留步。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*老婆子说道：“到了，你们可以下船了。”$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("stop",0)
Send("up")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*老婆子说道：“上船吧！”$"
   regexp="y"
   sequence="100"
  >
  <send>down</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*老僧对你道：藏经楼乃少林禁地\,请止步\!$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   group="topaz"
   match="^[&gt; ]*老石匠说道：“这位(.+)，这是加工好的砚台。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>drop yan tai
g tea
g she shi
give tea to luo
give she shi to luo
um</send>
  </trigger>
  <trigger
   group="topaz"
   match="^[&gt; ]*老石匠叹了口气对你说道：“老了，手也不听话了，砚台做坏了，这是我家传砚台，"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>new* ya
new* spank luo
Off</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*龙凤双飞只能对战斗中的对手使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   keep_evaluating="y"
   match="^[&gt; ]*绿洲 \- $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local area=GetVariable("area")

if GetVariable("class") == "dz" and GetVariable("dz_dun") == "" and GetVariable("auto_mission") == "1" then
    Send("cast dun")
end
if ismember(area,"bc|dz|tx|xj|yl|zb1|zb2|zb3","|")&gt;0 then
    DoAfterSpecial(2,"bl",sendto.execute)
elseif area=="khl1" then
    DoAfterSpecial(2,"bl2",sendto.execute)
elseif area=="khl2" then
    DoAfterSpecial(2,"bianli(GetVariable('area_khl1_1'));SetVariable('bianli',1);SetVariable('stop',1)",sendto.script)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^[&gt; ]*马十\S\S说：“没有叁堂主的邀请，谁都不准入内。”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush ma shiyi
kill ma shier</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*麦老广咧嘴笑道：“后面呢又系脏又系油，您还系别去的。”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush mai laoguang</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_jn"
   match="^[&gt; ]*麦子对你喝道：“不得擅闯机要重地！！”$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("mnpc_location")=="风云衙门" and GetVariable("find")=="1") then
  DoAfterSpecial(3,"s;kk "..GetVariable("npc_id"),sendto.execute)
else
  SetVariable("mission_cancel",1)
  Execute("Return")
end</send>
  </trigger>
  <trigger
   group="area_ml"
   keep_evaluating="y"
   match="^[&gt; ]*莽林边缘 \- $"
   name="mlby"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local manglin = GetVariable("manglin")  -- 目标方向
local dir = GetVariable("manglin_dir")  -- 荡出方向
if manglin==dir then    -- 如果荡出方向和目标方向一致
    local area=GetVariable("area")
    if area=="ml" then
        if manglin=="北" then SetVariable("manglin","东")
        elseif manglin=="东" then SetVariable("manglin","南")
        elseif manglin=="南" then SetVariable("manglin","西")
        end
        DoAfterSpecial(1,"SetVariable('stop',0);Execute('bianli')",sendto.script)
    elseif ismember(area,"cx|wm|by","|")&gt;0 then
        DoAfterSpecial(2,"bl2",sendto.execute)
    elseif ismember(area,"cxn|dmb|dmcs2|dmcs3|hs|ls|qjl","|")&gt;0 then
        DoAfterSpecial(2,"bl",sendto.execute)
    elseif ismember(area,"bc|dmcs2|dz|khl1|khl2|tx|xj|yl|zb1|zb2|zb3","|")&gt;0 then
        DoAfterSpecial(2,"cgw",sendto.execute)
    end
else    -- 如果荡出方向和目标方向"不"一致，返回莽林重来
    if dir=="北" then Execute("s;s")
    elseif dir=="东" then Execute("w;w")
    elseif dir=="南" then Execute("n;n")
    elseif dir=="西" then Execute("e;e")
    end
    Send("climb tree")
end
EnableTrigger("mlby",false) --关闭"莽林边缘"的触发</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*梅吟雪惨叫一声，一头栽倒在地下。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_name")=="梅吟雪" then
  SetVariable("mnpc_jiasi",1)
  Execute("kk mei yinxue")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*门房伸手拦住了你的去路，喝道：大帅现在休息，闲杂人等一律不见！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush jin guard</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*苗烧天咧嘴怪笑道：活的不耐烦啦？找死啊。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill miao shaotian
kill zhao yidao
Rush zhang san</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^[&gt; ]*木板又弹了回来，遮住了夹间。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="小屋") then
  Send("pull 木板")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*那和尚沉声道：“洒家这小小少林寺，到处都可走得，但只有这扇门户却是万万碰不得！”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill drink monk
pfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*你．．．是谁？帮我！没有我，你走不出的！\(agree to help\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 如果"yl_gdm_follow"为1即需要follow，"yl_gdm"为0尚未follow
if GetVariable("yl_gdm_follow")=="1" and GetVariable("yl_gdm")=="0" then
    Send("agree to help")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qjl"
   match="^[&gt; ]*你把地毯拉过来掩盖住密道．$"
   regexp="y"
   sequence="100"
  >
  <send>pull 地毯</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qjl"
   match="^[&gt; ]*你把地毯拉开发现了一条密道．$"
   regexp="y"
   sequence="100"
  >
  <send>down</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*你把小床推过来掩盖住密道．$"
   regexp="y"
   sequence="100"
  >
  <send>push 小床</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*你被挡了回来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Execute("StepBack")
  DoAfterSpecial(2,"bianli",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*你被顿时攻得手忙脚乱！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^[&gt; ]*你被胡掌柜踢了出来！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("mnpc_location")=="肉铺" and GetVariable("find")=="1" and GetVariable("mission")=="1") then
  DoAfterSpecial(3,"Execute('s;kk '..GetVariable('npc_id'))",sendto.script)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*你被叶灵踢了出来！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_location")=="小白屋" and GetVariable("find")=="1" and GetVariable("mission")=="1" then
    DoAfterSpecial(3,"Execute('n;kk '..GetVariable('npc_id'))",sendto.script)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*你被砸得晕头转向，不知所措。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*你必须过朱藻的七仙女阵才能离开这里的。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  SetVariable("stop",1)
  Execute("StepBack;azz")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*你必须先把.+打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_hsl"
   match="^[&gt; ]*你必须先把城门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_dwg"
   match="^[&gt; ]*你必须先把黄金门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_yg"
   match="^[&gt; ]*你必须先把精铁门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_qjl"
   match="^[&gt; ]*你必须先把木雕门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_sl"
   match="^[&gt; ]*你必须先把木门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_bw"
   match="^[&gt; ]*你必须先把木墙打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_srz"
   match="^[&gt; ]*你必须先把青铜门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_fy"
   match="^[&gt; ]*你必须先把檀木门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_fy"
   match="^[&gt; ]*你必须先把铁门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_dwg"
   match="^[&gt; ]*你必须先把铜门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_hsl"
   match="^[&gt; ]*你必须先把玉帘门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_dq"
   match="^[&gt; ]*你必须先把玉门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   group="area_jn"
   match="^[&gt; ]*你必须先把紫雕门打开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>OpenDoor</send>
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="^[&gt; ]*你不由地深吸了一口气。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 地下城
SetVariable("mnpc_poison",1)
if (GetVariable("bianli")=="1" and GetVariable("fight")=="0") then Execute("jd") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你藏眼神，凝耳韵、调鼻息、缄舌气，整个人似化成了一把利器。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_js", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*你长长地透了一口气。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 啄冰取火有类似苍龙乍现的封锁PFM效果，此为失效描述
SetVariable("mnpc_clzx",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm_moonforce"
   match="^[&gt; ]*你长吐了一口气\,慢慢收回了身边的护体气墙。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("enableforce") == "moonforce" then
    SetVariable("mf_shield", 0)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   keep_evaluating="y"
   match="^[&gt; ]*你从(.+)\S{2}拿\S{2}一\S{2}(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_total",tonumber(GetVariable("item_total"))+1)

if string.len("%2")==10 and string.sub("%2",9,10)=="丹" then
    local dan = tonumber(GetVariable("dan"))+1
    local dan2 = tonumber(GetVariable("dan2"))
    local dan_max = tonumber(GetVariable("dan_max"))
    SetVariable("dan", dan)
    SetVariable("dan2", dan_max - dan)
    if "%1"=="雀翎玉盒" then
        SetVariable("drop_jadebox",0)
        SetVariable("dan_jadebox", tonumber(GetVariable("dan_jadebox")) - 1)
    elseif "%1"=="天蚕布袋" then
        SetVariable("dan_bag", tonumber(GetVariable("dan_bag")) - 1)
    end
end

if "%2"=="圆月弯刀" then SetVariable("get_moonblade",1)
elseif "%2"=="红木大柜" then SetVariable("get_mugui",1)
elseif "%2"=="老山东的面具" then SetVariable("get_sdmask",1)
elseif "%2"=="脏布衣" then SetVariable("get_sdcloth",1)
elseif "%2"=="风云战甲" then SetVariable("get_zhanjia",1)
elseif "%2"=="冷月面罩" then SetVariable("get_yuemask",1)
elseif "%2"=="芦苇" then SetVariable("get_luwei",1)
elseif "%2"=="银花铃" then SetVariable("get_ring",1)
elseif "%2"=="修仙术灵符" then
    SetVariable("item_backseal",tonumber(GetVariable("item_backseal"))+1)
    if "%1"=="天蚕布袋" then
        SetVariable("item_backseal_bag",tonumber(GetVariable("item_backseal_bag"))-1)
    end
elseif "%2"=="清风十三式" then SetVariable("item_qfbook",tonumber(GetVariable("item_qfbook"))-1)
elseif "%2"=="油油的纸" then
    SetVariable("youzhi_body", tonumber(GetVariable("youzhi_body"))+1)
    SetVariable("youzhi_sum", tonumber(GetVariable("youzhi_sum"))+1)
    if "%1"=="红木大柜" then
        -- 计算"红木大柜"的数量
        SetVariable("youzhi_mugui", tonumber(GetVariable("youzhi_mugui"))-1)
    elseif "%1"=="天蚕布袋" then
        -- 计算"天蚕布袋"的数量
        SetVariable("youzhi_bag", tonumber(GetVariable("youzhi_bag"))-1)
    end
elseif "%2"=="雀翎玉盒" then
    if "%1"=="天蚕布袋" then
        SetVariable("item_jadebox", tonumber(GetVariable("item_jadebox"))-1)
        Note(GetVariable("item_jadebox"))
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你从.+的[\S\S]*尸[\S\S]*身上搜出一\S\S(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- Note("%1")
-- 从尸体或腐烂的x尸搜东西

SetVariable("item_total",tonumber(GetVariable("item_total"))+1)

if "%1"=="圆月弯刀" then SetVariable("get_moonblade",1)
elseif "%1"=="老山东的面具" then SetVariable("get_sdmask",1)
elseif "%1"=="脏布衣" then SetVariable("get_sdcloth",1)
elseif "%1"=="风云战甲" then SetVariable("get_zhanjia",1)
elseif "%1"=="冷月面罩" then SetVariable("get_yuemask",1)
elseif "%1"=="芦苇" then SetVariable("get_luwei",1)
elseif "%1"=="银花铃" then SetVariable("get_ring",1)
elseif "%1"=="修仙术灵符" then SetVariable("item_backseal",tonumber(GetVariable("item_backseal"))+1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*你从池水中爬了上来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DeleteTimer("temp")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*你从怀里掏出一卷越秀山艾绒在贾员外身上治灸了一会儿。$"
   regexp="y"
   sequence="100"
  >
  <send>kill jia</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*你从怀里掏出一卷越秀山艾绒在老和尚身上治灸了一会儿。$"
   regexp="y"
   sequence="100"
  >
  <send>kill old monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你从怀中摸出一副温侯铁手带在手上。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_fist",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_by"
   match="^[&gt; ]*你从檀木香几上拿起一(.?.?)(.*)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%2"=="小还丹" then
  Send("drop xiaodan")
elseif "%2"=="三宝散" then
  Send("drop sanbaosan")
elseif "%2"=="回天散" then
  Send("drop huitiansan")
elseif "%2"=="名贵补品" then
  Send("drop good food")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_xg"
   match="^[&gt; ]*你大喝一声“临 兵 斗 者 皆 阵 列 于 前”，全身泛出隐隐的金光．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("xg_dzs",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你的.+不够.*，无法.+。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你的.+火候不够。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_xg"
   match="^[&gt; ]*你的〔斗战胜诀〕运行完毕，将内力收回丹田。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("xg_dzs",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm_moonforce"
   match="^[&gt; ]*你的「无坚不摧」功效消失了。。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mf_conquering", 0)
if GetVariable("bianli") == "1" and GetVariable("fight") == "0" then
    Execute("exert conquering")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_khl"
   match="^[&gt; ]*你的『泽被苍生』运行完毕。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("khl_zbcs", 0)
if GetVariable("enableforce") ~= "longlife-force" then
    if GetVariable("fight") == "0" and GetVariable("bianli") == "1" then
        Execute("enable force longlife-force;nl 5000;hp")
    end
else
    if GetVariable("fight") == "0" and GetVariable("bianli") == "1" then
        Execute("exert zebeicangsheng")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你的［刀枪不入］的功效散光了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("dz_dqbr", 0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dwg"
   match="^[&gt; ]*你的鞭法一变，招式展开如层层密布的浓云，雨将落未落，风欲起未起$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dwg"
   match="^[&gt; ]*你的锤法一变，招式展开如层层密布的浓云，雨将落未落，风欲起未起使出了天雷破的终极杀式  －  ［云龙九现］！！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^[&gt; ]*你的精不够！$"
   regexp="y"
   sequence="100"
  >
  <send>i
hp</send>
  </trigger>
  <trigger
   enabled="y"
   group="general"
   match="^[&gt; ]*你的精气神全恢复了！！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="屋后温泉" then
    Execute("ed;s;sw;s;s;sw;w;w;w;w;w;w;w")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你的静气诀运转完毕，将内息收回丹田。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_jq", 0)
if GetVariable("fight") == "0" then
    Send("exert persist")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你的聚神诀运行完毕，将内力收回丹田。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_js", 0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*你的内力不够。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("fight") == "1" then
    if GetVariable("class") == "dz" then
        SetVariable("pfm", "ca_a")  -- 光明咒不够内力，切换到 an
    end
elseif GetVariable("bianli") == "0" then
    Execute("nl 10000")  -- powerup不够内力
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你的棋艺修为不够，心浮气躁不宜学习书法。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你的潜能已经发挥到极限了，没有办法再成长了。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>d1</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_axg"
   match="^[&gt; ]*你的全身骨结一阵暴响，身形突然高大了几分！！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("axg_enlarge", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你的杀气还需过一段时间才能重新聚集起来$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_js", 0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_hgs"
   match="^[&gt; ]*你的杀气太重，施展不出这美妙的招式！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("hgs_powerup",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你的杀气太重，无法.+。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_axg"
   match="^[&gt; ]*你的身体一阵抽搐，身形似乎矮小了几分。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("axg_enlarge", 0)
if GetVariable("fight") == "0" and GetVariable("bianli") == "1" then
    Send("conjure enlarge")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*你的身形受仇独的影响，变的生涩起来！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("useding") == "1" then
    Send("fang youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*你的眼光变得迷离，似乎已经被一种强大的精神力量所控制．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("nj_du", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*你的眼神恢复正常，看来已经回到了清醒状态。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("nj_du", 0)
if GetVariable("bianli") == "1" and GetVariable("fight") == "0" then
    Execute("du")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_bat"
   match="^[&gt; ]*你的真气不够，不足以施展此招。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("class")=="bat" then
  SetVariable("pfm","pfm_swsm")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*你的咒文要用在谁身上？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","")</send>
  </trigger>
  <trigger
   group="topaz"
   match="^[&gt; ]*你递给罗达成一块歙石。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("timer_topaz", 0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="figure"
   match="^[&gt; ]*你递给薛陀子一些银子。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if tonumber(GetVariable("youzhi_mugui"))&lt;199 then
  DoAfterSpecial(0.1,"put youzhi in mugui;give 20 silver to xue",sendto.execute)
else
  Execute("put youzhi in mugui;p mugui;p silver;Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_tx"
   match="^[&gt; ]*你蝶梦的效果已经消失了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("tx_juqi",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你丢下一\S\S(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_total",tonumber(GetVariable("item_total"))-1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*你躲在.+的背后喊道：给我杀！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("fight",0)
SetVariable("sq_sm",0)
DoAfterSpecial(1.5,"if GetVariable('fight')=='0' then Execute('kill "..GetVariable("npc_id")..";pfm') end",sendto.script)</send>
  </trigger>
  <trigger
   group="topaz"
   match="^[&gt; ]*你发现一块纹理灿烂的石头。$"
   regexp="y"
   sequence="100"
  >
  <send>get she shi
put she sin in bag</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="item"
   match="^[&gt; ]*你附近没有这样东西。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--Note("obj="..GetVariable("obj"))

if GetVariable("obj")~="" then
  local obj=GetVariable("obj")
  SetVariable("obj","")
  local money=""
  if tonumber(GetVariable("item_coin"))&gt;=100 then
    money="coin"
  elseif tonumber(GetVariable("item_silver"))&gt;=1 then
    money="silver"
  elseif tonumber(GetVariable("item_gold"))&gt;=1 then
    money="gold"
  elseif tonumber(GetVariable("item_cash"))&gt;=1 then
    money="cash"
  elseif tonumber(GetVariable("item_ttcash"))&gt;=1 then
    money="ttcash"
  end

  if (obj=="pumpkin" and GetVariable("location")=="焦都驿") then
    DoAfterSpecial(2,"Execute('g "..money..";buy pumpkin from max;pm;eat pumpkin;p pumpkin')",sendto.script)
  elseif obj=="dan" then
    SetVariable("dan_jadebox",0)
&#9;SetVariable("drop_jadebox",1)
&#9;SetVariable("look_jadebox",1)
  elseif obj=="youzhi" then
    SetVariable("youzhi_mugui",0)
  end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ls"
   match="^[&gt; ]*你感觉身上一轻，似乎丢了什么东西．．．．．．$"
   regexp="y"
   sequence="100"
  >
  <send>i
hp</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_mj"
   match="^[&gt; ]*你感觉双臂一阵酸软，［鬼神破灭］的效果似乎消失了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mj_gspm",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_xg"
   match="^[&gt; ]*你感受到对方的力量，但是不够强烈。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local xg_drift_sum = tonumber(GetVariable("xg_drift_sum"))
SetVariable("xg_drift_sum",xg_drift_sum+1)

-- 游识失败重试并统计次数，大于5即停止游识，并清除计数器。
if xg_drift_sum &lt;= 3 or GetVariable("auto_mission")=="1" then
  DoAfterSpecial(0.1,"f "..GetVariable("npc_id"),sendto.execute)
else
  SetVariable("xg_drift_sum",0)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="figure"
   match="^[&gt; ]*你鬼鬼祟祟地把一张油纸放入古鼎．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local youzhi_body=tonumber(GetVariable("youzhi_body"))
SetVariable("youzhi_body",youzhi_body-1)

SetVariable("item_total",tonumber(GetVariable("item_total"))-1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_srz"
   match="^[&gt; ]*你跪了下来，突然坐垫下有个石刻的八卦图，似乎可以打开（Push 1\-8）。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 进入暗道
-- 建立临时定时器 temp
SetVariable("stop",1)
AddTimer("temp",0,0,0.5,"push 1", timer_flag.Enabled+timer_flag.Temporary,"")</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你环顾四方，双手一挥，闪出一点紫色火花落入地上消失了 。。。。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("setmark_location",GetVariable("location"))
SetVariable("setmark_time",0)
EnableTimer("setmark")
if GetVariable("auto_mission")=="1" and GetVariable("location")=="红屋" then
  local orgin = GetVariable("orgin")
  DoAfterSpecial(3,"s;e;e;e;s;"..orgin..";sm",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你还不能学这门武功。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你还没参透海渊剑法秘籍。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你缓吐深纳，运起“静气诀”，脑中空明澄澈，魂不内荡，神不外游。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_jq", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^[&gt; ]*你昏迷间，白羊已托住你的腰部，飞身掠起。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Return</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你急忙取出一丸\S{8}丹吞入口中，稍时，有微微宝光透出你体外！！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_dan",tonumber(GetVariable("mission_dan"))+1)

SetVariable("item_total",tonumber(GetVariable("item_total"))-1)

SetVariable("dan", tonumber(GetVariable("dan")) - 1)

local dan = tonumber(GetVariable("dan"))
local dan2 = tonumber(GetVariable("dan2"))
local dan_max = tonumber(GetVariable("dan_max"))

--if dan &lt;= dan_max then
  SetVariable("dan2", dan_max - dan)
--end

-- 以下为吃丹判断
SetVariable("usedan", 0)
if dan == 3 then
  local mission_retry=tonumber(GetVariable("mission_retry"))+1
  if mission_retry&gt;2 then
    SetVariable("mission_retry",0)
    SetVariable("mission_cancel",1)
  elseif GetVariable("mission")=="1" then
    SetVariable("mission_retry",mission_retry)
  end
  Execute("#3(useseal)")  -- 触发真气流传
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你捡起一\S\S(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_total",tonumber(GetVariable("item_total"))+1)

-- 少林和天机老人处的红木大柜需要SELL/BUY洗，否则不刷新。
local location=GetVariable("location")
if (location=="广场凉亭" or location=="藏经阁") and GetVariable("item_mugui")=="0" and "%1"=="红木大柜" then
  SetVariable("sell_mugui",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="general"
   match="^[&gt; ]*你将(.+)的尸体扶了起来背在背上。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("getcorpse")=="1" and "%1"~=GetVariable("mnpc_name") then
    SetVariable("corpse_order",tonumber(GetVariable("corpse_order"))+1)
    Execute("drop corpse;get corpse "..GetVariable("corpse_order"))
end
if GetVariable("robot_she") == "1" and "%1"~="小蛇王" then
    SetVariable("corpse_order",tonumber(GetVariable("corpse_order"))+1)
    Execute("drop corpse;get corpse "..GetVariable("corpse_order"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你将手上的温侯铁手拿下来藏入怀中。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_fist",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_df"
   match="^[&gt; ]*你将手中的南瓜吃得乾乾净净。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 吃光不会产生mark
if (GetVariable("bianli")=="1" and GetVariable("area")=="df" and ismember(GetVariable("mnpc_location"),"焦都驿|储藏室","|")==0) then
  local money=""
  if tonumber(GetVariable("item_coin"))&gt;=100 then
    money="coin"
  elseif tonumber(GetVariable("item_silver"))&gt;=1 then
    money="silver"
  elseif tonumber(GetVariable("item_gold"))&gt;=1 then
    money="gold"
  elseif tonumber(GetVariable("item_cash"))&gt;=1 then
    money="cash"
  elseif tonumber(GetVariable("item_ttcash"))&gt;=1 then
    money="ttcash"
  end
  DoAfterSpecial(2,"Execute('g "..money..";buy pumpkin from max;pm;eat pumpkin;p pumpkin')",sendto.script)
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="item"
   keep_evaluating="y"
   match="^[&gt; ]*你将一\S{2}(.+)放\S{2}(.+)(里|上)\S*。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_total",tonumber(GetVariable("item_total"))-1)

if string.len("%1")==10 and string.sub("%1",9,10)=="丹" then
    local dan = tonumber(GetVariable("dan"))-1
    local dan2 = tonumber(GetVariable("dan2"))
    local dan_max = tonumber(GetVariable("dan_max"))
    SetVariable("dan", dan)
    SetVariable("dan2", dan_max - dan)
    if "%2"=="雀翎玉盒" then
        SetVariable("dan_jadebox", tonumber(GetVariable("dan_jadebox")) + 1)
    elseif "%2"=="天蚕布袋" then
        SetVariable("dan_bag", tonumber(GetVariable("dan_bag")) + 1)
    end
end

if "%1"=="圆月弯刀" then SetVariable("get_moonblade",0)
elseif "%1"=="老山东的面具" then SetVariable("get_sdmask",0)
elseif "%1"=="脏布衣" then SetVariable("get_sdcloth",0)
elseif "%1"=="风云战甲" then SetVariable("get_zhanjia",0)
elseif "%1"=="冷月面罩" then SetVariable("get_yuemask",0)
elseif "%1"=="芦苇" then SetVariable("get_luwei",0)
elseif "%1"=="银花铃" then SetVariable("get_ring",0)
elseif "%1"=="修仙术灵符" then
    SetVariable("item_backseal",tonumber(GetVariable("item_backseal"))-1)
    if "%2"=="天蚕布袋" then
        SetVariable("item_backseal_bag",tonumber(GetVariable("item_backseal_bag"))+1)
    end
elseif "%1"=="清风十三式" then SetVariable("item_qfbook",tonumber(GetVariable("item_qfbook"))+1)
elseif "%1"=="油油的纸" then
    SetVariable("youzhi_body", tonumber(GetVariable("youzhi_body"))-1)
    SetVariable("youzhi_sum", tonumber(GetVariable("youzhi_sum"))-1)
    if "%2"=="红木大柜" then
        -- 计算"红木大柜"的数量
        SetVariable("youzhi_mugui", tonumber(GetVariable("youzhi_mugui"))+1)
    elseif "%2"=="天蚕布袋" then
        -- 计算"天蚕布袋"的数量
        SetVariable("youzhi_bag", tonumber(GetVariable("youzhi_bag"))+1)
    end
elseif "%1"=="雀翎玉盒" then
    if "%2"=="天蚕布袋" then
        SetVariable("item_jadebox", tonumber(GetVariable("item_jadebox"))+1)
        Note(GetVariable("item_jadebox"))    
    end
    -- get dan from jadebox没丹时会设置drop_jadebox为1，触发扔掉空jadebox，切换到下一盒
    if GetVariable("obj")=="dan" then
        SetVariable("obj","")
    end
    if GetVariable("drop_jadebox")=="1" then
        SetVariable("drop_jadebox",0)
        Note(GetVariable("item_jadebox"))
        if tonumber(GetVariable("item_jadebox"))&gt;1 then
            Execute("get jadebox from @rq;drop jadebox;look @rq")
            DoAfter(2,"hp")
        elseif tonumber(GetVariable("item_jadebox"))==1 then
            SetVariable("askpill",1)
            Send("score")
        end
    end
elseif "%1"=="红木大柜" then
    SetVariable("get_mugui",0)
    if GetVariable("obj")=="youzhi" then
        SetVariable("obj","")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你紧闭双眼，屈膝而坐，但是由于心怀杂念，什么都没有发生。$"
   regexp="y"
   sequence="100"
  >
  <send>cast banruoboluomi</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dwg"
   match="^[&gt; ]*你觉得胸口发闷，还是赶快上岸的好！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 没luwei
if GetVariable("auto_mission")=="1" then
  SetVariable("mission_cancel",1)
  Execute("Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hs"
   match="^[&gt; ]*你决定开始跟随金灵芝一起行动。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  SetVariable("stop",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cxn"
   match="^[&gt; ]*你空着手，怎么砍？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 没wolf pen
if GetVariable("area")=="cxn" then
  SetVariable("stop",1)
  Execute("StepBack;n;n;n;n;n;n;n;n;n;n;w;withdraw 60000")
  DoAfterSpecial(3,"bianli('e;s;s;s;s;w;w;w;s;wu;su;su;se;eu;su;su;sw;su;se;buy wolf pen from hao;nw;nd;ne;nd;nd;wd;nw;nd;nd;ed;n;e;e;e;s;s;s;s;s;s')",sendto.script)
  DoAfter(9,"set tri 继续遍历")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你凌厉的腿风扫过，(.+)只觉胸闷气滞，一口真气竟提不上来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_clzx", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dxc"
   match="^[&gt; ]*你没看到丁干身形移动，然而他却站在你身前挡住了你的路。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush ding gan</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你没有设定道标。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("login")==0 then
    SetVariable("setmark_location","")
    Execute("g back seal;useseal")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你没有设定遁入点。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("dz_dun", "")
if GetVariable("auto_mission") == "1" then
    Execute("um")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="figure"
   match="^[&gt; ]*你没有油油的纸．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_hgs"
   match="^[&gt; ]*你默运玄功，三花聚顶五气朝元，将四周的生机吸纳过来，凝聚成自己的斗气。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("hgs_powerup",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_df"
   match="^[&gt; ]*你拿起南瓜咬了几口。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("location")=="焦都驿" and GetVariable("area")=="df" and ismember(GetVariable("mnpc_location"),"焦都驿|储藏室","|")==0) then
  SetVariable("obj","")
  AddTimer("temp",0,0,2,"dash", timer_flag.Enabled+timer_flag.Temporary,"")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="die"
   match="^[&gt; ]*你拿起牛皮酒袋咕噜噜地喝了几口还阳酒。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("die",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你拍了拍胸脯，高叫着：＂刀枪不入！刀枪不入！刀枪不入！．．．＂$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("dz_dqbr", 0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你抛开杂念，口念佛号“般若波罗蜜”，突然之间，你竟然消失不见踪影。$"
   regexp="y"
   sequence="100"
  >
  <send>cast dun</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm_moonforce"
   match="^[&gt; ]*你前胸鼓起，突然整个空间似乎凹陷下去。。。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mf_shield", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你轻闭双眼，双手合一，口呼佛号：“遁！”，一道佛光从你掌间飞出，遁入地下。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("dz_dun", GetVariable("location"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_zb"
   match="^[&gt; ]*你轻轻将一朵野花摘了下来，端入怀中。$"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="^[&gt; ]*你全身渗出血红色的汗珠，你中的九阴化骨毒发作了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mnpc_poison",1)
if (GetVariable("bianli")=="1" and GetVariable("fight")=="0") then Execute("jd") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm_moonforce"
   match="^[&gt; ]*你三花聚顶，运起四照心法，只见\$N的双手渐渐泛出一种金属独有的亮光。$"
   regexp="y"
   sequence="100"
  >
  <send>SetVariable("mf_conquering", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你设定的道标已经失效了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("setmark_location","")
Execute("g back seal;useseal")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你设定的遁入点已经失效了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("dz_dun", "")</send>
  </trigger>
  <trigger
   group="tri_dz"
   match="^[&gt; ]*你身、口、意与佛成为一体，面色庄重，沉声念道「」！ $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("dz_gmz") == "1" then
    SetVariable("pfm","ca_h")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你身上带著下列这些东西\(负重\s*(\d+)\%\)：$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("rq_type","body")
Execute("ClearI")
SetVariable("item_total",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="^[&gt; ]*你身上的毒素发作了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mnpc_poison",1)
if (GetVariable("bianli")=="1" and GetVariable("fight")=="0") then Execute("jd") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm_moonforce"
   match="^[&gt; ]*你身上的气墙渐渐消失了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("enableforce") == "moonforce" then
    SetVariable("mf_shield", 0)
end
if GetVariable("bianli") == "1" and GetVariable("fight") == "0" then
    Execute("exert shield")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你身上已经带着太多东西了．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 身上爆满东西时的修正处理
if GetVariable("auto_mission")=="1" then
  SetVariable("box_destroy", 1)
  Send("use dan")
  Send("drop youzhi")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*你深吸一口气，真气流转如常。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 金钱苍龙乍现特效失效描述。
SetVariable("mnpc_clzx",0)
if GetVariable("yangfan") == "1" or GetVariable("lcb") == "1" then
    Execute("um")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*你什么也看不见，只是闻到一阵腥味，然后突然觉得心口一痛。$"
   regexp="y"
   send_to="13"
   sequence="100"
  >
  <send>use dan</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_island"
   match="^[&gt; ]*你使劲地往前游\.\.\.但很快就游不动了$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("area") == "island" then
    DeleteTimer("temp")
    Send("climb up")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你手指掐诀，口中默念，但什么事也没发生。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>um</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你手指掐诀，口中默念，遁入一股青烟之中慢慢消失了 \.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 非武当门派 usemark 描述
if GetTimerInfo("powerup",6)==true then
    EnableTimer("powerup",false)
    Send("set tri 杀气处理完毕")
end
if GetVariable("class") == "hs" then
    Execute("p tribuli;g 10 tribuli")
end

SetVariable("target_die", 0)
DeleteTrigger("temp")
if GetVariable("auto_mission")=="1" and GetVariable("mission")=="0" then
    Execute("mission_complete")
end
SetVariable("die",0)
EnableTimer("powerup",false)

-- 捡尸体给大米处理
if GetVariable("getcorpse")=="1" then
    Execute("give corpse to qingqing;drop corpse")
end

-- 倒计时结束仍未买完油纸，把mugui放回容器
if (GetVariable("location")=="薛记老号" and GetVariable("get_mugui")=="1") then
    Execute("put youzhi in mugui;p mugui")
end

--[[ 回收油纸
if ((GetVariable("mission_cancel")=="1" or GetVariable("mission_retry")~="0") and GetVariable("useding")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("figure_list"),"|")&gt;0) then
  Execute("g mugui")
  for i=1,tonumber(GetVariable("youzhi_num")) do
    Send("put youzhi in mugui")
  end
  Execute("p mugui")
end
]]--

if GetVariable("get_moonblade")=="1" then
    Execute("p moonblade")
end

-- 如果重试任务则不处理道具
if GetVariable("mission_retry")=="0" then
    if GetVariable("get_zhanjia")=="1" then
        Execute("p zhanjia")
    elseif GetVariable("get_sdmask")=="1" or GetVariable("get_sdcloth")=="1" then
        Execute("p shandong skinmask;p dirty cloth")
    elseif GetVariable("get_luwei")=="1" then
        Execute("p luwei")
    end
end
if GetVariable("get_ring")=="1" then
    Execute("p silver ring")
end
if GetVariable("get_yuemask")=="1" then
    Execute("p yue mask")
end

Send("set tri usemark")
DeleteTimer("return")
DeleteTimer("temp")
SetVariable("usedan",0)
SetVariable("bianli",0)
-- usemark不清零用于mission_retry时判断是否需要kneel
--SetVariable("find",0)
SetVariable("fight",0)
SetVariable("flag",0)
SetVariable("stop",0)
SetVariable("step",0)
SetVariable("dir","")
EnableTrigger("mlby",false)
SetVariable("npc_id","")
SetVariable("npc_name","")
if GetVariable("area")=="ml" and GetVariable("mission_retry")~="0" then
    SetVariable("manglin","北")
else
    SetVariable("manglin","")
end
SetVariable("manglin_dir","")</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你手指掐诀，口中默念，忽然化作一股青烟消失了 \.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 武当门派 usemark 描述
if GetVariable("robot_she") == "1" then
    DoAfter(1,"beckon shao")
end
SetVariable("target_die", 0)
DeleteTrigger("temp")
if GetVariable("auto_mission")=="1" and GetVariable("mission")=="0" then
    Execute("mission_complete")
end
SetVariable("die",0)
EnableTimer("powerup",false)

-- 捡尸体给大米处理
if GetVariable("getcorpse")=="1" then
    Execute("give corpse to qingqing;drop corpse")
end

-- 倒计时结束仍未买完油纸，把mugui放回容器
if (GetVariable("location")=="薛记老号" and GetVariable("get_mugui")=="1") then
    Execute("put youzhi in mugui;p mugui")
end

--[[ 回收油纸
if ((GetVariable("mission_cancel")=="1" or GetVariable("mission_retry")~="0") and GetVariable("useding")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("figure_list"),"|")&gt;0) then
  Execute("g mugui")
  for i=1,tonumber(GetVariable("youzhi_num")) do
    Send("put youzhi in mugui")
  end
  Execute("p mugui")
end
]]--

if GetVariable("get_moonblade")=="1" then
    Execute("p moonblade")
end

-- 如果重试任务则不处理道具
if GetVariable("mission_retry")=="0" then
    if GetVariable("get_zhanjia")=="1" then
        Execute("p zhanjia")
    elseif GetVariable("get_sdmask")=="1" or GetVariable("get_sdcloth")=="1" then
        Execute("p shandong skinmask;p dirty cloth")
    elseif GetVariable("get_luwei")=="1" then
        Execute("p luwei")
    end
end
if GetVariable("get_ring")=="1" then
    Execute("p silver ring")
end
if GetVariable("get_yuemask")=="1" then
    Execute("p yue mask")
end

Send("set tri usemark")
DeleteTimer("return")
DeleteTimer("temp")
SetVariable("usedan",0)
SetVariable("bianli",0)
-- usemark不清零用于mission_retry时判断是否需要kneel
--SetVariable("find",0)
SetVariable("fight",0)
SetVariable("flag",0)
SetVariable("stop",0)
SetVariable("step",0)
SetVariable("dir","")
EnableTrigger("mlby",false)
SetVariable("npc_id","")
SetVariable("npc_name","")
if GetVariable("area")=="ml" and GetVariable("mission_retry")~="0" then
    SetVariable("manglin","北")
else
    SetVariable("manglin","")
end
SetVariable("manglin_dir","")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_tx"
   match="^[&gt; ]*你双臂轻舒，如蝶翼般轻轻展开，晶莹的玉色光芒从身侧缓缓扩散而出。。。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("tx_juqi",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*你所选用的武功中没有这种必杀技。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 武器丢失处理
if GetVariable("class") == "hs" then
    Execute("g 10 tribuli")
else
if (GetVariable("fight")=="1" and GetVariable("mission")=="1") then
  local mission_retry=tonumber(GetVariable("mission_retry"))+1
  if mission_retry&gt;2 then
    SetVariable("mission_retry",0)
    SetVariable("mission_cancel",1)
  else
    SetVariable("mission_retry",mission_retry)
  end
end
SetVariable("ask_weapon",1)
EnableTimer("pfm",false)
if GetVariable("auto_mission")=="1" then Send("useseal") end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dmcs"
   match="^[&gt; ]*你突然感到脚底软绵绵的，无处着力！你大叫一声“不好！”，可是来不及了…$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("login") == "1" and GetVariable("auto_mission") == "1" then
  Send("quit")
end
local mission_retry=tonumber(GetVariable("mission_retry"))+1
if mission_retry&gt;2 then
  SetVariable("mission_retry",0)
  SetVariable("mission_cancel",1)
else
  SetVariable("mission_retry",mission_retry)
end

Execute("Return")</send>
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="^[&gt; ]*你胃里一阵绞痛，脸上紫气郁结，冒出豆大的黑紫色汗珠！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mnpc_poison",1)
if (GetVariable("bianli")=="1" and GetVariable("fight")=="0") then Execute("jd") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_axg"
   match="^[&gt; ]*你现在并不需要施展［乾坤无形］中的\&lt;乾坤长\&gt; $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("axg_enlarge", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*你现在的组织任务是为(\S{4})杀【(.+)】。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 已领取任务，在组织处打mission的提示
SetVariable("mission",1)
if GetVariable("mnpc_name") == "无须老人" then
   SetVariable("mnpc_wx", "ydubei oldman|zdubei oldman|ywutui oldman|zwutui oldman|longya oldman|wuxu oldman")
end
if "%1" == "山流" or "%1" == "天宗" then
    if GetVariable("auto_mission")=="1" then
        if GetVariable("area")=="hgs" and GetVariable("mnpc_location")=="松树" and GetVariable("refresh_rope")=="1" and GetVariable("item_rope")=="0" then    --"黄山松树"如果没刷新vine同时没rope的情况下取消。
            Execute("mc")
        else
            if GetVariable("area")=="ml" then SetVariable("manglin","东") end   -- 遍历莽林
            if GetVariable("item_moonblade")~="0" and GetVariable("calldie")=="1" and ismember("%2",GetVariable("calldie_list"),"|")&gt;0 then -- 判断是否calldie对象
                Execute("g moonblade")
            end
            if ismember(GetVariable("class"),"xg|dwg","|")&gt;0 then   -- 兴国、帝王谷重新获取原始路径
                Execute("getm")
            end
            Execute("doit")
        end
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*你现在的组织任务是为组织杀【(.+)】。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 已领取任务，不在杨凡处打mission的提示
SetVariable("mission",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*你现在忙得很，不能移动。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Execute("StepBack")
  DoAfterSpecial(1,"bianli",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*你现在没有任何组织任务。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>mission_complete</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^[&gt; ]*你现在没有使用任何特殊技能。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("enableanimaltraining", "")
SetVariable("enableaxe", "")
SetVariable("enableblade", "")
SetVariable("enablecursism", "")
SetVariable("enabledagger", "")
SetVariable("enabledodge", "")
SetVariable("enableforce", "")
SetVariable("enablehammer", "")
SetVariable("enableherb", "")
SetVariable("enableironcloth", "")
SetVariable("enableliterate", "")
SetVariable("enablemagic", "")
SetVariable("enablemove", "")
SetVariable("enableparry", "")
SetVariable("enableperception", "")
SetVariable("enablescratching", "")
SetVariable("enablespells", "")
SetVariable("enablestaff", "")
SetVariable("enablestealing", "")
SetVariable("enablesword", "")
SetVariable("enablethrowing", "")
SetVariable("enableunarmed", "")
SetVariable("enablewhip", "")</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_ls"
   match="^[&gt; ]*你现在太累了，还是先休息一下吧。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Execute("get jadebox from @rq;get dan from jadebox;use dan;put jadebox in @rq")
DoAfterSpecial(1,"StepBack;bianli",sendto.execute)</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*你现在已经处在精神的极度亢奋状态了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("nj_du", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你现在正忙！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- busy状态中usemark的提示描述
if GetVariable("target_die") == "1" then
    DoAfterSpecial(1, "um", sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*你想起(.+)从前离婚的事，忽然觉得心里很不舒服，一时丧失了学习的兴趣。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*你向.+买下一\S\S(.+)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_total",tonumber(GetVariable("item_total"))+1)

if "%1"=="修仙术灵符" then
  SetVariable("item_backseal", tonumber(GetVariable("item_backseal"))+1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_hs"
   match="^[&gt; ]*你向胖公子打听有关『暗器』的消息。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli") == "1" then
    Execute("um")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*你向天孙打听有关『guard』的消息。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--SetVariable("ask_guard", 0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^[&gt; ]*你小心翼翼踩进沙河流\.\.\.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  SetVariable("stop",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*你写了一道天师符。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("sq_sm",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*你心中忽然涌起莫名伤感，只觉悲苦凄凉，茫然不知何往。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("auto_mission")=="1" then
  if GetVariable("mission")=="1" then
    SetVariable("mission_retry",tonumber(GetVariable("mission_retry"))+1)
  end
  SetVariable("mnpc_libie",1)
  Execute("um")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qp"
   match="^[&gt; ]*你沿着树干慢慢爬了上去，坐到了横在湖面的柳树干上。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note(GetVariable("step"))
if GetVariable("mnpc_location")=="池塘里" then
  SetVariable("bianli",1)
  DoAfterSpecial(0.5,"StepBack;StepBack;down",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ls"
   match="^[&gt; ]*你沿着蜿蜒的山道拾级而\S\S。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Execute("StepBack")</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*你要跟谁买东西？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  if GetVariable("location")=="船行" then
    SetVariable("mission_cancel",1)
    Execute("Return")
  end
end
if GetVariable("location")=="安生棺材店" then
  SetVariable("refresh_huying",1)
elseif GetVariable("location")=="玉龙珠宝店" then
  SetVariable("refresh_seller",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   match="^[&gt; ]*你要先把红木大柜打开。$"
   regexp="y"
   sequence="100"
  >
  <send>open mugui</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_xg"
   match="^[&gt; ]*你要移动到哪一个人身边？你低头闭目，开始施展游识神通 \.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("auto_mission")=="1" and ismember(GetVariable("class"),"xg|dwg","|")&gt;0 then
  SetVariable("bianli",1)
  SetVariable("step",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_xg"
   match="^[&gt; ]*你要移动到哪一个人身边？你无法感受到这个人 \.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Send("\\n")
if GetVariable("auto_mission")=="1" and ismember(GetVariable("class"),"xg|dwg","|")&gt;0 then
  SetVariable("bianli",0)
  SetVariable("step",0)
  DoAfterSpecial(3,"getm;n;do",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qf"
   match="^[&gt; ]*你一纵身进了暗道，铜人在你身后又合上了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 某些角色出现此提示,会自动north一步,固路径需要减少一个north，修正路径。
if ismember("noop",GetVariable("area_qf_1"),";")==0 then
    local qf_1="e;e;e;ct;dt;eu;eu;nu;n;w;e;e;w;n;w;e;e;w;n;noop;w;e;e;w;n;w;e;e;w;n;wu;ed;eu;wd;n;w;e;n;s;e;n;w;w;e;n;w;e;n;s;e;nw"
    SetVariable("area_qf_1",qf_1)
    if GetVariable("bianli")=="1" then
        Execute("getm")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_df"
   match="^[&gt; ]*你已经吃太饱了，再也塞不下任何东西了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and ismember(GetVariable("mnpc_location"),"焦都驿|储藏室","|")==0) then
  DoAfterSpecial(3,"get pumpkin from @rq;eat pumpkin;put pumpkin in @rq",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*你已经连续完成了(.+)个任务。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_num",chs2num("%1"))
SetVariable("mission_log",GetVariable("mission_log")..",连续任务:"..chs2num("%1").."个")
if tonumber(GetVariable("mission_retry"))&gt;0 then
    SetVariable("mission_log",GetVariable("mission_log")..",重试:"..GetVariable("mission_retry").."次")
end
writefile("mission_log_"..GetVariable("player_id")..".csv",GetVariable("mission_log"))

--发呆需要清除，否则会导致mission_log变量无限增大
if GetVariable("auto_mission")=="0" then
    SetVariable("mission_log","")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm_moonforce"
   match="^[&gt; ]*你已经在施展「无坚不摧」了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mf_conquering", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*你已经在施展更高阶的［刀枪不入］了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("dz_dqbr", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_tx"
   match="^[&gt; ]*你已经在施展类似的武功了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("class")=="tx" then
  SetVariable("tx_juqi",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_hgs"
   match="^[&gt; ]*你已经在使用仙境心法。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("hgs_powerup",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_mj"
   match="^[&gt; ]*你已经在运功中了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("class")=="mj" or GetVariable("uselhbb")=="1" then
    SetVariable("mj_gspm",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你已经在运功中了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_js",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_xg"
   match="^[&gt; ]*你已经在运功中了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("xg_dzs",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm_moonforce"
   match="^[&gt; ]*你已经在运功中了！！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("enableforce") == "moonforce" then
    SetVariable("mf_shield", 1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_khl"
   match="^[&gt; ]*你已经在运用『泽被苍生』了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("khl_zbcs", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_jq"
   match="^[&gt; ]*你已经在运用类似的内功了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("jq_jq", 1)</send>
  </trigger>
  <trigger
   group="tri_dz"
   match="^[&gt; ]*你右手于胸前展成莲花之状，左手折腕向上势若莲台，沉于右手下，面容肃静念道：“恕 $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 统计 hong 的成功率
if ismember(GetVariable("mnpc_name"), "程驹|怜星|南宫平|魏子云|海东青|屠万", "|") == 0 and ismember(GetVariable("area"), "sl|ml|qjl|srz|hsl|dmcs1|dmcs2|dmcs3|dxc|lyz|ls|fycq|hgs|ss|bw|bat", "|") == 0 then
    local hong = GetVariable("dz_hong")
    local hong1 = tonumber(item(GetVariable("dz_hong"), 1, "|")) + 1
    SetVariable("dz_hong", modiitem(hong, 1, "|", hong1))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dwg"
   lines_to_match="2"
   match="^[&gt; ]*你运功抗毒，头上冒出豆大的汗．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mnpc_poison",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_khl"
   match="^[&gt; ]*你运起苍生诀之精髓DD『泽被苍生』，你感觉到自己的生命力增强了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("khl_zbcs", 1)
if ismember("moonforce", GetVariable("skill_list"), "|") &gt; 0 then
    Execute("enable force moonforce;hp")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_by"
   match="^[&gt; ]*你运起画道心法，衣带飘飘，似当风而动，你只觉周围空气霎时如云开雾散般清新舒畅。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("by_wind",0)
SetVariable("mnpc_clzx",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_mj"
   match="^[&gt; ]*你运起天地人魔心法，全身泛出淡淡的蓝光。。。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mj_gspm",1)</send>
  </trigger>
  <trigger
   group="mission"
   match="^[&gt; ]*你在.+后才可要任务。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DoAfter(3,"mission")</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_ss"
   match="^[&gt; ]*你在墙壁上摸到了一个象铜灯的东西。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>g lighter
use lighter
p lighter</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_srz"
   match="^[&gt; ]*你这样子不能进入杀人庄。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>jd
StepBack
look</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hgs"
   match="^[&gt; ]*你正坐着呢，不能离开！！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 遍历时黄山清凉台不能离开
Send("standup")
if GetVariable("bianli")=="1" then
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*你只觉得身子不断变轻，一直变轻，一直变轻，一直变轻，一直变轻 \.\.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- useseal 生效
DeleteTimer("temp")
DeleteTimer("return")
SetVariable("usedan",0)
SetVariable("bianli",0)
--SetVariable("find",0)  --不清零用于mission_retry时判断是否需要kneel
SetVariable("fight",0)
SetVariable("flag",0)
SetVariable("stop",0)
SetVariable("step",0)
SetVariable("dir","")
EnableTrigger("mlby",false)</send>
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="^[&gt; ]*你中的七彩蝙蝠毒发作了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mnpc_poison",1)
if (GetVariable("bianli")=="1" and GetVariable("fight")=="0") then Execute("jd") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="^[&gt; ]*你中的蛇毒发作了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mnpc_poison",1)
if (GetVariable("bianli")=="1" and GetVariable("fight")=="0") then Execute("jd") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^[&gt; ]*你中的蛇王蛇毒发作了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mnpc_poison", 1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_zb"
   match="^[&gt; ]*你终于走到了赤土河的对岸。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("mission")=="1" and GetVariable("area")=="zb3") then Execute("nw;n;n;n;n;e;set tri 慢速遍历") end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ml"
   match="^[&gt; ]*你抓紧树枝，用力向(\S\S)方荡去！ $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin_dir","%1")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ml"
   match="^[&gt; ]*你抓着突出的树枝，慢慢地顺着树杆爬了上去。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" and GetVariable("area")=="ml" then
    SetVariable("stop",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_hs"
   match="^[&gt; ]*胖公子拿出一把暗器，递了给你。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("tribuli_time", 0)
EnableTimer("tribuli")</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_wm"
   match="^[&gt; ]*飘过来的水滴眨眼间冻成冰珠，渐渐地封住了洞口．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 冰洞重新结冰
-- 建立临时定时器 temp
if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~=GetVariable("location")) then
  SetVariable("stop",1)
  Send("get wineskin from @rq")
  AddTimer("temp",0,0,0.5,"pour wineskin", timer_flag.Enabled+timer_flag.Temporary,"")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*屏风自行移了回来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="有凤来仪") then
  Send("open pingfeng")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ls"
   match="^[&gt; ]*漆雕战身形一闪，拦住去路，粗声喝道：＂此处乃我狼山重地，请回！！！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush qidiao zhan</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*钦卫向你喝道：＂皇公子所到之处，闲杂人等不可入内！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Execute("StepBack")
  Send("kill qinwei")
  Send("kill qinwei 2")
  Send("kill qinwei 3")
  Send("kill qinwei 4")
  Execute("pfm")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="figure"
   match="^[&gt; ]*青衣杀手对(.+)大喝道：有人花银子买了你的命！明年今日就是你的忌辰！认倒霉吧！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local figure_sum=tonumber(GetVariable("figure_sum"))+1
SetVariable("figure_sum",figure_sum)
if (figure_sum==1 and GetVariable("fight")=="0") then
  DoAfterSpecial(1,"kk "..GetVariable("npc_id"),sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*雀翎玉盒里面已经有太多东西了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="金胡子赌坊" then
  SetVariable("dan_jadebox",201)
end
if GetVariable("auto_mission")=="1" then
  Send("use dan")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*人影飘动之间，你已经从密林穿了出去！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DeleteTimer("temp")
SetVariable("stop",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="team"
   match="^[&gt; ]*如果你愿意加入，请用 team with (.+)。$"
   regexp="y"
   sequence="100"
  >
  <send>team with %1</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   keep_evaluating="y"
   match="^[&gt; ]*杀人庄后门 \- $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local area=GetVariable("area")
if ismember(area, "bc|dz|tx|xj|yl|zb1|zb2|zb3|khl1|khl2","|") &gt; 0 then
    DoAfterSpecial(1, "sw;n;nw;w;w;w", sendto.execute)
elseif area=="dmb" then
    DoAfterSpecial(1, "sw;n;nw;set tri 慢速遍历", sendto.execute)
elseif area=="hs" then
    DoAfterSpecial(1, "sw;set tri 慢速遍历", sendto.execute)
elseif area=="ls" then
    DoAfterSpecial(1, "bianli('sw;su;sw;se;se;sw;se;s;s;s;s;s;w;w;w;s;set tri 慢速遍历')", sendto.script)
elseif area=="cxn" then
    DoAfterSpecial(1, "bianli('sw;su;sw;se;se;sw;se;s;s;s;s;s;s;s;s;s;s;set tri 慢速遍历')", sendto.script)
elseif area=="dmcs2" then
    DoAfterSpecial(1, "bianli('sw;n;nw;w;w;set tri 慢速遍历')", sendto.script)
elseif area=="dmcs3" then
    DoAfterSpecial(1, "bianli('sw;n;set tri 慢速遍历')", sendto.script)
elseif area=="cx" then
    if GetVariable("mnpc_location") == "老城东街" then
        SetVariable("path","sw;su;sw;se;se;sw;se;s;e;e")
    else
        SetVariable("path",trimpath("sw;su;sw;se;se;sw;se;s;e;e;e;e;"..GetVariable("path")))
    end
    SetVariable("steps",num(GetVariable("path"),";"))
    Send("set tri 慢速遍历")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yg"
   match="^[&gt; ]*山水画荡了回来，又遮住了暗门。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Send("open hua")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ty"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;around\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>AddTimer("temp",0,0,0.3,"around", timer_flag.Enabled+timer_flag.Temporary,"")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_by"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;askpill\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("askpill",0)
Execute("ask shanliu manager about pill")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;buypaperseal\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("kill_name")=="huying" then
  DoAfterSpecial(2,"p paper seal;pm;kill huying;Return",sendto.execute)
elseif GetVariable("refresh_huying")=="1" then
  Execute("pm;Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="uptime"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;fix uptime\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 利用传闻频道的更新信息修正 uptime 时间
SetVariable("uptime_fix",900-uptime2)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;learn\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("skill_next")=="1" then
  SetVariable("skill_next",0)
  SetVariable("skill_num",tonumber(GetVariable("skill_num"))+3)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dz"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;pray\&quot;$"
   name="pray"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>pray
continue yes
Return</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;swim\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>AddTimer("temp",0,0,0.3,"swim", timer_flag.Enabled+timer_flag.Temporary,"")</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;teach\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("skill_next")=="1" then
  SetVariable("skill_next",0)
  SetVariable("skill_num",tonumber(GetVariable("skill_num"))+3)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;usemark\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if tonumber(GetVariable("setmark_time"))&gt;600 then
  Execute("sm")
end
if GetVariable("yangfan")=="1" or GetVariable("lcb") == "1" then
  DoAfterSpecial(1,"lb;i;hp",sendto.execute)
  DoAfter(2,"set tri 补给")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;useseal\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="红屋" then
  local backseal=10-tonumber(GetVariable("item_backseal_bag"))
  Execute("g ttcash;g cash;g gold;g silver")
  for i=1,backseal do
    Execute("buy back seal from xian;p back seal")
  end
  Execute("pm")
end
Execute("Return")</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="bianli"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;补给\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("auto_mission")=="1" and (GetVariable("yangfan")=="1" or GetVariable("lcb")=="1") then
    local shaqi=tonumber(GetVariable("hp_shaqi"))
    local shaqi_max=tonumber(GetVariable("hp_shaqi_max"))
    local box_num=tonumber(GetVariable("box_num"))
    local box_sum=tonumber(GetVariable("box_sum"))
    local dan=tonumber(GetVariable("dan"))
    local dan_max=tonumber(GetVariable("dan_max"))
    local qianneng=tonumber(GetVariable("hp_qianneng"))
    local ttcash=tonumber(GetVariable("item_ttcash"))
    local micash=tonumber(GetVariable("item_micash"))
    local limit=tonumber(GetVariable("bank_limit"))
    local backseal=tonumber(GetVariable("item_backseal"))
    local youzhi_mugui=tonumber(GetVariable("youzhi_mugui"))
    local class=GetVariable("class")
    local orgout = GetVariable("orgout")
    local orgin = GetVariable("orgin")
    local tribuli = tonumber(GetVariable("item_tribuli"))
    if GetVariable("mission_cancel")=="1" then
        -- 取消任务
        SetVariable("mission_cancel",0)
        Execute("mission cancel;mission ctimes")
        DoAfter(12,"set tri 补给")
    elseif GetVariable("box_destroy") == "1" then -- 身上东西爆满，销毁宝箱
        Execute(orgout..";s;e;i")
        DoAfterSpecial(3, "SetVariable('box_destroy', 0);Execute('n;um')", sendto.script)
    elseif GetVariable("refresh_yeguo")=="0" and tonumber(GetVariable("item_yeguo"))&lt;tonumber(GetVariable("item_yeguo_max")) then
        -- 取野果，当野果小于指定数量时
        Execute("getpath 野狼坡 ls;"..orgout..";n")
        SetVariable("path",GetVariable("path")..";set tri 取野果")
        SetVariable("steps",tonumber(GetVariable("steps"))+1)
        SetVariable("refresh_yeguo",1)
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("auto_enhancesave")=="1" and (GetVariable("location")=="山流密室" or GetVariable("location")=="天宗密室") and qianneng&gt;0 then
        -- 保存潜能
        Execute("enhancesave "..qianneng..";enhancesave")
        DoAfter(2,"set tri 补给")
    elseif GetVariable("save") == "1" then
        -- 自动存盘
        SetVariable("save", 0)
        Execute(orgout..";s;e;save")
        DoAfterSpecial(2,"w;n;"..orgin..";set tri 补给", sendto.execute)
    elseif shaqi&gt;shaqi_max then
        -- 降杀气
        bianli(orgout..";n;e;e;e;e;s;salute;salute;salute;salute;salute;salute;salute;salute;salute;salute;hp;n;w;w;w;w;s;"..orgin..";set tri 补给")
    elseif box_num&gt;0 and GetVariable("refresh_seller")=="0" then
        -- 开宝箱,强制设置宝箱数量为0，避免开宝箱意外死循环
        --Execute(orgout..";s;s;s;s;e;withdraw @box_sum")
        --DoAfterSpecial(2,"w;n;n;n;n;w;i",sendto.execute)
        --DoAfterSpecial(4,"SetVariable('box_num',0);Execute('pm;e;"..orgin..";set tri 补给')",sendto.script)
        Execute(orgout..";w;gm;i")
        DoAfterSpecial(2,"SetVariable('box_num',0);Execute('pm;e;"..orgin..";lb;set tri 补给')",sendto.script)
    elseif GetVariable("ask_weapon")=="1" then
        -- 武器掉了
        bianli(orgout..";n;n;n;n;n;w;ask zhuge about weapon;e;s;s;s;s;s;"..orgin..";set tri 补给")
    elseif tonumber(GetVariable("item_ding"))&gt;1 then
        -- 处理多余的三清木鼎
        Execute(orgout..";s;s;s;e;give ding to xiangling;Return")
    elseif ttcash&lt;5 then
        -- 小于5张ttcash就取钱,取够10张ttcash
        local money=10*1000000-ttcash*1000000
        SetVariable("item_ttcash",10)
        Execute(orgout..";s;s;s;s;e;withdraw "..money..";score")
        DoAfterSpecial(3,"p ttcash;w;n;n;n;n;"..orgin..";set tri 补给",sendto.execute)
    elseif backseal==0 then
        -- 没有back seal则购买11张
        bianli(orgout..";n;w;w;w;n;g ttcash;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p seal;buy back seal from xian;p ttcash;p cash;p gold;Return")
    elseif GetVariable("auto_deposit")=="1" and ttcash&gt;50 and tonumber(GetVariable("bank"))+ttcash*1000000&lt;limit*100000000 then
        -- 存钱，超过50张ttcash并且ttcash加银行存款小于bank_limit指定亿。强制设置ttcash数量为10，避免deposit意外死循环
        local money=ttcash-10
        SetVariable("item_ttcash",10)
        Execute(orgout..";s;s;s;s;e;g "..money.." ttcash;".."deposit "..money.." tenthousand-cash;score")
        DoAfterSpecial(2,"p ttcash;w;n;n;n;n;"..orgin..";set tri 补给",sendto.execute)
    elseif GetVariable("auto_deposit2")=="1" and ttcash&gt;105 then
        -- 如果ttcash大于等于105张则转换成大额银票存。
        local sum1=math.ceil(ttcash/100)
        -- 取整数
        if sum1&gt;0 and sum1~=ttcash/100 then
            sum1=sum1-1
        end
        local sum2=sum1*100
        bianli(orgout..";s;s;s;s;s;s;e;se;se;s;s;s;e;e;e;e;e;e;g "..sum2.." ttcash;convert "..sum2.." tenthousand-cash to million-cash;p ttcash")
        DoAfterSpecial(4,"s;w;deposit "..sum1.." m;score;p micash;Return",sendto.execute)
    elseif GetVariable("auto_deposit2")=="1" and micash&gt;=1 then
        -- 如有大额银票去日出城存
        bianli(orgout..";s;s;s;s;s;s;e;se;se;s;s;s;e;e;e;e;e;e;s;w;g "..micash.." micash;deposit "..micash.." m;score;p micash;Return")
    elseif GetVariable("auto_deposit2")=="1" and tonumber(GetVariable("bank"))&gt;=(limit+1)*100000000 and GetVariable("refresh_riyue")=="0" then
        -- 当银行存款大于bank_limit指定亿+1，则取出来存大额
        SetVariable("refresh_riyue",1)
        bianli(orgout..";s;s;s;s;s;s;e;se;se;s;s;s;e;e;e;e;e;e;withdraw 100000000")
        DoAfterSpecial(5,"s;w;deposit 1 m;p micash;score;Return",sendto.execute)
        -- 补给还阳酒
    elseif GetVariable("auto_buyjiudai")=="1" and tonumber(GetVariable("item_jiudai"))&lt;5 then
        bianli(orgout..";n;w;w;w;w;w;w;w;w;w;w;w;w;w;w;s;set tri 买还阳酒")
    elseif GetVariable("auto_askpill")=="1" and GetVariable("item_jadebox")=="0" then
        Execute("getpath 西南角 dxc")
        SetVariable("path",GetVariable("path")..";ask xiao wu about gaoli")
        SetVariable("steps",tonumber(GetVariable("steps"))+1)
        Execute(orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("useding")=="1" and GetVariable("item_mugui")~="0" and youzhi_mugui&lt;=30 then
        -- 补充油纸
        --local money=(201-youzhi_mugui)*20000
        Execute(orgout..";s;s;s;s;e;withdraw 400000;score")
        DoAfter(2,"convert 4 thousand-cash to silver")
        DoAfterSpecial(4,"bianli('w;n;n;n;n;n;n;n;n;n;n;w;g mugui;give 20 silver to xue')",sendto.script)
    elseif GetVariable("org") == "山流" and GetVariable("auto_askpill")=="1" and GetVariable("askpill")=="1" and tonumber(GetVariable("hp_zhengyi"))&gt;100000 then
        -- 问山流杨总管要丹药，ask一次10颗，每颗30正义值
        Execute("getpath 南海大道 by;"..orgout..";n")
        SetVariable("path",GetVariable("path")..";w;nw;sw;nw;sw;w;w;set tri askpill")
        SetVariable("steps",tonumber(GetVariable("steps"))+8)
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("useding")=="1" and GetVariable("item_mugui")=="0" and GetVariable("refresh_mugui")=="0" then
        -- 去天机老人凉亭拿红木大柜
        SetVariable("refresh_mugui",1)
        bianli(orgout..";n;enter;get mugui;p mugui;Return")
    elseif GetVariable("useding")=="1" and GetVariable("item_mugui")=="0" and GetVariable("refresh_mugui")=="1" then
        -- 去香菱买红木大柜
        SetVariable("refresh_mugui",2)
        bianli(orgout..";s;s;s;e;g ttcash;g cash;g gold;buy mugui from xiangling;open mugui;p mugui;p ttcash;p cash;p gold;Return")
    elseif GetVariable("useding")=="1" and GetVariable("item_mugui")=="0" and GetVariable("refresh_mugui")=="2" then
        -- 去少林拿红木大柜
        SetVariable("refresh_mugui",3)
        EnableTrigger("getmugui")
        Execute("getpath 藏经阁 sl;"..orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("sell_mugui")=="1" then
        -- 少林和天机老人处的红木大柜需要sell/buy洗，否则不更新。drop mugui是防止香菱不在
        SetVariable("sell_mugui",0)
        Execute(orgout..";s;s;s;e;g mugui;sell mugui;drop mugui")
        DoAfterSpecial(3,"g ttcash;g cash;g gold;buy mugui from xiangling;open mugui;p mugui;p ttcash;p cash;p gold;p silver;Return",sendto.execute)
    elseif GetVariable("mnpc_libie")=="1" then
        -- 中了离别毒，找土娼清除
        SetVariable("mnpc_libie",0)
        DoAfterSpecial(1,orgout..";n;w;w;w;s;enjoy;Return",sendto.execute)
    elseif GetVariable("mission_retry")~="0" and GetVariable("find")=="1" and GetVariable("mnpc_autokill")=="0" then
        -- 当find=1可判断为战斗中逃跑而非掉沙漠，清叫杀后retry。
        SetVariable("find",0)
        Execute(orgout..";s;w;w;n;e;kneel;Return")
    elseif class=="jq" and GetVariable("mypfm")=="pfm_srrm" and tonumber(GetVariable("hp_shaqi_max")) - tonumber(GetVariable("hp_shaqi")) &gt; 4000 then
        -- 金钱帮使用杀人如麻的状态下，提高杀气
        Execute(orgout..";powerup")
    elseif GetVariable("mission_retry")~="0" and GetVariable("mnpc_clzx")=="0" then
        -- 任务重试
        DoAfter(1,"mission")
    elseif class == "hs" and GetVariable("tribuli_ask") == "1" then
        -- 华山问胖子要暗器
        SetVariable("tribuli_ask", 0)
        Execute("getpath 山门 hs")
        SetVariable("path",GetVariable("path")..";afm")
        SetVariable("steps",tonumber(GetVariable("steps"))+1)
        Execute("doit")
    elseif GetVariable("sell_tribuli")=="1" and ((class ~= "hs" and GetVariable("item_tribuli")~="0") or (class == "hs" and tribuli &gt; 1000)) then
        -- 卖毒蒺藜,强制设置tribuli数量为0，避免sell意外死循环
        if GetVariable("class") == "hs" then
            Execute(orgout..";s;s;s;e;g tribuli;p 1000 tribuli;sell tribuli")
        else
            Execute(orgout..";s;s;s;e;g tribuli;sell tribuli")
        end
        DoAfterSpecial(2,"SetVariable('item_tribuli',0);Execute('pm;Return')",sendto.script)
    elseif (ismember(class,"sq|bat","|")&gt;0 or GetVariable("org") == "天宗") and tonumber(GetVariable("ask_guard"))&gt;=2 and GetVariable("mission_retry")=="0" then
        -- 领小弟
        if class=="sq" then
            Execute("getpath 三清宫大院 sq")
            SetVariable("path",GetVariable("path")..";aty;Return")
            SetVariable("steps",tonumber(GetVariable("steps"))+2)
            Execute("doit")
        elseif class=="bat" then
            Execute("getpath 海边 bat")
            SetVariable("path",GetVariable("path")..";set tri 领蝙蝠")
            SetVariable("steps",tonumber(GetVariable("steps"))+1)
            Execute("doit")
        elseif GetVariable("org") == "天宗" then
            DoAfterSpecial(1, "wu;n;tzguard", sendto.execute)
        end
        SetVariable("ask_guard",1)
    elseif class=="sq" and tonumber(GetVariable("item_paperseal"))&lt;100 and GetVariable("refresh_huying")=="0" then
        -- 三清补充桃符纸
        Execute(orgout..";n;w;w;w;w;s")
        DoAfterSpecial(2,"buypaperseal",sendto.execute)
    elseif tonumber(GetVariable("item_egg"))&gt;0 then
        -- 芦花鸡蛋给黑松堡律香川换信物
        Execute("getpath 膳房 hsl")
        SetVariable("path",GetVariable("path")..";set tri 换信物")
        SetVariable("steps",tonumber(GetVariable("steps"))+1)
        Execute(orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("yantai") == "1" and tonumber(GetVariable("timer_topaz"))&gt;4320 and tonumber(GetVariable("item_tea"))&gt;0 and tonumber(GetVariable("item_sheshi"))&gt;0 then  -- 制作砚台
        SetVariable("mission_retry",0)
        Execute("getpath 石屋 dz;"..orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("item_zhanjia")=="0" then
        -- 取风云战甲
        bianli(orgout..";s;s;s;s;s;s;e;se;se;s;s;s;e;e;e;e;e;e")
        DoAfterSpecial(4,"kk police",sendto.execute)
    elseif GetVariable("item_lighter")=="0" and GetVariable("refresh_lighter")=="0" then
        -- 取火摺子
        SetVariable("refresh_lighter",1)
        Execute(orgout..";n;ty")
    elseif GetVariable("item_wineskin")=="0" then
        -- 取羊皮酒袋
        SetVariable("item_wineskin",1)
        Execute(orgout..";e;u;w;get wineskin from desk;p wineskin;e;d;w;"..orgin..";set tri 补给")
        --取芦苇，如果没手环一并取，兴国、帝王谷用八识不需要手环
    elseif GetVariable("getluwei") == "1" and tonumber(GetVariable("item_luwei")) &lt; 3 and ismember(class,"xg|dwg","|") == 0 then
        local path=""
        if GetVariable("item_shouhuan")=="0" then
            SetVariable("refresh_shouhuan",1)
            path="e;e;eu;eu;ne;e;e;s;s;s;s;e;e;dwg_dive;w;n"
        else
            path="e;e;eu;eu;ne;e;e;s;s;s;s;e;Return"
        end
        SetVariable("area","dwg")
        SetVariable("path",path)
        SetVariable("steps",num(path,";"))
        Execute(orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
        -- 取手环
    elseif GetVariable("refresh_shouhuan")=="0" and GetVariable("item_shouhuan")=="0" and GetVariable("item_luwei")~="0" and ismember(class,"xg|dwg","|") == 0 then
        local path="e;e;eu;eu;ne;e;e;s;s;s;s;e;e;dwg_dive;w;n"
        SetVariable("refresh_shouhuan",1)
        SetVariable("area","dwg")
        SetVariable("path",path)
        SetVariable("steps",num(path,";"))
        Execute(orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("uselhbb")=="1" and tonumber(GetVariable("hp_shaqi"))&lt;tonumber(GetVariable("hp_shaqi_max"))-1000 then
        -- 外派使用魔教步法，提高杀气
        Execute(orgout..";powerup")
    elseif GetVariable("mission_retry")=="0" and GetVariable("calldie")=="1" and tonumber(GetVariable("item_moonblade"))&lt;3 and class~="sq" and GetVariable("refresh_dingpeng")=="0" then
        -- 补充“圆月弯刀”
        SetVariable("refresh_dingpeng",1)
        SetVariable("mnpc_name","丁鹏")
        SetVariable("mnpc_id","ding peng")
        SetVariable("mission",1)
        Execute("getpath . ts;"..orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
    elseif GetVariable("mission_retry")=="0" and GetVariable("calldie")=="1" and tonumber(GetVariable("item_moonblade"))&lt;3 and class=="sq" and GetVariable("refresh_dingpeng")=="0" then
        -- 补充“圆月弯刀”三清
        bianli(orgout..";n;"..GetVariable("area_ts")..";kdp")
    elseif tonumber(GetVariable("hp_jingyan"))&gt;=800000000 and tonumber(GetVariable("bank2"))&gt;=5 and GetVariable("auto_pray")=="1" then
        local path="w;w;w;w;w;w;w;w;w;w;s;set tri pray"
        SetVariable("path",path)
        SetVariable("steps",num(path,";"))
        SetVariable("area","dz")
        SetVariable("mnpc_location","寺院")
        SetVariable("mnpc_name","神树")
        Execute(orgout..";n")
        DoAfterSpecial(2,"do",sendto.execute)
    elseif dan&gt;=dan_max and backseal&gt;0 and GetVariable("mnpc_clzx")=="0" then
        -- 接任务
        Send("mission")
    end
end
</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_yl"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;地窖醒来\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DeleteTimer("temp")
SetVariable("stop",0)
Execute("get jadebox from @rq;get dan from jadebox;use dan;put jadebox in @rq;look")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ss"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;点灯\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--山洞秘道点灯
-- 建立临时定时器 temp
SetVariable("stop",1)
AddTimer("temp",0,0,1,"search", timer_flag.Enabled+timer_flag.Temporary,"")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;断墙边醒来\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--断墙边醒来
SetVariable("stop",0)
DeleteTimer("temp")
Execute("g jadebox;get dan from jadebox;p jadebox;use dan")
Send("drop note")
Send("look")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;富贵密林\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local fg_ml=tonumber(GetVariable("fg_ml"))+1
SetVariable("fg_ml",fg_ml)
if fg_ml&gt;9 then
  local mission_retry=tonumber(GetVariable("mission_retry"))+1
  if mission_retry&gt;2 then
    SetVariable("mission_retry",0)
    SetVariable("mission_cancel",1)
  else
    SetVariable("mission_retry",mission_retry)
  end
  SetVariable("fg_ml",0)
  DeleteTimer("temp")
  Execute("Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hs"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;跟随乌鸦\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 跟随乌鸦
AddTimer("temp",0,0,5,"n;s",timer_flag.Temporary,"")
SetTimerOption("temp","send_to",10)
DoAfterSpecial(5,"SetTimerOption('temp','enabled',1)",sendto.script)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hsl"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;换信物\&quot;$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>g egg;give egg to lv xiangchuan;p paper;Return</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hgs"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;黄山松树\&quot;$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>g rope
tie
climb down</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;继续遍历\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 当需要继续遍历时，建议用DoAfter延时发出 "set tri 继续遍历" ，否则会造成指令连发，原因待查。

SetVariable("bianli",1)
SetVariable("stop",0)
--SetVariable("find",0)
SetVariable("fight",0)
Execute("bianli")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;快活林入口\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
    local location=GetVariable("location")
    if GetVariable("mnpc_location")~=location then
        Execute("getpath  "..GetVariable("mnpc_location").." khl")
        local path=GetVariable("path")
        if location=="北佛塔" then SetVariable("path","s;s;s;s;"..path)
        elseif location=="西佛塔" then SetVariable("path","e;e;e;e;"..path)
        elseif location=="南佛塔" then SetVariable("path","n;n;n;n;"..path)
        elseif location=="东佛塔" then SetVariable("path","w;w;w;w;"..path)
        end
        SetVariable("steps",tonumber(GetVariable("steps")+4))
        SetVariable("step",1)
        DoAfterSpecial(1,"SetVariable('stop',0);Execute('bianli')",sendto.script)
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;领蝙蝠\&quot;$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>adf
Return</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_df"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;买还阳酒\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Execute("gm")
for i=1,5-tonumber(GetVariable("item_jiudai")) do
  Execute("buy jiudai from max;p jiudai")
end
Execute("pm")
Execute("Return")</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;慢速遍历\&quot;$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>bl2</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ls"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;取野果\&quot;$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>get ye guo from grass
eat ye guo
p ye guo
Return</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;杀气处理完毕\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Send("enable force "..GetVariable("enableforce_org"))
if GetVariable("auto_mission")=="1" then
    Execute("um")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;杀玉箫道人\&quot;$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>d2
use dan
kk taoist yuxiao</send>
  </trigger>
  <trigger
   enabled="y"
   group="die"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;死亡\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("die")=="1" and GetVariable("location")=="奈何桥") then
  DeleteTimer("temp")
  Send("east")
  DoAfterSpecial(1,"EnableTimer('revive')",sendto.script)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;随机走迷宫\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 使用 randir() 函数随机走迷宫
AddTimer("temp",0,0,0.5,"if GetVariable('find')=='0' then randir() end",timer_flag.Temporary,"")
SetTimerOption("temp","send_to",12)
SetTimerOption("temp","enabled",1)
</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*设定环境变数：tri \= \&quot;原始丛林\&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DoAfterSpecial(2,"if GetVariable('yl_gdm')=='0' then Send('set tri 随机走迷宫') end",sendto.script)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_hgs"
   match="^[&gt; ]*深呼一口气，似乎将胸间的浑浊化开。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("hgs_powerup",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*师父能教你的都教了，其他的你自己练吧。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dwg"
   match="^[&gt; ]*石壁上的门户又无声无息的合了起来．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Send("touch 恶人像")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sgs"
   match="^[&gt; ]*守护僧横棍道：“此乃少林弟子面壁之所，请留步。”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_srz"
   match="^[&gt; ]*受伤了就不要去杀人庄找死。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>use dan
StepBack
look</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^[&gt; ]*树太高了，你爬不上去。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^[&gt; ]*树叶哗啦啦一阵乱响，跳下一个人来！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush bandit</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_zb"
   match="^[&gt; ]*司马烟冷冷地说：入谷如登天，来人走这边。你的信物呢？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  SetVariable("stop",1)
  Execute("StepBack;e;e;ask gongzi yu about 信物;w;w;give rose to sima yan")
  DoAfter(1,"set tri 继续遍历")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="die"
   match="^[&gt; ]*太晚了，你的肉身已经消失，救不活了。（死亡时间需在三小时内）$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("die",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*探花诗台不是你的坟场。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>StepBack
use dan
bianli</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_by"
   match="^[&gt; ]*天外飞仙只能对战斗中的对手使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*天外飞仙只能和飞仙剑法配和！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 武器丢失处理
if (GetVariable("fight")=="1" and GetVariable("mission")=="1") then
  local mission_retry=tonumber(GetVariable("mission_retry"))+1
  if mission_retry&gt;2 then
    SetVariable("mission_retry",0)
    SetVariable("mission_cancel",1)
  else
    SetVariable("mission_retry",mission_retry)
  end
end
SetVariable("ask_weapon",1)
EnableTimer("pfm",false)
Send("useseal")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*条幅荡了回来，又遮住了暗门。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Send("open 条幅")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="skills"
   match="^[&gt; ]*停止使用「(.+)」的特殊技能。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local list="训兽术|animal-training|斧法|axe|刀法|blade|短兵刃|dagger|闪躲术|dodge|内功|force|叉法|fork|锤法|hammer|硬功|iron-cloth|读写|literate|法术|magic|轻功|move|招架|parry|听风术|perception|符之术|scratching|降头术|cursism|咒文|spells|杖法|staff|妙手术|stealing|剑法|sword|暗器|throwing|拳脚|unarmed|鞭法|whip|药道|herb|枪法|spear"
if "%1"=="硬功" then
    SetVariable("enableironcloth","")
elseif "%1"=="训兽术" then
&#9;SetVariable("enableanimaltraining","")
else
&#9;local str=item(list,tonumber(ismember("%1",list,"|"))+1,"|")
    SetVariable("enable"..str,"")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qf"
   match="^[&gt; ]*铜人又动了起来，转回到原来的位子．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="大雄宝殿") then
  Send("touch mark")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*突然不知道哪里出了错，你的身体被扭曲的空间大力地吸了进去！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 飞到"大漠风沙|莽林之中"
Execute("Return")</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*突然身体又恢复了重力，你脚步浮浮，猛然使力站稳，才发现周边景况已有不同。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 飞到"红屋"
-- 判断位置是否在"红屋"再执行指令，避免有时候useseal之后紧接usemark，导致4秒后位置在"山流密室"而误触发。
DoAfterSpecial(4,"if GetVariable('location')=='红屋' then Execute('lb;i;hp;set tri useseal') end",sendto.script)

local orgin = GetVariable("orgin")
DoAfterSpecial(6,"if (GetVariable('auto_mission')=='1' and GetVariable('setmark_location')=='') then Execute('s;e;e;e;s;"..orgin..";sm') end",sendto.script)

-- 重置变量
SetVariable("usedan",0)
SetVariable("bianli",0)
SetVariable("fight",0)
SetVariable("flag",0)
SetVariable("stop",0)
SetVariable("step",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qf"
   match="^[&gt; ]*万紧那罗王又转了回来，堵住了向北的路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="香积厨") then
  Send("push luowang")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*魏行龙无可奈何地从怀里掏出一本书递给你。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("stop",0)
Execute("p qing feng book;bianli")
DeleteTimer("temp")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*魏行龙已经无法战斗了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DoAfterSpecial(2,"axl",sendto.execute)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*下去会摔死的。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 没ask jianu about jia的mark</send>
  </trigger>
  <trigger
   enabled="y"
   group="uptime"
   match="^[&gt; ]*现在是(.+)年(.+)月(.+)日(.+)时(.+)刻。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local t1 = (tonumber(ismember("%4","子|丑|寅|卯|辰|巳|午|未|申|酉|戌|亥","|"))-1)*120
local t2 = tonumber(ismember("%5","一|二|三|四","|"))*30
local t = t1 + t2  -- 当前时间
local t3 = ""
local t4 = ""
local t5 = 0  -- 距离下一个时段的时间差
local month = ismember("%2","一|二|三|四|五|六|七|八|九|十|十一|十二","|")
local season = ""
if month &gt;= 1 and month &lt;= 3 then
    season = "春天"
elseif month &gt;= 4 and month &lt;= 6 then
    season = "夏天"
elseif month &gt;= 7 and month &lt;= 9 then
    season = "秋天"
else
    season = "冬天"
end
if t &gt; 360 and t &lt;= 1260 then
    t3 = "白天"
    t4 = "晚上"
    t5 = 1290 - t  -- 白天时间段：&gt;360&lt;=1260
    SetVariable("time", "day")
else
    t3 = "晚上"
    t4 = "白天"
    if t &lt;= 360 then
        t5 = 390 - t  -- 晚上时间段一：0-360
    else
        t5 = 1320 - t + 390  -- 晚上时间段二：1260-1320
    end
    SetVariable("time", "night")
end
Note(season.."，"..t3.."(时间:"..(t - 30).."-"..t..")，距离"..t4.."还有约"..t5.."秒。")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_wm"
   match="^[&gt; ]*小船漂了过来。。。。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>bianli</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*小门自己关上了。$"
   regexp="y"
   sequence="100"
  >
  <send>open door</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dxc"
   match="^[&gt; ]*小武撇了你一眼，沉思了半晌，双眸突然放出光来：对了，就这样，这样$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DoAfterSpecial(5,"open woodbox;p jadebox;um",sendto.execute)</send>
  </trigger>
  <trigger
   group="tri_sq"
   match="^[&gt; ]*小香炉里有这样东西么\?$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("sq_sm",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fyzb"
   match="^[&gt; ]*小叶子向你问道：“请问这位\S+是不是要找狄小侯爷？”$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush xiao yezi</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*谢掌柜对你道：嘿！胆子真不小！想进去，没门儿！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush xie zhanggui

</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*心\S{2}一闪身，挡在你面前\!$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush master</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*许久许久，海面上什么也没有出现。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" and (GetVariable("area")=="dq3" or GetVariable("area")=="island") then
  DoAfterSpecial(2,"bp",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_wd"
   match="^[&gt; ]*许廉龙向你说道：施主不可带兵刃上山"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush xu</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_khl"
   match="^[&gt; ]*轩辕斧法需要苍生诀的配合！$"
   regexp="y"
   sequence="100"
  >
  <send>enable force longlife-force</send>
  </trigger>
  <trigger
   enabled="y"
   match="^[&gt; ]*悬赏图册：请替恶人谷杀了『(.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("qnpc_name", "%1")</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*玄心奥妙决只有松谷庵的女尼才能修练。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*薛陀子说道：多谢这位.+可怜我这没用的穷老人．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("item_total",tonumber(GetVariable("item_total"))+1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*学习或练习(.*)必须空手。$"
   regexp="y"
   sequence="100"
  >
  <send>unwield all</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*巡逻侍卫对你道：大胆！竟敢乱闯蝙蝠岛\!$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush xunluo shiwei</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*眼前景色似乎有些熟悉，你依稀记得往南方的高处走有座山崖。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 如果follow中出现此提示，孤独美有时会遗失。重新找孤独美
if GetVariable("yl_gdm")=="1" then
    Send("set tri 随机走迷宫")
--[[
    DoAfterSpecial(0.5,"if GetVariable('find')=='0' then Send('south') end",sendto.script)
    DoAfterSpecial(1,"if GetVariable('find')=='0' then Send('north') end",sendto.script)
    DoAfterSpecial(1.5,"if GetVariable('find')=='0' then Send('east') end",sendto.script)
    DoAfterSpecial(2,"if GetVariable('find')=='0' then Send('east') end",sendto.script)
]]--
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_by"
   match="^[&gt; ]*杨总管赞赏地对你点了点头，塞给了你一堆丹药。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Execute("i;hp")
DoAfterSpecial(2,"if tonumber(GetVariable('dan_jadebox'))&lt;180 then Send('ask shanliu manager about pill') else Execute('Return') end",sendto.script)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*也许是因为缺乏经验，你对.+的回答总是无法领会。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^[&gt; ]*叶孤鸿冷冷的盯着你道：请这位朋友把孤独美留下。\(leave\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("find")=="0" then
  Send("kill ye gu hong")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*一尘长袖一挥，你被挡了回来。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush master</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*一个用上好红木作的木柜。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("rq_type","mugui")
SetVariable("youzhi_mugui",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*一个制作巧夺天工的白玉盒子。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("rq_type","jadebox")
SetVariable("dan_jadebox",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_wm"
   match="^[&gt; ]*一条发出鱼鳞般的光芒的小河，可以ｓｗｉｍ$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("wm_boat",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_tx"
   match="^[&gt; ]*一阵风吹过，茅草晃了晃，又淹没了向西的路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Send("pushaside grass")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   group="topaz"
   match="^[&gt; ]*一阵悠扬的歌声传过来，采茶女从茶树后转了出来。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Execute("kill girl")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_jn"
   match="^[&gt; ]*殷羡抱拳道：不可佩带兵刃进府！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Execute("StepBack;unwield all;bianli")
</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*阴宾手一挥，你忽然觉得天旋地转起来。$"
   regexp="y"
   sequence="100"
  >
  <send>open red
open orange
open yellow
open green
open cyan
open blue
open mag
open black</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hs"
   match="^[&gt; ]*有人掀开白色幔帐的一角。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Send("east")
if GetVariable("bianli")=="1" then
  DeleteTimer("temp")
--  DoAfter(1,"set tri 继续遍历")
--  SetVariable("stop",0)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^[&gt; ]*玉箫道人迎了上来，双眼发着绿光，吸引得你目不转睛，神志渐失。。。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>a2 set tri 杀玉箫道人</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*圆灭说道：好，方丈南院向北，你去吧！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("ask_yuanmie",0)</send>
  </trigger>
  <trigger
   group="pfm"
   match="^[&gt; ]*在这不可偷袭！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local location = GetVariable("location")
local nomagic = GetVariable("nomagic")
local area = GetVariable("area")
if ismember(location, nomagic, "|") == 0 then
    SetVariable("nomagic", nomagic.."|"..area.."|"..location)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="escape"
   match="^[&gt; ]*战斗中无法使用仙法！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 如果定时器pfm关闭则打开
if GetTimerInfo("pfm",6)==false then
  EnableTimer("pfm")
end

local mtime=tonumber(GetVariable("mtime"))
local retry=tonumber(GetVariable("mission_retry"))+1

-- 到达任务时限或在火沼(火巨灵)直接useseal
if GetVariable("mission_cancel")=="1" or GetVariable("area")=="cxn" then
  Send("useseal")
end

if GetVariable("location") == "八术诛仙阵" then
    Send("useseal")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*张三嘿嘿笑道：小兔崽子你进去了，爷爷我怎么办。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill miao shaotian
kill zhao yidao
Rush zhang san</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*账房先生用很一种奇怪的眼神瞄你$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill xiansheng
pfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*赵一刀怪眼一翻，喝道：小兔崽子没事回家吃奶去，别跑这多事。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill miao shaotian
kill zhao yidao
Rush zhang san</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_tx"
   match="^[&gt; ]*这个方向的路被\S\S袍公挡住了 。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush oldguy
kill oldguy 2</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^[&gt; ]*这个方向的路被\S\S衣武士挡住了 。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush wu shi</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*这个方向的路被黄衣卫统领挡住了。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush guard leader</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   match="^[&gt; ]*这个方向的路被贾员外挡住了 。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 没airong治疗jia的mark
if GetVariable("mnpc_location")~="枯井底" then
    Execute("Rush jia")
else
    SetVariable("stop",1)
    Execute("StepBack;w;#7 n;w;withdraw 50000")
    DoAfterSpecial(2,"e;s;s;w;w;s;give gold to yang;n;e;e;s;w;cure old monk",sendto.execute)
    DoAfterSpecial(7,"e;s;s;s;s;e;cure jia",sendto.execute)
    DoAfterSpecial(12,"drop airong;e;ask jianu about jia;d",sendto.execute)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_jn"
   match="^[&gt; ]*这个方向的路被南宫灵挡住了 。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush master nangong</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_tx"
   match="^[&gt; ]*这个方向的路被铁少挡住了 。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush master tieshao</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   keep_evaluating="y"
   match="^[&gt; ]*这个方向没有出路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("area")=="dq2") then 
  Execute("StepBack")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   keep_evaluating="y"
   match="^[&gt; ]*这个方向没有出路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--[[
southup
山崖边 - 
    前面是一道深不见底的万丈深渊。下面白云缭绕，什么都看不见，
就连死人的幽灵都看不见。难道那幽灵山庄就在这万丈深渊之下？
get pipe from rock
blow pipe
    春天，小雨。
    正午到了，忙碌的世界似乎安静了一些。
    这里明显的出口是 west 和 south。
&gt; 你从石头下拿出一个铜哨。
&gt; 你拿起一个铜哨吹了一声。

白云之间忽然出现了一个人，什么人能凌空站在白云里？
你走到崖边才发现，白云里有条很粗的钢索，横贯了两旁的山崖。
&gt; 
east
房之元神忽然出现。
氐之元神忽然出现。
牛之元神忽然出现。
胃之元神忽然出现。
毕之元神忽然出现。
什么？
==============================
有时候blow pipe后east没出口，原因未明，因此用go east做特殊处理
]]--

if GetVariable("bianli")=="1" and GetVariable("area")=="yl" then
    Execute("StepBack;look")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   keep_evaluating="y"
   match="^[&gt; ]*这个方向没有出路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 镖局账房处小床没移开，没有down出口。如账房先生在需要杀
if (GetVariable("bianli")=="1" and GetVariable("area")=="fy" and GetVariable("location")=="镖局账房") then
  Send("push beg")
  Execute("StepBack")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_wm"
   keep_evaluating="y"
   match="^[&gt; ]*这个方向没有出路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("area")=="wm") then 
  Execute("StepBack;look river")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cx"
   keep_evaluating="y"
   match="^[&gt; ]*这个方向没有出路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云堂处书画没pull成功，没有east出口。方龙香主动叫杀.
--[[
风云堂 - 
    风云客栈的大堂，几张大红木的八仙桌上还镶着云石，墙上挂着各方名家的书
pull 书画
画，架上摆着四季长开的鲜花，让人一走进来，就会觉得自己能在这种地方吃饭是
种荣幸。平时客栈里川流不息地进出的俱是些挺胸凸腹的武林豪杰。
    这里明显的出口是 south 和 north。
  农家女(Nongnu)
  青龙会 分舵舵主「铁钩银划」方龙香(Fang longxiang)
&gt; 方龙香对你大喝一声：兔崽子，敢打老子的主意，拿命来！
kill fang longxiang
wield ruyi
perform kuaidao
unwield ruyi
看起来方龙香想杀死你！
&gt; 
你对著方龙香喝道：「小王八蛋！今日不是你死就是我活！」

看起来方龙香想杀死你！
&gt; 你「唰」地一声抽出一把金如意握在手中。
&gt; 
你将刀横于胸前，左手中指在刀背上一弹，右手借力挥刀。。。

不见刀锋如何动作，只见一道亮光从方龙香身前划过！
结果只听见方龙香一声惨嚎，方龙香左胯被划出一道深及见骨的可怕伤口！！
( 方龙香已经陷入半昏迷状态，神智全失，如风中残烛，随时都可能断气。 )
&gt; 你将手中的金如意插入腰间的剑鞘。
&gt; 
wield ruyi
perform kuaidao
unwield ruyi

方龙香死了。
look corpse

尾之元神忽然出现。
kill 
你「唰」地一声抽出一把金如意握在手中。
&gt; （你上一个动作还没有完成，不能施用外功。） 
&gt; 你将手中的金如意插入腰间的剑鞘。
&gt; 他是这里的老板，眼角虽有了皱纹，但眼睛却还是雪亮，一只断手装
了个铁钩子。
然而，他已经死了，只剩下一具尸体静静地躺在这里。
他的相貌吗... 都已经死了，还有什么好看的！
这里面有：
  铁钩(Hook)
    布衣(Cloth)

&gt; 你想杀谁？
&gt; 
hp
 精力  ： 731908/ 731908 (100%)    食物：  99%
 气血  ： 3595573/ 3595574 ( 97%)    饮水：  99%
 心神  ： 682040/ 682040 (100%)    评价： 24923018
 灵力  ： 4540/ 4540 (   0)    杀气： 15644
 内力  ： 13000/ 13300 ( 150)    潜能： 5323163
 法力  ： 4000/ 4000 (   0)    经验： 538895633
&gt; 
wield ruyi
perform kuaidao
unwield ruyi
你「唰」地一声抽出一把金如意握在手中。
&gt; ［快刀］只能对战斗中的对手使用。
&gt; 你将手中的金如意插入腰间的剑鞘。
&gt; 
go east
kill yan tieshan
perform dodge.lianhuanbabu yan tieshan
wield moonblade
perform yuanyue yan tieshan
unwield moonblade
hp
这个方向没有出路。
pull 书画
&gt; 这里没有这个人。
&gt; 这里没有 yan tieshan。
&gt; 你的圆月弯刀突然出鞘，你根本就没有看见你拔刀！
&gt; 这里没有 yan tieshan。
&gt; 你的圆月弯刀已入鞘。
&gt;  精力  ： 731908/ 731908 (100%)    食物：  99%
 气血  ： 3595573/ 3595574 ( 97%)    饮水：  99%
 心神  ： 682040/ 682040 (100%)    评价： 24923018
 灵力  ： 4540/ 4540 (   0)    杀气： 15644
 内力  ： 13000/ 13300 ( 150)    潜能： 5323163
 法力  ： 4000/ 4000 (   0)    经验： 538895633
&gt; 你拉起墙上的书画，发现了一个暗门。
&gt; 
perform dodge.lianhuanbabu
wield moonblade
perform yuanyue
unwield moonblade
hp
［连环八步］只能对战斗中的对手使用。
&gt; 你的圆月弯刀突然出鞘，你根本就没有看见你拔刀！
&gt; ［明月几时有］只能对战斗中的对手使用。
&gt; 你的圆月弯刀已入鞘。
&gt;  精力  ： 731908/ 731908 (100%)    食物：  99%
 气血  ： 3595573/ 3595574 ( 97%)    饮水：  99%
 心神  ： 682040/ 682040 (100%)    评价： 24923018
 灵力  ： 4540/ 4540 (   0)    杀气： 15644
 内力  ： 13000/ 13300 ( 150)    潜能： 5323163
 法力  ： 4000/ 4000 (   0)    经验： 538895633
&gt; 书画荡了回来，又遮住了暗门。
go east
kill yan tieshan
perform dodge.lianhuanbabu yan tieshan
wield moonblade
perform yuanyue yan tieshan
unwield moonblade
hp
这个方向没有出路。
pull 书画
&gt; 这里没有这个人。
&gt; 这里没有 yan tieshan。
&gt; 你的圆月弯刀突然出鞘，你根本就没有看见你拔刀！
&gt; 这里没有 yan tieshan。
&gt; 你的圆月弯刀已入鞘。
&gt;  精力  ： 731908/ 731908 (100%)    食物：  99%
 气血  ： 3595573/ 3595574 ( 97%)    饮水：  99%
 心神  ： 682040/ 682040 (100%)    评价： 24923018
 灵力  ： 4540/ 4540 (   0)    杀气： 15644
 内力  ： 13000/ 13300 ( 150)    潜能： 5323163
 法力  ： 4000/ 4000 (   0)    经验： 538895633
&gt; 你拉起墙上的书画，发现了一个暗门。
&gt; 
perform dodge.lianhuanbabu
wield moonblade
perform yuanyue
unwield moonblade
hp
［连环八步］只能对战斗中的对手使用。
&gt; 你的圆月弯刀突然出鞘，你根本就没有看见你拔刀！
&gt; ［明月几时有］只能对战斗中的对手使用。
&gt; 你的圆月弯刀已入鞘。
]]--

if (GetVariable("bianli")=="1" and GetVariable("area")=="cx" and GetVariable("location")=="风云堂") then
  Execute("pull 书画;StepBack")
  if GetVariable("mnpc_autokill")=="1" then
    Send("east")
  else
    Execute("bianli")
  end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hsl"
   keep_evaluating="y"
   match="^[&gt; ]*这个方向没有出路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("area")=="hsl") then 
  Execute("StepBack")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*这里不准念咒文。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local location = GetVariable("location")
local nomagic = GetVariable("nomagic")
local area = GetVariable("area")
if ismember(location, nomagic, "|") == 0 then
    SetVariable("nomagic", nomagic.."|"..area.."|"..location)
end
local class = GetVariable("class")
if GetVariable("fight") == "1" then
    if ismember(class, "sq", "|") &gt; 0 and GetVariable("player_id") ~= "lnf" then
        SetVariable("mission_cancel", 1)
        Send("useseal")
    elseif  ismember(class, "dz", "|") &gt; 0 then
        SetVariable("pfm",GetVariable("mypfm"))
    end
else
    Execute("NoPfm")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*这里没有 (.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_name") == "无须老人" and GetVariable("passive_kill") == "0" then
&#9;local mnpc_wx = GetVariable("mnpc_wx")
&#9;mnpc_wx = delitem(mnpc_wx, "%1", "|")
&#9;SetVariable("npc_id", item(mnpc_wx, 1, "|"))
        Note(mnpc_wx)
elseif "%1"==GetVariable("npc_id") then
&#9;SetVariable("npc_id","")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_hs"
   match="^[&gt; ]*这里没有那麽多的毒蒺藜。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 处理暗器数量分堆的补丁
if GetVariable("auto_mission") == "1" and GetVariable("class") == "hs" then
    Execute("g tribuli;drop tribuli;g 10 tribuli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*这里没有这个人。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local location = GetVariable("location")
if GetVariable("bianli")=="1" then
    if ismember(location,"靠在海边的船|海边|南海码头|青砖甬道","|")&gt;0 then
        if location == "青砖甬道" and GetVariable("hsdummy_id") ~= "" then
            AddTimer("temp",0,0,3,"tell "..GetVariable("hsdummy_id").." open curtain",timer_flag.Temporary,"")
            SetTimerOption("temp","enabled",1)
            DoAfterSpecial(9,"if GetVariable('location')=='青砖甬道' then SetVariable('mission_cancel',1);Execute('Return') end",sendto.script)
        else
            SetVariable("mission_cancel",1)
            Execute("Return")
        end
    elseif location=="无名的空地" then
        -- 如果有 qing feng book 则继续
        if GetVariable("item_qfbook")~="0" then
            SetVariable("stop",0)
            Execute("bianli")
        elseif GetVariable("enablemagic")=="essencemagic" or GetVariable("item_shouhuan")=="1" then
            --如果enable八识或者有手环
            AddTimer("temp",0,0,3,"hi",timer_flag.Temporary,"")
            SetTimerOption("temp","enabled",1)
            DoAfterSpecial(9,"if GetVariable('location')=='无名的空地' then SetVariable('mission_cancel',1);Execute('Return') end",sendto.script)
        else
            -- 没有 qing feng book 则返回
            SetVariable("mission_cancel",1)
            Execute("Return")
        end
    end
end
if location=="一品居密室" and GetVariable("npc_id")=="long wu" then
    SetVariable("refresh_longwu",1)
    Execute("Return")
elseif location=="青枫观" and GetVariable("npc_id")=="gu qingfeng" then
    SetVariable("refresh_guqingfeng",1)
    Execute("Return")
elseif location=="山坳" and GetVariable("robot_tangqing")=="1" then
    Execute("e;whisper lady 你不是女人;ask tie monk about 少林寺;g bone;throw bone;p bone;kk tang qing")
elseif location=="半山酒家" and GetVariable("npc_id")=="tang qing" then
    SetVariable("refresh_tangqing",1)
    Execute("Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*这里无法使用神通。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local location = GetVariable("location")
local nomagic = GetVariable("nomagic")
local area = GetVariable("area")
if ismember(location, nomagic, "|") == 0 then
    SetVariable("nomagic", nomagic.."|"..area.."|"..location)
end
local class = GetVariable("class")
if GetVariable("fight") == "1" then
    if ismember(class, "wm|sq", "|") &gt; 0 then
        SetVariable("mission_cancel", 1)
        Send("useseal")
    end
else
    Execute("NoPfm")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="pfm"
   match="^[&gt; ]*这里无法使用外功。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>NoPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^[&gt; ]*这是\S\S人浴室，你冲进去作什么？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_cancel",1)
Execute("kao;Return")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ml"
   match="^[&gt; ]*这是一根粗壮光滑的树枝，现在对着正(\S\S)方。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local manglin = GetVariable("manglin")  -- 目标方向
local dir = "%1"    -- 树枝方向
local sum=0
if manglin~="" then
    if dir == "北" then
        sum=tonumber(ismember(manglin,"东|南|西","|"))
    elseif dir == "东" then
        sum=tonumber(ismember(manglin,"南|西|北","|"))
    elseif dir == "南" then
        sum=tonumber(ismember(manglin,"西|北|东","|"))
    elseif dir == "西" then
        sum=tonumber(ismember(manglin,"北|东|南","|"))
    end
    if GetVariable("find")~="1" then
        for i=1,sum do
            SendImmediate("turn vine")
        end
        SendImmediate("swing vine")
    end
end
</send>
  </trigger>
  <trigger
   enabled="y"
   group="item"
   match="^[&gt; ]*这是一口由天蚕蚕丝所制的布袋，韧性极强，不易破损。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("rq_type","bag")
Execute("ClearBag")</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*这套剑法到这儿后就要靠自己练了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*这项技能你的程度已经不输你师父了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*这项技能你好象还不会呢！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*这项技能你恐怕必须找别人学了。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>d1</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_xg"
   match="^[&gt; ]*这种法术只能对战斗中的对手使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dz"
   match="^[&gt; ]*这种真言只能对战斗中的对手使用。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>AfterPfm</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_wd"
   match="^[&gt; ]*知客道人把.+挡了回来！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush waiter taoist</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_srz"
   match="^[&gt; ]*只听得卡卡两声，坐垫忽然一沉，你咕咚地往下掉了下去。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DeleteTimer("temp")
SetVariable("stop",0)
--Execute("bianli")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lyz"
   match="^[&gt; ]*只听见一声杀猪般的惨叫，你已经往山涧中坠了下去。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- lyz hold vine掉下去，中了缠丝 dodge低</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ss"
   match="^[&gt; ]*只听咯吱吱，石头又滑了回来挡上了洞口。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="山洞秘道") then
  Send("push stone")
  Execute("StepBack")
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*朱藻哈哈笑道：“这位.+倒也乖巧，就算你过阵了吧！”$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" and GetVariable("stop")=="1" then
  SetVariable("stop",0)
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*诸葛小雷从仓库里找出一把.+，然后递给你。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("ask_weapon",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="bianli"
   match="^[&gt; ]*诸葛小雷犹豫了一下，眉头皱了皱。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("ask_weapon",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sl"
   match="^[&gt; ]*壮年和尚对你道：非少林弟子不得上楼\!$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>Rush monk</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^[&gt; ]*卓三娘说道：风老四已经醒了，我们还要你帮干嘛？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- accept yes 进方舟失败，取消任务</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*组织对(.+)的能力产生了怀疑\!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 超过时间未能完成任务
if "%1"==GetVariable("player_name") then
    SetVariable("tick","um")
    SetVariable("mission_log",GetVariable("mission_log")..",时间:"..GetVariable("mtime").."秒,取消")
    writefile("mission_log_"..GetVariable("player_id")..".csv",GetVariable("mission_log"))

    --发呆需要清除，否则会导致mission_log变量无限增大
    if GetVariable("auto_mission")=="0" then
        SetVariable("mission_log","")
    end
end
Execute("mission_complete")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*组织任务被你完成，你被奖励了：$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--if GetVariable("die")=="0" then Execute("Return") end
SetVariable("target_die", 1)

SetVariable("mission_log",GetVariable("mission_log")..",时间:"..GetVariable("mtime").."秒")

-- 记录任务总数
SetVariable("mission_total",tonumber(GetVariable("mission_total"))+1)

-- 记录任务总时间
SetVariable("mission_totaltime",tonumber(GetVariable("mission_totaltime"))+tonumber(GetVariable("mtime")))

SetVariable("mtime",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*组织任务取消了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_totalcc",tonumber(GetVariable("mission_totalcc")+1))
SetVariable("tick","um")
SetVariable("mission_log",GetVariable("mission_log")..",时间:"..GetVariable("mtime").."秒,取消")
writefile("mission_log_"..GetVariable("player_id")..".csv",GetVariable("mission_log"))
--发呆需要清除，否则会导致mission_log变量无限增大
if GetVariable("auto_mission")=="0" then
    SetVariable("mission_log","")
end
Execute("mission_complete")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mission"
   match="^[&gt; ]*组织现在还没有关于(.+)的情报。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("idle_time",0)

if GetVariable("auto_mission")=="1" then
-- 记录任务总时间
SetVariable("mission_totaltime",tonumber(GetVariable("mission_totaltime"))+tonumber(GetVariable("mtime")))

-- 记录任务时间
  SetVariable("mtime",0)
  EnableTimer("mtime")

  SetVariable("mission_retry",0)
  SetVariable("mission_cancel",0)
  SetVariable("mission",1)

  -- 查询MNPC
  Execute("mnpc ".."%1")
  SetVariable("tick","hp")

  -- 记录任务开始时间
  SetVariable("mission_log",os.date("%Y-%m-%d %H:%M:%S", os.time()))
  -- 记录任务对象
  SetVariable("mission_log",GetVariable("mission_log")..","..GetVariable("mnpc_name"))

  if GetVariable("mnpc_cancel")=="1" then
    Execute("mc")
  elseif GetVariable("class")=="sq" then
    if GetVariable("mnpc_name")=="多儿甲" then
      Execute("eu;tty master lv")
    else
    Execute("eu;tty "..GetVariable("mnpc_id"))
  end
  else
  -- 天眼通找MNPC
  SetVariable("tty_num",0)
  EnableTimer("tty")
  end

  -- 发呆状态记录
  else
    -- 记录任务开始时间
    SetVariable("mission_log",os.date("%Y-%m-%d %H:%M:%S", os.time()))
    -- 记录任务对象
    SetVariable("mission_log",GetVariable("mission_log")..",".."%1")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^[&gt; ]*佘王满狂笑道：十二星相在办事，闲人滚开！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kk she wangman</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^[&gt; ]*佘王满阴笑道：你终于来了！$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kk she wangman</send>
  </trigger>
  <trigger
   enabled="y"
   group="learn_teach"
   match="^[&gt; ]*姹女神功是神水宫弟子独有的武功。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("skill_next",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你动作有点不太灵光，但仍有条不紊，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;80")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你反应开始迟缓，双目无神，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;60")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你精力充沛，神完气足，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio=100")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你精力涣散，似乎对痛痒都失去知觉，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;40")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你精力有点不足，但仍攻守从容，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;80")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你看来已经麻木不仁了，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;20")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你看起来可能有些不济，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;90")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你看起来已经魂不守舍了，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;20")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你看起来已经力不从心了，"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;20")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你气喘嘘嘘，脸色惨白，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;60")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你神情有些恍惚，但仍应付自如，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;80")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你似乎十分疲惫，看来需要好好休息了，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;40")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你似乎已经深受严重内伤，无从挣扎，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 新的受伤描述
Note("ratio&gt;10")
SetVariable("usedan",tonumber(GetVariable("usedan"))+1)
if GetVariable("usedan") == "1" then
  SendImmediate("use dan")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你似乎有些疲惫，但是仍然十分有活力，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;95")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你头重脚轻，正在勉力支撑著不倒下去，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;30")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你歪歪斜斜，濒于晕倒，内伤十分严重，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 新的受伤描述
Note("ratio&gt;10")
SetVariable("usedan",tonumber(GetVariable("usedan"))+1)
if GetVariable("usedan") == "1" then
  SendImmediate("use dan")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你行动虽然无碍，精力明显跟不上了，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;60")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你眼光迷离，六神无主，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;40")</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你摇头晃脑、歪歪斜斜，濒于晕倒，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;10")
SetVariable("usedan",tonumber(GetVariable("usedan"))+1)
if GetVariable("usedan") == "1" then
  SendImmediate("use dan")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="^\( 你已经陷入半昏迷状态，神智全失，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("ratio&gt;10")
SetVariable("usedan",tonumber(GetVariable("usedan"))+1)
if GetVariable("usedan") == "1" then
  SendImmediate("use dan")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="general"
   match="^\=\= 未完继续 \d+\% \=\= \(ENTER 继续下一页，q 离开\)$"
   regexp="y"
   sequence="100"
  >
  <send>
</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^“纾　蹦隳源插进了腐朽的木板里面。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  SetVariable("mission_cancel",1)
  Execute("Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="target"
   match="^◎ 「风云四」目前.?.?性玩家有：$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 把 who 指令列出的玩家 id 添加到 player_list 变量
-- SetVariable("player_list", "")
EnableTriggerGroup("player_list")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cxn"
   match="^－－火沼泽。那里不但荆棘密布，猛兽出没，还有能至人于死地$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("cxn_hzsc",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^暗器散发出一阵甜香，骇然是泡了天下奇毒鹤顶红！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 满天花雨特效，使用者最大精/2+随机最大精/5
SetVariable("usedan",tonumber(GetVariable("usedan"))+1)
if GetVariable("usedan") == "1" then
  SendImmediate("use dan")
end
</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^不出名字的(\S\S)色野花，但见落叶铺地，踩上去沙沙做响，你高一脚低一脚地向前摸$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("fg_ml",0)
if GetVariable("bianli")=="1" then SetVariable("stop",1) end
if "%1"=="白" then
  AddTimer("temp",0,0,1,"set brief;e;s;w;s;w;unset brief;set tri 富贵密林",timer_flag.Temporary,"")
  SetTimerOption("temp","send_to",10)
  SetTimerOption("temp","enabled",1)
else
  DoAfter(1,"west")
end</send>
  </trigger>
  <trigger
   expand_variables="y"
   group="topaz"
   match="^采茶女死了。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>get tea
put tea in @rq</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^持剑的青衣少女死了。$"
   regexp="y"
   sequence="100"
  >
  <send>look</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^船夫升起帆，船就向东方航行。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("stop",1)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^从吸管里喷出一股暗紫色的浓烟。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("stop",1)
AddTimer("temp",0,0,5,"set tri 地窖醒来", timer_flag.Enabled+timer_flag.Temporary,"")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_mj"
   match="^但是(\S+)以静制动，并不慌乱！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%1"~="你" then
  SetVariable("pfm_lhbb_fail",tonumber(GetVariable("pfm_lhbb_fail"))+1)
  if tonumber(GetVariable("pfm_lhbb_fail")) &gt; 1 then
    SetVariable("pfm_lhbb",0)
    SetVariable("pfm_lhbb_fail",0)
  end
end
-- Note(GetVariable("pfm_lhbb_fail")..","..GetVariable("pfm_lhbb"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="plane"
   match="^当回过神来之时，雷老大似乎已经若无其事，但你却凭空消失。。。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 关外：光阴树 (50 gold)
if GetVariable("auto_mission")=="1" then
  SetVariable("bianli",1)
  SetVariable("step",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^稻草人摇摇摆摆着倒了下去，露出一条小路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>Send("drop paper")
DoAfter(6,"east")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ls"
   match="^的，一尘不染。四周是半人高的竹篱笆，在百花掩映中，一扇小门关得紧紧的。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~=GetVariable("location")) then
  Execute("#3(knock door)")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^的关着。地上铺着层木板，木板下就是冰冻三尺的松花江。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~="小屋") then
  Send("pull 木板")
end</send>
  </trigger>
  <trigger
   group="area_fy"
   match="^的一个小窗上都镶满拇指粗细的钢条。屋角有小床。这里由总镖头最亲信的人日夜$"
   regexp="y"
   sequence="100"
  >
  <send>push 小床</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^动洁白的浪花，海面飘着轻轻的薄雾。茫茫的大海上没有一点帆影，极目远眺，海天$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--"碧蓝海边"去常春岛吹哨上船
SetVariable("flag",tonumber(GetVariable("flag"))+1)
if GetVariable("bianli")=="1" and (GetVariable("area")=="dq3" or GetVariable("area")=="island") and GetVariable("flag")=="2" then
    Execute("StepForward;bianli")
    SetVariable("flag",0)
    SetVariable("stop",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="plane"
   match="^斗篷渐渐缩小，雨妹突然把斗篷一收，你已不知去向！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 白云岛：潜龙泉 (50 gold)
if GetVariable("auto_mission")=="1" then
  SetVariable("bianli",1)
  SetVariable("step",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^对兄弟们可交代不过去呦\.\.\.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 有老山东套装没烧鸡MARK
Execute("StepBack")
SetVariable("stop",1)
bianli("nd;nd;nw;e;g ttcash;g cash;g gold;g silver;buy meat from shandong;p ttcash;p cash;p gold;p silver;p coin;w;se;su;su;give meat to louluo")
DoAfter(4,"set tri 继续遍历")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^耳边只有海浪（wave）的拍打声。$"
   regexp="y"
   sequence="100"
  >
  <send>look wave</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^飞激四溅。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--
if GetVariable("mnpc_location")=="洞穴" then
  Send("move rock")
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_wm"
   match="^佛是一股暗流在冲击着洞壁。洞壁上还是寒冰密布！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 中间小洞
-- 建立临时定时器 temp
if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~=GetVariable("location")) then
  SetVariable("stop",1)
  Send("get wineskin from @rq")
  AddTimer("temp",0,0,0.5,"pour wineskin", timer_flag.Enabled+timer_flag.Temporary,"")
end</send>
  </trigger>
  <trigger
   group="player_list"
   match="^共有.*位使用者连线中，系统负担：.*comp lines\/s$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 把 who 指令列出的玩家 id 添加到 player_list 变量
EnableTriggerGroup("player_list", false)
Note(num(GetVariable("player_list"),"|"))</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^孤独美说道：到了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 到了悬崖边
SetVariable("yl_gdm",0)</send>
  </trigger>
  <trigger
   group="mnpc"
   match="^红光一闪，甜味突然弥漫在空间之内，让人头晕眼花。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 情人箭特效</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_hs"
   match="^红嘴乌鸦听了公冶长的话，兴奋地飞了起来，绕着你忽前忽后 $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DeleteTimer("temp")
Send("follow crow")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^见，也没什么声音，只有塔下一棵银杏树在山风中瑟瑟作响。  $"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--断塔下，白天。
if GetVariable("mnpc_location")~="断塔下" then
  Send("look 断塔")
  Send("push door")
  Send("enter")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^酒肉和尚死了。$"
   regexp="y"
   sequence="100"
  >
  <send>open door</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^就连死人的幽灵都看不见。难道那幽灵山庄就在这万丈深渊之下？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if ismember(GetVariable("mnpc_location"), "原始丛林|山崖边", "|") == 0 then
    if GetVariable("class") == "yl" then
        local path = GetVariable("path")
        local idx = ismember("go east", path, ";")
        SetVariable("path",modiitem(path, idx, ";", "east"))
    else
        Execute("get pipe from rock;blow pipe")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ty"
   match="^看不见任何明显的出路。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetTimerOption("temp","send","catch rabbit")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ss"
   match="^口，洞口不大，只容得一人进出，但却被一块大石从外面挡住，除此之外你$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_location")~="山洞秘道" then
  Send("push stone")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^来转什么，当心饿大虫一口吞了你！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 没老山东套装和饿虎岗烧鸡MARK
Execute("StepBack")
SetVariable("stop",1)
Execute("nd;nd;nw;e;g ttcash;g cash;g silver;buy meat from shandong;pm;kill old shandong")
DoAfterSpecial(5,"gc shandong skinmask;gc dirty cloth;remove all;wear all;w;se;su;su;give meat to louluo",sendto.execute)
DoAfter(7,"set tri 继续遍历")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^李坏目不转睛地盯着你，准备发出致命一击。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local mission_retry=tonumber(GetVariable("mission_retry"))+1
if mission_retry&gt;2 then
  SetVariable("mission_retry",0)
  SetVariable("mission_cancel",1)
else
  SetVariable("mission_retry",mission_retry)
end
Send("useseal")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^连眼睛都睁不开。暗道尽头是一堵似乎可以推动的木墙。$"
   regexp="y"
   sequence="100"
  >
  <send>open door</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_khl"
   match="^没过头顶，你只觉得浑身爆裂欲炸\.\.\.\.\.\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Send("set tri 快活林入口")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^南宫平躲在\S{8}的背后喊道：给我杀！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_name")=="南宫平" then
  Execute("kk "..GetVariable("mnpc_id"))
end</send>
  </trigger>
  <trigger
   group="status"
   match="^你从忘我的境界中回神敛气，睁开了眼睛。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>AddTimer("temp",0,0,5,"dazuo",timer_flag.Enabled+timer_flag.Temporary+timer_flag.Replace+timer_flag.OneShot,"")
Send("hp")
Send("ask master about 衣钵")
DoAfter(1,"dazuo")</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^你的眼前突然出现一团耀眼的光芒，光芒中浮现出一个人影！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_name") == "金非" and GetVariable("location") == "神秘冰河" then
    Execute("kk jin fei")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="general"
   match="^你对著(.+)喝道：「.+！今日不是你死就是我活！」$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--保存主动叫杀对象的名字
SetVariable("kill_name","%1")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_island"
   match="^你二话不说，纵身跳进海里！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>AddTimer("temp",0,0,0.2,"swim", timer_flag.Enabled+timer_flag.Temporary,"")</send>
  </trigger>
  <trigger
   enabled="y"
   group="die"
   match="^你复活了！！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("die",0)
EnableTimer("revive",false)
Execute("n;lb;i;hp;Return")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_ct"
   match="^你手中.+直指长空，陡然直刺(.+)\!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("ct_spear", "zonghengtianxia")
Send("enable spear yue-spear")</send>
  </trigger>
  <trigger
   group="tri_dz"
   match="^你突然张目怒视，喝到：「！」(.+)似乎被你手上的兵器所散发的光芒刺得睁不开眼。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 光照咒施放成功，持续破精防，可切换至 cast an
SetVariable("dz_gmz",1)
if ismember(GetVariable("location"), GetVariable("nomagic"), "|") == 0 then  -- 如果地点不是no_magic则切换到cast
    if ismember(GetVariable("mnpc_name"), "程驹|怜星", "|") == 0 then  -- 如果不是"程驹|怜星"则切换到cast an
        SetVariable("pfm","ca_a")
    else
        SetVariable("pfm","ca_h")
    end
end</send>
  </trigger>
  <trigger
   group="tri_bat"
   match="^你一式［十万神魔］刚刚使尽，刀招在这一瞬间突然又有了新的变化！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("pfm","pfm_swsm")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bw"
   match="^你只觉得一股排山倒海般的掌力当胸击至。“碰！”你被击得破壁而出，$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 百里打晕送出
-- 建立临时定时器 temp
SetVariable("stop",1)
Execute("StepForward")
AddTimer("temp",0,0,5,"set tri 断墙边醒来", timer_flag.Enabled+timer_flag.Temporary,"")</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_wm"
   match="^盘旋一周，鸣叫着又钻了回去。到处都是寒冰！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 左边小洞
-- 建立临时定时器 temp
if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~=GetVariable("location")) then
  SetVariable("stop",1)
  Send("get wineskin from @rq")
  AddTimer("temp",0,0,0.5,"pour wineskin", timer_flag.Enabled+timer_flag.Temporary,"")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dwg"
   match="^平滑，令人惊奇的是石面上的几块黑色印痕，不知是天然而成，或是人为$"
   regexp="y"
   sequence="100"
  >
  <send>step 黑色印痕</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_cxn"
   match="^软的。偶尔有一两个气泡从地上的积水下涌出，带出令人作呕的刺$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="火沼深处" then
  SetVariable("cxn_hzsc",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_tx"
   match="^森幽暗。这里的茅草\(grass\)似乎更密更厚了。$"
   regexp="y"
   sequence="100"
  >
  <send>pushaside grass</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_sgs"
   match="^天枫十四郎对你说道：好！你可以过去了。$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>StepBack
bianli</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fy"
   match="^条幅书道：            赏罚分明$"
   regexp="y"
   sequence="100"
  >
  <send>open 条幅</send>
  </trigger>
  <trigger
   enabled="y"
   group="mnpc"
   match="^铁开诚剑尖忽然起了奇异的震动。剑尖本来是斜斜指向你，震动一起，万物忽然间全都静止。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local mission_retry=tonumber(GetVariable("mission_retry"))+1
if mission_retry&gt;2 then
  SetVariable("mission_retry",0)
  SetVariable("mission_cancel",1)
else
  SetVariable("mission_retry",mission_retry)
end
Send("useseal")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_lw"
   match="^突然感到极度窒息，两股杀气分前后而至\!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location") == "河边小路" then
    Execute("kill bai hu;Rush ma yiyun")
elseif GetVariable("location") == "峡谷尽头" then
    Execute("kill bai yang;Rush huang niu")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bat"
   match="^突然间，你的船触礁了！一个大浪打来，你被抛入空中．．．$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  DoAfterSpecial(1,"SetVariable('stop',0);Execute('bianli')",sendto.script)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_qp"
   match="^突然脚下一滑，扑通一声掉进了水里。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 掉进"池塘里"的描述，如果位置是"柳树上"需要重新遍历。
if GetVariable("mnpc_location")=="柳树上" then
  local mission_retry=tonumber(GetVariable("mission_retry"))+1
if mission_retry&gt;2 then
  SetVariable("mission_retry",0)
  SetVariable("mission_cancel",1)
else
  SetVariable("mission_retry",mission_retry)
end

Execute("Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dz"
   match="^为了不打扰大师清修，禅房的木门经常是紧闭着。$"
   regexp="y"
   sequence="100"
  >
  <send>open door</send>
  </trigger>
  <trigger
   enabled="y"
   group="AtConnect"
   match="^现在共有(.+)位玩家从你的站点（.+）连线。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- QUIT，重新登录
SetVariable("login",1)
SetVariable("getluwei",1)
Send("drop cloth")
Execute("unset brief;unset brief2;unset brief3;wimpy 20;set nomap;set savemyass hp;set savemymoney")
DoAfterSpecial(1,"sk",sendto.execute)
DoAfterSpecial(3,"enable;score;lb;i;hp;uptime;look",sendto.execute)</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_wm"
   match="^向更深的山腹中。但是由于洞内极冷，洞口都被寒冰盖住了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 瀑后山洞
-- 建立临时定时器 temp
if (GetVariable("bianli")=="1" and GetVariable("mnpc_location")~=GetVariable("location")) then
  SetVariable("stop",1)
  Send("get wineskin from @rq")
  AddTimer("temp",0,0,0.5,"pour wineskin", timer_flag.Enabled+timer_flag.Temporary,"")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_ty"
   match="^野兔三转两转，倏地一下不见了踪影。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>DeleteTimer("temp")
Execute("listen;se")
if GetVariable("auto_mission")=="1" then    --如果是自动任务则进行以下判断
    if GetVariable("item_lighter")=="0" then
        Execute("e;e;e;n;push door;n;e;get lighter from 灶台;p lighter;um;Return")   --没有lighter则自动去取。
    elseif GetVariable("area")=="hgs" and GetVariable("mnpc_location")=="松树" and GetVariable("refresh_rope")=="0" then   --如果当前任务是黄山松树则去制作rope
        SetVariable("refresh_rope",1)
        local wq=""
        local myblade=GetVariable("myblade")
        local mysword=GetVariable("mysword")
        if myblade~="" then --武器指定为刀
            wq=myblade
        elseif mysword~="" then --武器指定为剑
            wq=mysword
        else
            wq="all"  -- 没刀剑则all
        end
        Execute("e;e;s;e;wield "..wq..";chop vine;unwield "..wq..";make;p rope;um;Return")
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_yl"
   match="^叶孤鸿死了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 避免叶孤鸿死太快，孤独美还没说出方向已经走动，固设延时
DoAfterSpecial(2,"go "..GetVariable("dir"),sendto.execute)</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dwg"
   match="^一大团带著烂泥的水草就在你的脚边。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--取手环，兴国、帝王谷不需要手环
if GetVariable("item_shouhuan")=="0" and ismember(GetVariable("class"),"xg|dwg","|")==0 then
    Execute("get woodcase from 水草;get shouhuan from woodcase;p shouhuan;drop woodcase")
    AddTriggerEx("temp", "^食人鱼死了。" , "DoAfterSpecial(4,'get woodcase from 水草;get shouhuan from woodcase;p shouhuan;drop woodcase',sendto.execute)", trigger_flag.Enabled + trigger_flag.OneShot + trigger_flag.RegularExpression, -1, 0, "", "", sendto.script, 60)
    if GetVariable("mission")=="0" and GetVariable("auto_mission")=="1" then
        DoAfterSpecial(8,"um",sendto.execute)
    end
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_df"
   match="^一的特色是南瓜。西面的土墙上似乎有很多人影在晃动。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("bianli")=="1"  and GetVariable("area")=="df" and ismember(GetVariable("mnpc_location"),"焦都驿|储藏室","|")==0 and GetTimerInfo("temp",6)~=true) then
  SetVariable("stop",1)
  SetVariable("obj","pumpkin")
  Execute("get pumpkin from @rq;eat pumpkin;put pumpkin in @rq")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_fg"
   match="^一块倒在地上，一副破败不堪的景象。厚厚的野草在风中摇摆，淹没了脚下的路。$"
   regexp="y"
   sequence="100"
  >
  <send>pushaside grass</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^一眼东面墙上的黑幔，你就再也不会有兴致欣赏这一切了，因为那黑幔里透出无穷$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("mnpc_location")~=GetVariable("location") then
  Send("open curtain")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="plane"
   match="^隐隐约约之中，小电似乎挥出一道电光，把你瞬间带走。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 藏北：好汉庄 (20 gold)
if GetVariable("auto_mission")=="1" then
  SetVariable("bianli",1)
  SetVariable("step",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   expand_variables="y"
   group="area_dwg"
   match="^有一丛一人多高的芦苇，还有几株垂柳。柳树把它们的柳丝垂到了溪面上，$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("getluwei") == "1" and tonumber(GetVariable("item_luwei")) &lt; 3 then
    SetVariable("getluwei",0)
    Execute("pick luwei;put luwei in @rq")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="AtConnect"
   match="^有一种情，叫经典；有一种爱，叫怀念。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 每次登录，初始化风云变量、触发
Execute("init")</send>
  </trigger>
  <trigger
   group="mission"
   match="^在.+内替\S{4}杀了(.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%1" == "苏浅雪" then
    os.execute("echo 密信来了！")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_bc"
   match="^在森林的金黄色的萧瑟中，有一个永世长存的庞然巨物在大声呼吸。 $"
   regexp="y"
   sequence="100"
  >
  <send>listen
l south</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^执行时段错误：(.*?)Owner \(\/daemon\/class\/taoist\/scratmancy\/save\-me\) of function pointer is destructed\.$"
   regexp="y"
   sequence="100"
  >
  <send>drop sheet</send>
  </trigger>
  <trigger
   enabled="y"
   group="AtConnect"
   match="^重新连线完毕。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 断线重新连线
SetVariable("look_jadebox",1)
SetVariable("look_mugui",1)
Send("look")</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^朱藻死了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" and GetVariable("stop")=="1" then
  SetVariable("stop",0)
  Execute("bianli")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_dq"
   match="^子，锅里面香气四溢，自然便算是香积厨了。左面一扇小门，关得严严实实。$"
   regexp="y"
   sequence="100"
  >
  <send>open door</send>
  </trigger>
  <trigger
   enabled="y"
   group="area_zb"
   match="^字：入谷如登天，来人走这边。山石的缝隙中，有一些含苞待放的野花，不大起眼。$"
   regexp="y"
   sequence="100"
  >
  <send>look stone</send>
  </trigger>
  <trigger
   enabled="y"
   group="plane"
   match="^嘭一声轻响，风郎中把幡旗一卷，烟幕突然散去，你却已经无影无踪。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 长春岛：礁石 (10 gold)
if GetVariable("auto_mission")=="1" then
  SetVariable("bianli",1)
  SetVariable("step",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ {1}((?!\S+「.+)\S+ +)?((?!\S+「.+)\S+ +)?((\S+)?「.+」)?(\S+)\((.+)\)( &lt;\S+&gt;)?$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>--SetVariable("player_name","")
--SetVariable("class","")

-- 获取玩家名字
if string.lower("%6")==GetVariable("player_id") then
  SetVariable("player_name","%5")
end

-- 获取门派.获取到的门派后面带空格,因此使用trim自定义函数去除
local class=tonumber(ismember(trim("%1"),GetVariable("class_list"),"|"))
if class&gt;0 then
  SetVariable("class",item(GetVariable("class_list"),class+1,"|"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^ 你的师父是(.+)。$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>SetVariable("master","%1")</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_cs"
   match="^[&gt; ]*你成功地逼出体内的巨毒！$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>SetVariable("mnpc_poison",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^[&gt; ]*你现已存入了(\d+)点潜能。$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>SetVariable("hp_qianneng_save","%1")
if %1 &gt; 2050000000 then
    Execute("Off")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^[&gt; ]*你向宋天元打听有关『immortal』的消息。$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>if GetVariable("bianli")=="1" then
  Execute("Return")
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dwg"
   match="^[&gt; ]*这里不准下降头。$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>if GetVariable("auto_mission")=="1" and GetVariable("class")=="dwg" then
  if ismember(GetVariable("mnpc_name"),"无须老人|风入松","|") then
    SetVariable("mission_cancel",1)
    Execute("Return")
  else
    Execute("kk "..GetVariable("mnpc_id"))
  end
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_mj"
   match="^但(.+)就地一滚，总算躲过了你这无形的一招！$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>local calldie_fail=tonumber(GetVariable("calldie_fail"))+1
SetVariable("calldie_fail",calldie_fail)
if calldie_fail&gt;2 then
  SetVariable("calldie_fail",0)
  Execute("p moonblade")
  -- 防止put moonblade动作触发get_moonblade=0过慢，导致下个perform的刀变量仍然是moonblade，而实际moonblade已经放进容器。强制设置。
  SetVariable("get_moonblade",0)
  --SetVariable("blade",GetVariable("myblade"))
  --因为大部分门派只用圆月calldie，当calldie失败后切换到mypfm
  SetVariable("pfm",GetVariable("mypfm"))
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_bat"
   match="^丁枫拿出一个银笛子吹了一下，似乎没听见什么声音，但\S\S\S\S蝙蝠却扑哧扑哧地飞了过来。落在(.+)身旁。$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>if "%1"==GetVariable("player_name") then
  local cmd="local sec=tonumber(GetVariable('sq_ask_guard'))+1;SetVariable('sq_ask_guard',sec)"
  SetVariable("ask_guard",0)
  SetVariable("sq_ask_guard",0)
  AddTimer("ask_guard",0,0,1,cmd,timer_flag.Temporary,"")
  SetTimerOption("ask_guard","send_to",12)
  SetTimerOption("ask_guard","enabled",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_bat"
   match="^你凝聚起天地间十万妖魔的无边力量，一式－十－万－神－魔 －如急电般劈向(.+)！$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>--if (GetVariable("class")=="bat" and tonumber(GetVariable("hp_neili"))&gt;=400) then
  SetVariable("pfm","pfm_mtd")
--end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_bat"
   match="^你手中.+幻出奇异的光华刺向(.+)！$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>-- 被地藏ccbz中断会出现不显示十万神魔第1刀描述，因此追加第2刀触发。
--if (GetVariable("class")=="bat" and tonumber(GetVariable("hp_neili"))&gt;=400) then
  SetVariable("pfm","pfm_mtd")
--end</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_sq"
   match="^宋天元抛出灵符，密念咒语，只见\S\S之元神从浓雾之中现出身形来，躬身说道：(.+)上师，小神前来报到！”$"
   regexp="y"
   send_to="12"
   sequence="101"
  >
  <send>if "%1"==GetVariable("player_name") then
  local cmd="local sec=tonumber(GetVariable('sq_ask_guard'))+1;SetVariable('sq_ask_guard',sec)"
  SetVariable("ask_guard",0)
  SetVariable("sq_ask_guard",0)
  AddTimer("ask_guard",0,0,1,cmd,timer_flag.Temporary,"")
  SetTimerOption("ask_guard","send_to",12)
  SetTimerOption("ask_guard","enabled",1)
end</send>
  </trigger>
  <trigger
   enabled="y"
   group="status"
   match="^[&gt; ]*你成功地存入了(\d+)点潜能！$"
   regexp="y"
   send_to="12"
   sequence="102"
  >
  <send>local save=tonumber("%1")
local qianneng=tonumber(GetVariable("hp_qianneng"))
local qianneng_save=tonumber(GetVariable("hp_qianneng_save"))

SetVariable("hp_qianneng",qianneng-save)
SetVariable("hp_qianneng_save",qianneng_save+save)</send>
  </trigger>
  <trigger
   enabled="y"
   group="tri_dwg"
   match="^[&gt; ]*你上一个动作还没有完成，不能下降头。$"
   regexp="y"
   send_to="12"
   sequence="102"
  >
  <send>if GetVariable("auto_mission")=="1" and GetVariable("class")=="dwg" and GetVariable("find")=="1" then
  DoAfterSpecial(1,"curse bloodcurse on "..GetVariable("npc_id")..";pfm",sendto.execute)
end</send>
  </trigger>
</triggers>

<!-- aliases -->

<aliases
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >
  <alias
   match="AfterPfm"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 正常战斗后pfm失去目标调用
local class=GetVariable("class")
local mnpc_name=GetVariable("mnpc_name")
local corpse_name=GetVariable("corpse_name")
local corpse_list=GetVariable("corpse_list")

SetVariable("mnpc_clzx",0)

-- Perform失去目标的处理
EnableTimer("pfm",false)
SetVariable("fight",0)
if GetVariable("bianli")=="1" then
  SetTimerOption("bianli","hour",0)
  SetTimerOption("bianli","minute",0)
  SetTimerOption("bianli","second",2)
end

-- 重置吃丹判断
SetVariable("usedan",0)

-- 重置魔教步法,刀法
SetVariable("pfm_lhbb",1)
SetVariable("pfm_lhbb_fail",0)
SetVariable("calldie_fail",0)

-- 三清
if class=="sq" and GetVariable("sq_ci")~="0" then
  DoAfterSpecial(15,"if GetVariable('fight')=='0' then SetVariable('sq_ci',0) end",sendto.script)
end

-- 帝王谷
if class=="dwg" then
  if GetVariable("hp_jing2")~="100" or GetVariable("hp_qi2")~="100" or GetVariable("hp_shen2")~="100" then
    Send("exert heal")
  end
  if (mnpc_name=="唐无双" or mnpc_name=="唐无影") and ismember(mnpc_name,corpse_list,"|")&gt;0 then
    Execute("gc tribuli;p tribuli")
  elseif mnpc_name=="宫九" and ismember(mnpc_name,corpse_list,"|")&gt;0 then
    Execute("gc ttcash;p ttcash")
  elseif mnpc_name=="李燕北" and ismember(mnpc_name,corpse_list,"|")&gt;0 then
    Execute("gc gold;p gold")
  elseif corpse_name=="巡逻士兵" and GetVariable("item_zhanjia")=="0" then
    Execute("gc zhanjia;p zhanjia;Return")
  end
end</send>
  </alias>
  <alias
   match="ClearBag"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 清除Bag里物品计数
-- 野果,符,丹
SetVariable("item_jiudai",0)
SetVariable("item_backseal_bag",0)
SetVariable("item_yeguo",0)
SetVariable("dan_bag",0)
SetVariable("item_jadebox",0)
-- 关键道具
SetVariable("item_rope",0)
SetVariable("item_shouhuan",0)
SetVariable("item_qfbook",0)
SetVariable("item_ring",0)
SetVariable("item_lighter",0)
SetVariable("item_luwei",0)
SetVariable("item_pumpkin",0)
SetVariable("item_sdcloth",0)
SetVariable("item_sdmask",0)
SetVariable("item_spipe",0)
SetVariable("item_wineskin",0)
SetVariable("item_wolfpen",0)
SetVariable("item_yuemask",0)
SetVariable("item_zhanjia",0)
-- 其它道具
SetVariable("youzhi_bag",0)
SetVariable("item_mugui",0)
SetVariable("item_moonblade",0)
SetVariable("item_tribuli",0)
SetVariable("item_paperseal",0)
SetVariable("item_egg",0)
SetVariable("item_paper",0)
SetVariable("item_sheshi",0)
SetVariable("item_tea",0)
-- 货币
SetVariable("item_micash",0)
SetVariable("item_ttcash",0)
SetVariable("item_cash",0)
SetVariable("item_gold",0)
SetVariable("item_silver",0)
SetVariable("item_coin",0)</send>
  </alias>
  <alias
   match="ClearI"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 清除身上物品计数
-- 丹符
SetVariable("dan", 0)
SetVariable("dan2", GetVariable("dan_max"))
SetVariable("item_backseal",0)
-- 宝箱
SetVariable("box_num", 0)
SetVariable("box_sum", 0)
-- 关键道具
SetVariable("item_pipe",0)
-- 特殊道具
--SetVariable("item_fist",0)
SetVariable("item_skyclothes","")
SetVariable("item_dagger",0)
SetVariable("item_ding",0)
SetVariable("youzhi_body",0)
--其它道具
SetVariable("get_moonblade",0)
SetVariable("get_luwei",0)
SetVariable("get_zhanjia",0)
SetVariable("get_sdcloth",0)
SetVariable("get_sdmask",0)</send>
  </alias>
  <alias
   match="Die"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 显示死亡记录
readfile("die_"..GetVariable("player_id")..".txt")</send>
  </alias>
  <alias
   match="LearnFrom *"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 学技能，%1为学习对象

local skill_list=GetVariable("skill_list")
local skill_num=tonumber(GetVariable("skill_num"))
SetVariable("skill_name",item(skill_list,skill_num,"|"))
--[[
if GetVariable("skill_name")=="moon-blade" then
  SetVariable("pots",1000)
else
  SetVariable("pots",100)
end
]]--
for i=1,18 do
  Send("learn "..item(skill_list,skill_num,"|").." from ".."%1".." with "..GetVariable("pots"))
end
Send("set tri learn")</send>
  </alias>
  <alias
   match="NoPfm"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 在特别地点不能发动pfm,cast,conjure，例如：山流密室。
-- 某些MNPC会出现在此类特殊地点，例如：富贵梨园。
local class=GetVariable("class")

-- Perform失去目标的处理
EnableTimer("pfm",false)
SetVariable("fight",0)

-- 重置吃丹判断
SetVariable("usedan",0)

-- 重置魔教步法,刀法
SetVariable("pfm_lhbb",1)
SetVariable("pfm_lhbb_fail",0)
SetVariable("calldie_fail",0)

-- 三清
if class=="sq" and GetVariable("sq_ci")~="0" then
  DoAfterSpecial(15,"if GetVariable('fight')=='0' then SetVariable('sq_ci',0) end",sendto.script)
end</send>
  </alias>
  <alias
   match="Off"
   enabled="y"
   group="mission"
   send_to="12"
   sequence="100"
  >
  <send>Note("停止 Mission 模式")
SetVariable("auto_mission",0)
SetVariable("idle_time",0)
EnableTimer("mtime",false)</send>
  </alias>
  <alias
   match="On"
   enabled="y"
   group="mission"
   send_to="12"
   sequence="100"
  >
  <send>Note("启动 Mission 模式")
SetVariable("auto_mission",1)
SetVariable("auto_supply",1)
SetVariable("mtime",0)</send>
  </alias>
  <alias
   match="OpenDoor"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 遍历时碰到门
Send("open door")
if GetVariable("bianli")=="1" then
  Execute("StepBack")
  Execute("bianli")
end</send>
  </alias>
  <alias
   match="RefreshNPCOBJ"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("refresh_huying",0)
SetVariable("refresh_dingpeng",0)
SetVariable("refresh_seller",0)
SetVariable("refresh_shiyi",0)
SetVariable("refresh_longwu",0)
SetVariable("refresh_guqingfeng",0)
SetVariable("refresh_tangqing",0)
SetVariable("refresh_yeguo",0)
SetVariable("refresh_mugui",0)
SetVariable("refresh_lighter",0)
SetVariable("refresh_riyue",0)
SetVariable("refresh_shouhuan",0)
SetVariable("refresh_rope",0)
SetVariable("refresh_xiaochun",0)</send>
  </alias>
  <alias
   match="ResearchSkill"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 研究技能
local skill_level=tonumber(GetVariable("skill_level"))
local skill_level2=tonumber(GetVariable("skill_level2"))

if skill_level&lt;skill_level2 then
  Execute("#18(research "..GetVariable("skill_name").." with "..GetVariable("pots")..")")
end
Execute("skills -"..GetVariable("skill_name"))
if skill_level&gt;=200 then
  SetVariable("pots",(math.ceil(skill_level/100)-1)*1000)
else
  SetVariable("pots",1000)
end</send>
  </alias>
  <alias
   match="Reset"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("tick","um")
EnableTimer("acupoint",false)
SetVariable("acupoint_time",100)
SetVariable("drop_jadebox",0)
SetVariable("mnpc_libie",0)
SetVariable("mnpc_clzx",0)
SetVariable("tty",0)
SetVariable("setmark_time",900)
SetVariable("sq_ask_guard",600)
SetVariable("ask_guard",2)
SetVariable("ask_weapon",0)
SetVariable("ask_yuanmie",1)
SetVariable("usedan",0)
SetVariable("npc_id","")
SetVariable("manglin","")
SetVariable("manglin_dir","")

Execute("skills;score;i;hp;look")

DoAfterSpecial(3,"if GetVariable('location')~='山流密室' then Send('usemark') else Send('mission') end",sendto.script)</send>
  </alias>
  <alias
   match="Return"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 修仙返回
AddTimer("return",0,0,4,"um", timer_flag.Enabled+timer_flag.Temporary+timer_flag.Replace,"")
SetTimerOption("return","send_to",10)

-- 设置tick变量
SetVariable("tick","um")

-- 设置倒计时1分钟
SetTimerOption("bianli","hour",0)
SetTimerOption("bianli","minute",1)
SetTimerOption("bianli","second",0)</send>
  </alias>
  <alias
   match="Show *"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 显示指定变量
if GetVariable("%1")~=nil then
  Note("MUSH变量:%1 = ",GetVariable("%1"))
end
if %1~=nil then
  Note("LUA 变量:%1 = ",%1)
end</send>
  </alias>
  <alias
   match="Status"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 计算刷新剩余时间
timer=900-tonumber(GetVariable("timer"))
local min=math.ceil(timer/60)-1
local sec=math.fmod(timer,60)
if timer==0 then
&#9;min="15"
&#9;sec="00"
else
&#9;if min&lt;10 and min&gt;=0 then min="0"..min end
&#9;if sec&lt;10 and sec&gt;=0 then sec="0"..sec end
end

local win=window.new()
win:addBar("a","目标 ",GetVariable("target_name").."("..GetVariable("target_id")..") / "..GetVariable("mnpc_name"),"")
win:addBar("b","位置 ",GetVariable("location").." / "..GetVariable("mnpc_location"),"")
win:addBar("c","遍历 ","时间:"..GetVariable("mtime").." 重试:"..GetVariable("mission_retry").." 区域:"..GetVariable("area").." 步:"..GetVariable("step").."/"..GetVariable("steps").." 方向:"..GetVariable("dir"),"")
win:addBar("d","其它 ","丹:"..GetVariable("dan").."/"..GetVariable("dan_jadebox").."/"..GetVariable("item_jadebox").." 符:"..GetVariable("item_backseal").."/"..GetVariable("item_backseal_bag").." 物品:"..GetVariable("item_total").."/30 油纸:"..GetVariable("youzhi_mugui").." 连杀:"..GetVariable("mission_num"),"")
win:addBar("e","时间 ","刷新:"..min..":"..sec.." 倒计:"..math.ceil(GetTimerInfo("bianli",13)).." 修仙:"..GetVariable("setmark_time").." 卫兵:"..GetVariable("sq_ask_guard").." 发呆:"..GetVariable("idle_time"),"")
win:addBar("f","状态 ","玩家:"..GetVariable("player_name").."  ID:"..GetVariable("player_id").."  性别:"..GetVariable("gender").."  门派:"..GetVariable("class"),"")
win:addBar("g","","精力:"..GetVariable("hp_jing").."/",GetVariable("hp_jing_max").."("..GetVariable("hp_jing2").."%)  食物:"..GetVariable("hp_shiwu").."%","")
win:addBar("h","","气血:"..GetVariable("hp_qi").."/"..GetVariable("hp_qi_max").."("..GetVariable("hp_qi2").."%)  饮水:"..GetVariable("hp_yinshui").."%","")
win:addBar("i","","心神:"..GetVariable("hp_shen").."/"..GetVariable("hp_shen_max").."("..GetVariable("hp_shen2").."%)  评价:"..GetVariable("hp_pingjia"),"")
win:addBar("j","","内力:"..GetVariable("hp_neili").."/"..GetVariable("hp_neili_max").."("..GetVariable("hp_enforce").."/"..GetVariable("hp_enforce_max")..")  杀气:"..GetVariable("hp_shaqi").."/"..GetVariable("hp_shaqi_max"),"")
win:addBar("k","","灵力:"..GetVariable("hp_lingli").."/"..GetVariable("hp_lingli_max").."    法力:"..GetVariable("hp_fali").."/"..GetVariable("hp_fali_max"),"")
win:addBar("l","","经验:"..GetVariable("hp_jingyan").."    潜能:"..GetVariable("hp_qianneng").."/"..GetVariable("hp_qianneng_save"),"")
win:refresh()</send>
  </alias>
  <alias
   match="StepBack"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>--遍历时后退一步
if GetVariable("bianli")=="1" then
  SetVariable("step",tonumber(GetVariable("step"))-1)
end</send>
  </alias>
  <alias
   match="StepForward"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>--遍历时向前一步
if GetVariable("bianli")=="1" then
  SetVariable("step",tonumber(GetVariable("step"))+1)
end</send>
  </alias>
  <alias
   match="^CCDMove (.+) (.+)"
   enabled="y"
   expand_variables="y"
   group="area_dq"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--长春岛"小路|长阶"是重复位置
local area=GetVariable("area")
local bianli=tonumber(GetVariable("bianli"))
local find=tonumber(GetVariable("find"))
local stop=tonumber(GetVariable("stop"))
local fight=tonumber(GetVariable("fight"))
local mnpc_location=GetVariable("mnpc_location")

if (area=="dq3" and bianli==1 and find==0 and stop==1 and fight==0 and ismember(mnpc_location,"小路|平台|长阶|观月顶","|")&gt;1) then
  if string.find("%1","east")==nil then
    Send("%2")
  else
    Send("%1")
  end
end</send>
  </alias>
  <alias
   match="^Rush (.+)"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 遍历时碰到拦路npc硬闯
Execute("StepBack")
SetVariable("fight",1)
Send("kill ".."%1")
Execute("pfm")</send>
  </alias>
  <alias
   match="^a(\d+) (.+)$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 别名功能: 添加无限循环定时器
-- 参数%1：循环的秒数
-- 参数%2：需要循环的指令
-- 例子：a10 hp 添加一个循环时间为10秒，label为T10，循环内容为hp的定时器

AddTimer("T%1",0,0,"%1","%2",timer_flag.Temporary+timer_flag.Replace,"")     --临时的、替换重复 label
SetTimerOption("T%1","send_to",10)     --发送到 execute
SetTimerOption("T%1","enabled",1)      --打开 timer</send>
  </alias>
  <alias
   match="^c_xxzf(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_sg"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
if npc_id=="" then
  Send("cast xuanxinzhenfa")
else
  Send("cast xuanxinzhenfa on "..npc_id)
end</send>
  </alias>
  <alias
   match="^ca_a(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_dz"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
if npc_id=="" then
  Send("cast an")
else
  Send("cast an on "..npc_id)
end
Send("hp")</send>
  </alias>
  <alias
   match="^co_ms(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_xg"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Send("nian")
Send("kill "..npc_id)
if npc_id=="" then
  Send("conjure mind sense")
else
  Send("conjure mind sense on "..npc_id)
end
Send("hp")</send>
  </alias>
  <alias
   match="^d(\d+)$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 别名功能：删除label为T数字的定时器，对应别名为a
-- 例子：d1 删除由 a1 添加的循环定时器
DeleteTimer("T%1")</send>
  </alias>
  <alias
   match="^dc(\s+(\S*))?$"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   sequence="100"
  >
  <send>get %2 coin from @rq
drop %2 coin
look north
say north
look east
say east
look south
say south
look west
say west</send>
  </alias>
  <alias
   match="^dd(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_sq"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 遁天符
if ismember("%2","sq|gw|fy|sg|dm|bat|xj|by|cc|","|") &gt; 0 then
  Execute("get 1 paper seal from @rq")
  Send("scribe drift-warp on paper seal")
  if "%2" == "gw" then
    Send("guanwai")
  end
  if "%2" == "fy" then
    Send("chenghuang")
  end
  if "%2" == "sg" then
    Send("songgu")
  end
  if "%2" == "dm" then
    Send("daimiao")
  end
  if "%2" == "bat" then
    Send("bat")
  end
  if "%2" == "xj" then
    Send("xinjiang")
  end
  if "%2" == "by" then
    Send("baiyun")
  end
  if "%2" == "cc" then
    Send("changchun")
  end
  if ("%2" == "" or "%2" == "sq") then
  Send("taoguan")
  end
  Execute("burn drift-warp sheet")
end</send>
  </alias>
  <alias
   match="^dr(\s+(.*))?$"
   enabled="y"
   group="general"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local obj = GetVariable("obj")
if "%2" == "" then
    Send("drop "..obj)
else
    Send("drop ".."%2")
end</send>
  </alias>
  <alias
   match="^f (.+)$"
   enabled="y"
   expand_variables="y"
   group="skill_xg"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","%1")
Send("conjure drift sense")
Send("%1")</send>
  </alias>
  <alias
   match="^fl(\s+(\S*))?$"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   sequence="100"
  >
  <send>meditate %2</send>
  </alias>
  <alias
   match="^getpath (.*) (.+)"
   enabled="y"
   expand_variables="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- location 要查找的位置名称
-- area 查找所在的区域
-- 用法: getpath 日观峰 ts
local path=""
local list=""
local location=trim("%1")
local area="%2"
local j=0
if area=="dmcs" then    -- 大漠沉沙
    area="dmcs1"
    j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    if j==0 then
        area="dmcs2"
        j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    end
    if j==0 then
        area="dmcs3"
        path=GetVariable("area_"..area.."_1")..";set tri 随机走迷宫"
    end
elseif area=="dq" then  -- 大旗门
    area="dq2"
    j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    if j==0 then
        area="dq1"
        j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    end
    if j==0 then
        area="dq3"
        j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    end
elseif area=="khl" then -- 大漠附近
    area="khl1"
    j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    if j==0 then
        area="khl2"
        j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    end
elseif area=="ml" then  -- 莽林
    area="ml"
    path=GetVariable("area_"..area.."_1")
elseif area=="ss" then  -- 神水附近
    area="ss1"
    j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    if j==0 then
        area="ss2"
        j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    end
elseif area=="zb" then  -- 藏北
    area="zb1"
    j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    if j==0 then
        area="zb2"
        j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    end
    if j==0 then
        area="zb3"
        j=ismember(location,GetVariable("area_"..area.."_2"),"|")
    end
elseif area=="cxn" then path=GetVariable("area_"..area.."_1")
else    -- 取得查找位置位于区域内的序号
    j=ismember(location,GetVariable("area_"..area.."_2"),"|")
end
--==============================
-- 复制路径,"大漠风沙"和"莽林"不需要处理
if ismember(area,"dmcs3|ml|cxn","|")==0 then 
    -- 复制截止到序号的路径
    for i=1,j do
        list=list..item(GetVariable("area_"..area.."_1"),i,";")
        if i~=j then
            -- 如是最后一个路径不加 ";"
            list=list..";"
        end
    end
    -- 精简路径
    path=trimpath(list)
end
--==============================
-- 重复位置特别处理
if (area=="dq3" and ismember(location,"山中小路|平原路","|")&gt;0) then path=path..";e" end
if (area=="lw" and location=="河边小路") then path=path..";w" end
if (area=="by" and ismember(location,"林中小路|平原路","|")&gt;0) then path=path..";s" end
--==============================
-- 同名位置和其它位置特别处理
if area == "ss2" and location == "白水宫门" then
    area = "ss1"
    path = "ask lao ni about 神水宫;s;e;sd;d;s;s;ss_yd;ss_rd;dive;dive;u"
end
if area=="khl2" and location=="圣殿" then
    area="khl2"
    path="noop"
end
if area=="bc" then
    if location=="小木屋" then path=path..";e;s;s;s;w"
        elseif location=="木屋" then path=path..";e;s;w"
        elseif location=="客房" then path=path..";s;e;n"
        elseif location=="卧房" then path=path..";w;w;w;w;n;n;n;w;u;e;e"
        -- 坟场暂时取消
        elseif location=="坟场" then path=""
    end
end
if area=="zb1" then
    if location=="菜田" then path=path..";s;s"
    elseif location=="山道" then path=path..";su;nd;nd;nd;e;ne;ne;ne;e;e;e;ed;n;n;nw;ne;n;n;n;wade;nw;n;n;n;n;e;se;e;e;e;e;se;e;e;nu;nu"
    end
end
if (area=="dmb" and location=="石峰深处") then path=path..";s;w" end
if area=="dwg" then
    if location=="花园" then path=path..";s;n;n;s;e"
    elseif location=="湖底" then path=path..";w;n;n"
    end
end
if area=="fy" then
    if location=="镖局厢房" then path=path..";s;s;n;e"
    elseif location=="黄衣室" then path=path..";s;s"
    end
end
if area=="fg" then
    if location=="碎石小路" then path=path..";n;e;w;w;e;n"
    elseif location=="翠竹园" then path=path..";e;n;s;s"
    elseif location=="芳草坪" then path=path..";w;w"
    elseif location=="废旧驿道" then path=path..";w;w;e;n;n;n;n;n"
    end
end
if (area=="fyzb" and location=="城北小路") then path=path..";w;w" end
if area=="hsl" then
    if location=="刑房" then path=path..";n;s;w;w;w;n;e"
    elseif location=="地牢" then path=path..";n;e;e;w;w;n;e;n"
    end
end
if area=="hs" then
    if ismember(location,"荒凉小径|祠堂前院|荒废的祠堂","|")&gt;0 then path="nw;w;w;s;s;s;su;wu;wu;nw;alz;e;e;e"
    elseif ismember(location,"断山坡","|")&gt;0 then path="nw;w;w;s;s;s;su;wu;wu;wu;se;sw;se;sw;e;su;su;eu;ed;eu;se;se;s;set tri 跟随乌鸦" end
end
if area=="hgs" then
    if location=="山路" then
        path=path..";se;s;wu;n"
    elseif location=="松树" then
        path="w;wu;wu;sw;set tri 黄山松树"
    end
end
if (area=="lyz" and location=="林间小路") then path=path..";s;se;e;s;n;e;e;e" end
if area=="lw" then
    if location=="杏林" then path=path..";e;n;e;s"
    elseif location=="冰上之镇" then path=path..";w;e;e"
    elseif location=="神秘冰河" then path=path..";nw;se;sw;ne;n;s;s;n;e"
    end
end
if area=="qf" then
    if location=="禅房" then path=path..";e;e"
    elseif location=="长廊" then
        if ismember("noop",GetVariable("area_qf_1"),";")&gt;0 then
            path=path..";e;e;w;n;noop;n;n;n;e;n;w;w"
        else
            path=path..";e;e;w;n;north;n;n;n;e;n;w;w"
        end
    elseif location=="钟鼓楼" then path=path..";ed;eu"
    end
end
if area=="qjl" then
    if location=="厢房" then path=path..";n;w;n"
    elseif location=="前花园" then path=path..";n;s;s"
    elseif location=="底舱" then path=path..";e;e;w;w;w;w"
    end
end
if area=="qp" then
    if location=="院墙" then path=path..";ct;dt"
    elseif location=="池塘" then path=path..";se;e;n;nw"
    elseif location=="偏厅" then path=path..";s;s"
    elseif location=="卧室" then path=path..";s;s"
    elseif location=="武场" then path=path..";n;s;s"
    end
end
if (area=="sq" and location=="三清湖") then path=path..";n" end
if area=="sx" then
    if location=="树林" then path=path..";n;n;w;e;e;n;n;w;w"
    elseif location=="厢房" then path=path..";e;nw;se;ne;sw;e"
    -- 荷花园有5处重复
    elseif location=="荷花园" then path=path..";e;n;n;w;n;s;w;s"
    end
end
if area=="sl" then
    if location=="长老院" then path=path..";e;n;se;sw"
    elseif location=="掖门" then path=path..";ed;eu;nw;n;nw;se;ne"
    elseif location=="碑林" then path=path..";w;e;se;ne;e"
    elseif location=="长廊" then path=path..";eu;ed"
    elseif location=="和尚部" then path=path..";n;s;e;e;n"
    elseif location=="僧兵院" then path=path..";e;e"
-- 位于嵩山的少林后山门属于少林区域，这里是特别处理
    elseif location=="少林后山门" then
        area="sgs"
        path="w;nw;ne;e;ne;e;sw;e"
    end
end
-- "千金楼外" 本属于千金楼区域,这里是特别处理
if (area=="qjl" and location=="千金楼外") then
    area="fy"
    path="s;s;s;s;w"
end
if area=="wd" then
    if location=="庄稼地" then path=path..";w;w;e;w;s;n;e;e;e;w"
    elseif location=="松林" then path=path..";w;w;w;e;e;e"
    elseif location=="农家" then path=path..";w;s;w"
    end
end
if (area=="xj" and location=="土路") then path=path..";w;s;n;n;n;nw;ne;n;n;n" end
if (area=="dm" and location=="配寝殿") then path=path..";e;e" end
if (area=="bat" and ismember(location,"黑暗山洞|地牢","|")&gt;0) then
    path="e;e;e;e;e;dash bush;e;ask master chu about bat island;gdf;e;dash huache;open rightdoor;w;w;w;n;e;w;n;s;w;e;n"
end
-- 幽灵山庄,先重置孤独美设置
SetVariable("yl_gdm_follow",0)
SetVariable("yl_gdm",0)
if (area=="yl" and location=="原始丛林") then
    SetVariable("yl_gdm_follow",1)
    SetVariable("yl_gdm",0)
    path=path..";s;n;e;e;set tri 原始丛林"
end
if (area=="fg" and ismember(location,"乱葬冈|荒坟","|")&gt;0) then
    path="w;w;n;n;n;n;n;ne;n;e;n;n;n;n;n;n;nu;wu;nu;nu;wu;nu;w;n;s;w;sw;ne;nw;sw;tear paper"
end
if (area=="lyz" and ismember(location,"老云寨秘密入口|老云寨外围|老云寨","|")&gt;0) then
    path="e;s;se;e;e;e;hold vine;s;s;s;climb cliff;climb up;set tri 随机走迷宫"
end
if (area=="dz" and location=="寺院") then path=path..";w;n;s;s" end
if area=="srz" then
    if (location=="暗道" or location=="衣柜") then path="w;w;nw;w;sw;s;w;w;w;knee;w;s;s;n;n;u"
    elseif location=="厢房" then path=path..";n;e;ne;nw;w;n"
    elseif location=="长廊" then path=path..";w;nw;n;n;ne;e;se"
    end
end
if (area=="ss2" and location=="山洞秘道") then path="e;n;w;n;s;e;n;n;e;w;n;s;s;s;e;n;set tri 点灯;e;n;s;ne" end
if (area=="dq3" and location=="洞穴") then path="e;e;e;e;s;s;bp;s;e;d;set tri 随机走迷宫" end
-- 保存位置
SetVariable("mnpc_location",location)
-- 保存区域代码
SetVariable("area",area)

-- 保存最终路径,如果位置为 "." 则地图为全区域
if location=="." then path=GetVariable("area_"..area.."_1") end
SetVariable("path",path)

-- 取得最终路径步长
SetVariable("steps",num(GetVariable("path"),";"))
if path~="" then
    Note("Location:"..location.." Area:"..area.." Path:"..GetVariable("path"))
end
-- 遍历莽林
if area=="ml" then SetVariable("manglin","东") end</send>
  </alias>
  <alias
   match="^go(\S*)$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local list = GetVariable("go_list")
local sum = num(list, "\\n")
local i, j, strlen, f = 0
local str1, str2, str3, str4, go_string = ""
if "%1" == "" then
    Note("               移动地点列表")
    Note("--------------------------------------------")
    Note("名字    地点                 区域 备注      ")
    Note("--------------------------------------------")
    for i =  1, sum do
        go_string = item(list, i, "\\n")
        str1 =  item(go_string, 1, "|")
        strlen = string.len(str1)
        local sp1 = ""
        for j = 1, 8 - strlen do
            sp1 = sp1 .. " "
        end
        str2 =  item(go_string, 2, "|")
        strlen = string.len(str2)
        local sp2 = ""
        for j = 1, 21 - strlen do
            sp2 = sp2 .. " "
        end
        str3 =  item(go_string, 3, "|")
        strlen = string.len(str3)
        local sp3 = ""
        for j = 1, 5 - strlen do
            sp3 = sp3 .. " "
        end
        str4 =  item(go_string, 4, "|")
        Note(str1..sp1..str2..sp2..str3..sp3..str4)
    end
    Note("--------------------------------------------")
    Note("名字    地点                 区域 备注      ")
    Note("--------------------------------------------")
    Note("            共有 "..sum.." 条路径")
    
else
    for i = 1, sum do  -- 查找有没有指定的路径名字
        str1 = item(item(list, i, "\\n"), 1, "|")
        if str1 == "%1" then
            f = 1   -- 默认值为0，找到设置1
        end
    end
    if f == 1 then
        for i = 1, sum do
            go_string = item(list, i, "\\n")
            str1 = item(go_string, 1, "|")
            str2 = item(go_string, 2, "|")
            str3 = item(go_string, 3, "|")
            if str1 == "%1" then
                if GetVariable("location") ~= "风云天下" then
                    Note("出发点必须在“风云天下”。")
                else
                    Execute("getpath "..str2.." "..str3)
                    Execute("do")
                end
            end
        end
    else
        Note("没指定的路径名字，请打 go 显示列表确认。")
    end
end</send>
  </alias>
  <alias
   match="^kd(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 群叫杀

local target = GetVariable("target_id")
local j = 11
if "%2" == "" then
  for i=1, j do
    Execute("kill " .. target .." " .. i)
  end
else
  for i=1, j do
    Execute("kill %2" .. " " .. i)
  end
end
Execute("pfm_kd")</send>
  </alias>
  <alias
   match="^kk(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 当kk不带指定目标时，会以触发获取到的当前id作为目标
SetVariable("usedan",0)
SetVariable("fight",1)
if "%2" == "" then
    SetVariable("npc_id",GetVariable("target_id"))
else
    SetVariable("npc_id","%2")
end
local npc_id = GetVariable("npc_id")
local mnpc_name = GetVariable("mnpc_name")
local pfmf = GetVariable("mypfmf")
Send("kill "..npc_id)
if GetVariable("auto_mission") == "1" then
    if mnpc_name == "程驹" then
        Send("kill pan jin")
    elseif mnpc_name == "怜星" then
        Send("kill yao yue")
    elseif mnpc_name == "无须老人" and GetVariable("passive_kill") == "0" then
        SetVariable("npc_id", "wumu oldman")
    end
end
if pfmf ~= "" then
    Execute(pfmf)
end
Execute("pfm "..GetVariable("npc_id"))

-- 重置吃丹判断
SetVariable("usedan", 0)

-- 重置魔教步法
SetVariable("pfm_lhbb", 1)
SetVariable("pfm_lhbb_fail", 0)

-- 重置大召技能
SetVariable("dz_gmz", 0)

-- 重置朝廷技能
SetVariable("ct_spear", "qingheluo")</send>
  </alias>
  <alias
   match="^ll(\s+(\S*))?$"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   sequence="100"
  >
  <send>respirate %2</send>
  </alias>
  <alias
   match="^mnpc\s*(\S*)\s*(\S*)$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- mnpc 使用方法
-- mnpc 阎铁珊 1 为禁止杀
-- mnpc 阎铁珊 0 为允许杀
local mnpc_list=GetVariable("mnpc_list")
local mnpc_name="%1"
local mnpc_cc=tonumber("%2")
local idx=ismember(mnpc_name,mnpc_list,"|")
local sum=num(mnpc_list,"|")
local i=1
local j=1
local k=0
local str=""
if mnpc_name~="" then   -- 带参数,查询MNPC或设置变量
    if ismember(mnpc_name,"ak|ar|cc","|")&gt;0 then  -- 显示指定的MNPC
        if mnpc_name=="ak" then
            str="自动叫杀"
            k=2
        elseif mnpc_name=="ar" then
            str="自动跑"
            k=3
        elseif mnpc_name=="cc" then
            str="禁止杀"
            k=4
        end
        Note("---------"..str.."的MNPC列表---------")
        while i&lt;sum do
            if item(mnpc_list,i+k,"|")=="1" then
                Note(item(mnpc_list,i+2,"|").."|"..item(mnpc_list,i+3,"|").."|"..item(mnpc_list,i+4,"|").."|"..item(mnpc_list,i,"|").."|"..item(mnpc_list,i+1,"|"))
            end
            i=i+5
            j=j+1
        end
        Note("---------------------------------")
        Note("自动叫杀|自动跑|取消|名字|ID")
    elseif idx&gt;0 then   -- 找到指定MNPC
        if mnpc_cc~=nil then    -- 带参数2，设置MNPC变量（禁止或允许杀）
            if mnpc_cc&gt;0 then
                SetVariable("mnpc_list",modiitem(mnpc_list,idx+4,"|",1))
                Note("已禁止杀"..mnpc_name)
            else
                SetVariable("mnpc_list",modiitem(mnpc_list,idx+4,"|",0))
                Note("已允许杀"..mnpc_name)
            end
            mnpc_list=GetVariable("mnpc_list")
            Note("Name:"..mnpc_name.." ID:"..item(mnpc_list,idx+1,"|").." AK:"..item(mnpc_list,idx+2,"|").." AR:"..item(mnpc_list,idx+3,"|").." CC:"..item(mnpc_list,idx+4,"|"))
        else    -- 不带参数2，查询MNPC
            if idx&gt;0 then
                SetVariable("mnpc_name",mnpc_name)
                SetVariable("mnpc_id",item(mnpc_list,idx+1,"|"))
                SetVariable("mnpc_autokill",item(mnpc_list,idx+2,"|"))
                SetVariable("mnpc_autorun",item(mnpc_list,idx+3,"|"))
                SetVariable("mnpc_cancel",item(mnpc_list,idx+4,"|"))
            end
            if mnpc_name=="梅吟雪" then
&#9;&#9;&#9;    SetVariable("mnpc_jiasi",0)
            elseif mnpc_name=="吕迪" then
                SetVariable("mnpc_name","多儿甲")
                SetVariable("mnpc_id","Master duo")
&#9;&#9;&#9;elseif mnpc_name=="无须老人" then
&#9;&#9;&#9;&#9;SetVariable("mnpc_wx", "ydubei oldman|zdubei oldman|ywutui oldman|zwutui oldman|longya oldman|wuxu oldman")
            end
            Note("Name:"..GetVariable("mnpc_name").." ID:"..GetVariable("mnpc_id").." AK:"..GetVariable("mnpc_autokill").." AR:"..GetVariable("mnpc_autorun").." CC:"..GetVariable("mnpc_cancel"))
        end
    else    -- 没找到指定MNPC
        Note("没找到:",mnpc_name)
    end
else    -- 不带参数,显示MNPC列表
    Note("------------MNPC列表-------------")
    while i&lt;sum do
        Note(item(mnpc_list,i+2,"|").."|"..item(mnpc_list,i+3,"|").."|"..item(mnpc_list,i+4,"|").."|"..item(mnpc_list,i,"|").."|"..item(mnpc_list,i+1,"|"))
        i=i+5
        j=j+1
    end
    j=j-2   --列表包含"吕迪"和"多儿甲"，总数减去1个
    Note("-------------共"..j.."个MNPC-------------")
    Note("自动叫杀|自动跑|取消|名字|ID")
end</send>
  </alias>
  <alias
   match="^nl(\s+(\S*))?$"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   sequence="100"
  >
  <send>exercise %2</send>
  </alias>
  <alias
   match="^pfm(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--[[
if GetVariable("bianli")=="1" then
  SetTimerOption("bianli","hour",0)
  SetTimerOption("bianli","minute",0)
  SetTimerOption("bianli","second",2)
end
]]--
SetVariable("fight",1)
Execute(GetVariable("pfm"))
SetTimerOption ("pfm","second","1")
DoAfterSpecial(0.8,"if GetVariable('fight')=='1' then EnableTimer('pfm') end",sendto.script)
--EnableTimer('pfm')</send>
  </alias>
  <alias
   match="^pfm\_pl(\s+(.*))?$"
   enabled="y"
   group="skill_ss"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id = GetVariable("npc_id")
local enableunarmed, enableunarmed_org = GetVariable("enableunarmed")
if enableunarmed ~= "nine-moon-claw" then
    SetVariable("enableunarmed", "nine-moon-claw")
    Send("enable unarmed nine-moon-claw")
end
if npc_id=="" then
    Send("perform polu")
else
    Send("perform polu "..npc_id)
end
if ismember("yiqiforce", GetVariable("skill_list"), "|") &gt; 0 then
    Send("enable unarmed yiqiforce")
end
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_bbxr(\s+(\S*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_erg"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Send("enable unarmed xuemo-strike")
if npc_id=="" then
  Send("perform bingbuxueren")
else
  Send("perform bingbuxueren "..npc_id)
end
local skill_list=GetVariable("skill_list")
if ismember("yiqiforce",skill_list,"|")&gt;0 then
  Send("enable unarmed yiqiforce")
elseif ismember("lingxi-zhi",skill_list,"|")&gt;0 then
  Send("enable unarmed lingxi-zhi")
end
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_cdkw(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_tx"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Execute("pfm_lyqf")
if GetVariable("tx_juqi")=="0" then
  Send("exert juqi")
end
Send("wield @sword")
if npc_id=="" then
  Send("perform caidiekuangwu")
else
  Send("perform caidiekuangwu "..npc_id)
end
Send("unwield @sword")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_dgcm(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_tx"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Execute("pfm_lyqf")
if GetVariable("tx_juqi")=="0" then
  Send("exert juqi")
end
Send("wield @blade")
if npc_id=="" then
  Send("perform duangechangmeng")
else
  Send("perform duangechangmeng "..npc_id)
end
Send("unwield @blade")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_djrm(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_tx"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--[[
if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
]]--
local npc_id=GetVariable("npc_id")
Execute("pfm_lyqf")
if GetVariable("tx_juqi")=="0" then
  Send("exert juqi")
end
Send("wield @sword")
if npc_id=="" then
  Send("perform daojianruomeng")
else
  Send("perform daojianruomeng "..npc_id)
end
Send("unwield @sword")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_dsmy(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
if GetVariable("pfm_lhbb")=="1" then Execute("pfm_lhbb") end
Send("wield springrain blade")
if npc_id=="" then
  Send("perform dangshimingyue")
else
  Send("perform dangshimingyue "..npc_id)
end
Send("unwield springrain blade")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_gfsg$"
   enabled="y"
   group="skill_khl"
   regexp="y"
   sequence="100"
  >
  <send>wield lianhua
perform guifushengong
unwield lianhua
hp</send>
  </alias>
  <alias
   match="^pfm_gmz(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_dz"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "1" then
  Send("unwield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("wield lianhua")
if npc_id=="" then
  Send("perform guangmingzhou")
else
  Send("perform guangmingzhou "..npc_id)
end
Send("unwield lianhua")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_hs(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
if GetVariable("pfm_lhbb")=="1" then Execute("pfm_lhbb") end

Send("wield tieguai-fork")
Send("perform hengsao")
Send("unwield tieguai-fork")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_hybj(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("class")=="sq" then
  if GetVariable("sq_ci")=="0" then
    Execute("ci")
  end
  if GetVariable("sq_sm")=="1" then
--    Execute("grab save-me sheet;burn save-me sheet")
  end
end
if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("wield @sword")
if npc_id=="" then
  Send("perform haiyuanbajian")
else
  Send("perform haiyuanbajian "..npc_id)
end
Send("unwield @sword")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_jqpx(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_khl"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Send("wield lianhua")
if npc_id=="" then
  Send("perform jiuqipoxiao")
else
  Send("perform jiuqipoxiao "..npc_id)
end
Send("unwield lianhua")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_km(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 狂蟒之徒
Send("enable force jingyiforce")
Send("enable whip snake-whip")
Send("wield gun")
local npc_id=GetVariable("npc_id")
if npc_id=="" then
  Send("perform kuangmang")
else
  Send("perform kuangmang "..npc_id)
end
Send("unwield gun")
Send("enable whip thunderwhip")
Send("enable force iceheart")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_lhbb(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_mj"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
if npc_id=="" then
    SendImmediate("perform dodge.lianhuanbabu")
else
    SendImmediate("perform dodge.lianhuanbabu "..npc_id)
end
if GetVariable("mnpc_name") == "怜星" then
    SendImmediate("perform dodge.lianhuanbabu yao yue")
elseif GetVariable("mnpc_name") == "风入松" then
    SendImmediate("perform dodge.lianhuanbabu feng sanhua")
elseif GetVariable("mnpc_name") == "郭灭" then
    SendImmediate("perform dodge.lianhuanbabu gao tianjue")
elseif GetVariable("mnpc_name") == "萧伯贤" then
    SendImmediate("perform dodge.lianhuanbabu xiao zhongren")
elseif GetVariable("mnpc_name") == "金花娘" then
    SendImmediate("perform dodge.lianhuanbabu silver girl")
    SendImmediate("perform dodge.lianhuanbabu iron girl")
elseif GetVariable("mnpc_name") == "程驹" then
    SendImmediate("perform dodge.lianhuanbabu pan jin")
end</send>
  </alias>
  <alias
   match="^pfm_lr(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_bat"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "1" then
  Send("unwield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("enable unarmed luoriquan")
if npc_id=="" then
  Send("perform luori")
else
  Send("perform luori "..npc_id)
end
local skill_list=GetVariable("skill_list")
if ismember("yiqiforce",skill_list,"|")&gt;0 then
  Send("enable unarmed yiqiforce")
elseif ismember("lingxi-zhi",skill_list,"|")&gt;0 then
  Send("enable unarmed lingxi-zhi")
end
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_lscc$"
   enabled="y"
   group="skill_hgs"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
if ismember("liuquan-steps", GetVariable("skill_list"), "|") &gt; 0 then
    if GetVariable("mnpc_name") == "怜星" then
        Execute("#2(perform dodge.liushuichanchan yao yue)")
    elseif GetVariable("mnpc_name") == "程驹" then
        Execute("#2(perform dodge.liushuichanchan pan jin)")
    end
--[[
    if GetVariable("mypfm") ~= "pfm_hybj" then
        if npc_id=="" then
            Send("perform dodge.liushuichanchan")
        else
            Send("perform dodge.liushuichanchan "..npc_id)
        end
    end
]]--
end</send>
  </alias>
  <alias
   match="^pfm_lyqf(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_tx"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
if npc_id=="" then
  SendImmediate("perform dodge.luoyeqiufeng")
else
  SendImmediate("perform dodge.luoyeqiufeng "..npc_id)
end</send>
  </alias>
  <alias
   match="^pfm_mtd(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_bat"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "1" then
  Send("unwield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("wield @blade")
if npc_id=="" then
  Send("perform mietiandao")
else
  Send("perform mietiandao "..npc_id)
end
  Send("unwield @blade")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_other(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>pfm_yljx</send>
  </alias>
  <alias
   match="^pfm_pf(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_axg"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "1" then
  Send("unwield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("enable unarmed pofeng-strike")
if npc_id=="" then
  Send("perform luanpofeng")
else
  Send("perform luanpofeng "..npc_id)
end
local skill_list=GetVariable("skill_list")
if ismember("yiqiforce",skill_list,"|")&gt;0 then
  Send("enable unarmed yiqiforce")
end
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_qk(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_sg"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "x" then
  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("exert xuanxinxuezhi")
Execute("c_xxzf")
--Send("enable unarmed tenderzhi")
if npc_id=="" then
  Send("perform qiankun")
else
  Send("perform qiankun "..npc_id)
end
--Send("enable unarmed lingxi-zhi")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_smjs(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_cs"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Send("enable unarmed xioushan-water")
if npc_id=="" then
  Send("perform shuimanjinshan")
else
  Send("perform shuimanjinshan "..npc_id)
end
Send("enable unarmed yiqiforce")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_sq(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_hgs"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>--[[
if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
]]--
local npc_id=GetVariable("npc_id")
Send("exert powerup")
Send("wield @sword")
if npc_id=="" then
  Send("perform dodge.liushuichanchan")
  Send("perform siqi")
else
  Send("perform dodge.liushuichanchan "..npc_id)
  Send("perform siqi "..npc_id)
end
Send("unwield @sword")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_swsm(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_bat"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("pfm_lhbb")=="1" and tonumber(GetVariable("hp_shaqi"))&gt;15000) then
  Execute("enable dodge demon-steps;pfm_lhbb;enable dodge meng-steps")
end

if GetVariable("item_fist") == "1" then
  Send("unwield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("wield @blade")
if npc_id=="" then
  Send("perform shiwanshenmo")
else
  Send("perform shiwanshenmo "..npc_id)
end
  Send("unwield @blade")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_twfx(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_by"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("wield @sword")
if npc_id=="" then
  Send("perform dodge.tianwaifeixian")
else
  Send("perform dodge.tianwaifeixian "..npc_id)
end
Send("unwield @sword")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_wjgy(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_sj"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local special = "softsword"
local enablesword = GetVariable("enablesword")
local enablesword_org = enablesword
local npc_id = GetVariable("npc_id")
if GetVariable("pfm_lhbb")=="1" and tonumber(GetVariable("hp_shaqi"))&gt;15000 then
    Execute("pfm_lhbb")
end
if GetVariable("item_fist") == "1" then
    Send("unwield iron-fist")
end
if enablesword ~= special then
    Send("enable sword "..special)
    SetVariable("enablesword", special)
end
Send("wield @sword")
if npc_id=="" then
    Send("perform wanjianguiyi")
else
    Send("perform wanjianguiyi "..npc_id)
end
Send("unwield @sword")
if enablesword ~= enablesword_org then
    Send("enable sword "..enablesword_org)
end
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_yljx(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_dwg"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 云龙九现
if GetVariable("item_fist") == "1" then
  Send("unwield iron-fist")
end
local npc_id=GetVariable("npc_id")
if GetVariable("enableforce")=="iceheart" then
  Send("exert heal")
end
Send("wield gun")
if npc_id=="" then
  Send("perform yunlongjiuxian")
else
  Send("perform yunlongjiuxian "..npc_id)
end
Send("unwield gun")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_yplx(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_sl"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("pfm_lhbb")=="1" and tonumber(GetVariable("hp_shaqi"))&gt;15000) then
  Execute("enable dodge demon-steps;pfm_lhbb;enable dodge meng-steps")
end

if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
Send("wield @blade")
if npc_id=="" then
  Send("perform yipianlianxin")
else
  Send("perform yipianlianxin "..npc_id)
end
  Send("unwield @blade")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_yy(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_mj"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("class")=="sq" then
  if GetVariable("sq_ci")=="0" then
    Execute("ci")
  end
  if GetVariable("sq_sm")=="1" then
    Execute("grab save-me sheet;burn save-me sheet")
  end
end
if GetVariable("item_fist") == "0" then
  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
if GetVariable("pfm_lhbb")=="1" then
  if (GetVariable("class")=="mj" or (GetVariable("class")~="mj" and tonumber(GetVariable("hp_shaqi"))&gt;15000)) then
    Execute("pfm_lhbb")
  end
end
if GetVariable("get_moonblade")=="1" then
  Send("wield moonblade")
else
  Send("wield @blade")
end
if npc_id=="" then
  Send("perform yuanyue")
else
  Send("perform yuanyue "..npc_id)
end
if GetVariable("get_moonblade")=="1" then
  Send("unwield moonblade")
else
  Send("unwield @blade")
end
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_yyhs(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_cs"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Send("wield @sword")
if npc_id=="" then
  Send("perform zhenyuehanshan")
else
  Send("perform zhenyuehanshan "..npc_id)
end
Send("unwield @sword")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_zhtx(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_ct"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("item_fist") == "0" then
--  Send("wield iron-fist")
end
local npc_id=GetVariable("npc_id")
local spear = GetVariable("ct_spear")
local enablespear = GetVariable("enablespear")
if spear == "qingheluo" and enablespear ~= "feiyun-spear" then
  SetVariable("enablespear", "feiyun-spear")
  Send("enable spear feiyun-spear")
end
Send("wield jade")
if npc_id=="" then
  Send("perform "..spear)
else
  Send("perform "..spear.." "..npc_id)
end
Send("unwield jade")
Send("hp")</send>
  </alias>
  <alias
   match="^pfm_zj(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="skill_khl"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id=GetVariable("npc_id")
Send("enable unarmed hanshan-strike")
if npc_id=="" then
  Send("perform zhangjian")
else
  Send("perform zhangjian "..npc_id)
end
Send("enable unarmed yiqiforce")
Send("hp")</send>
  </alias>
  <alias
   match="^report(\s+(.*))?$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 任务报告
if "%2"=="reset" then
    SetVariable("mission_total",0)
    SetVariable("mission_totaltime",0)
    SetVariable("mission_totalexp",0)
    SetVariable("mission_totalpot",0)
    SetVariable("mission_totalcc",0)
    SetVariable("mission_totaldie",0)
    SetVariable("box_exp",0)
    SetVariable("box_pot",0)
    SetVariable("box_total",0)
    SetVariable("mission_dan",0)
    Note("任务数据已清除")
else
    local total=GetVariable("mission_total")
    local totalcc=GetVariable("mission_totalcc")
    local totaldie=GetVariable("mission_totaldie")
    local totalexp=GetVariable("mission_totalexp")
    local totalpot=GetVariable("mission_totalpot")
    local totaltime=GetVariable("mission_totaltime")
    local d=GetIntPart(totaltime/86400)
    local h=GetIntPart(math.fmod(totaltime,86400)/3600)
    local m=GetIntPart(math.fmod(totaltime,3600)/60)
    local s=math.fmod(totaltime,60)
    local boxexp=GetVariable("box_exp")
    local boxpot=GetVariable("box_pot")
    local boxtotal=GetVariable("box_total")
    local dan=GetVariable("mission_dan")
    local fix=0
    Note("---------- 任务报告 ----------")
    Note("任务总数量:",total+totalcc)
    Note("任务完成数:",total)
    Note("任务取消数:",totalcc)
    Note("任务死亡数:",totaldie)
    Note("任务消耗丹:",dan)
    Note("任务总潜能:",totalpot)
    Note("任务总经验:",totalexp)
    Note("任务总时间:",d,"天",h,"小时",m,"分",s,"秒")
    Note("------------------------------")
    Note("任务平均时间:",math.ceil(totaltime/total))
    Note("任务平均潜能:",math.ceil(totalpot/total))
    Note("任务平均经验:",math.ceil(totalexp/total))
    Note("取消比(取消/总数):"..string.format("%.2f",totalcc/(total+totalcc)*100).."%")
    Note("潜能比(潜能/经验):"..string.format("%.2f",totalpot/totalexp*100).."%")
    Note("------------------------------")
    Note("宝箱总数量:",boxtotal)
    Note("宝箱总潜能:",boxpot)
    Note("宝箱总经验:",boxexp)
    Note("------------------------------")
    Note("预计一天潜能:",math.ceil(math.ceil(totalpot/total)*86400/(math.ceil(totaltime/total)+fix)))
    Note("预计一天经验:",math.ceil(math.ceil(totalexp/total)*86400/(math.ceil(totaltime/total)+fix)))
    Note("------------------------------")
    Note("重置记录请用 report reset 指令")
end</send>
  </alias>
  <alias
   match="^res (\S+)\s*(\S*)$"
   enabled="y"
   group="general"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 别名功能: 研究技能
-- 参数: %1=技能名 %2=目标等级
-- 如 %1=stop 则停止 research

if "%1"=="stop" then
  DeleteTimer("temp")
else
SetVariable("pots",500)
SetVariable("skill_name","%1")
SetVariable("skill_level",1)
SetVariable("skill_level2","%2")

AddTimer("temp",0,0,1,"ResearchSkill",timer_flag.Temporary,"")
SetTimerOption("temp","send_to",10)
SetTimerOption("temp","enabled",1)
end</send>
  </alias>
  <alias
   match="^sk(\s+(.*))?$"
   enabled="y"
   expand_variables="y"
   group="general"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if "%1"=="" then
  Send("skills")
else
  Send("skills".."%1")
end</send>
  </alias>
  <alias
   match="^var\s(\S+)\s(.+)$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 给变量赋值
if GetVariable("%1") ~= nil then  -- 当MUSH变更存在时允许赋值
    if "%2" == "null" then  -- 当赋值为 null 时，变量设置为 空值
        SetVariable("%1", "")
    else
        SetVariable("%1", "%2")
    end
    Note("变量 ".."%1".." = "..GetVariable("%1"))
else
    Note("变量 ".."%1".." 不存在！")
end</send>
  </alias>
  <alias
   match="abl"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask baili about 归东景</send>
  </alias>
  <alias
   match="ac"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask chu about bat island</send>
  </alias>
  <alias
   match="acj"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask liu changjie about 秋水夫人</send>
  </alias>
  <alias
   match="acm"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask meng about mission
accept mission</send>
  </alias>
  <alias
   match="adf"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask ding feng about bat</send>
  </alias>
  <alias
   match="afm"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask fat man about 暗器</send>
  </alias>
  <alias
   match="ag"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>accept test
tell ghost no face</send>
  </alias>
  <alias
   match="agz"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask gongzi yu about 信物
west
west
give rose to sima</send>
  </alias>
  <alias
   match="aln"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask lao ni about 神水宫</send>
  </alias>
  <alias
   match="alz"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask jin lingzhi about pearl
answer yes</send>
  </alias>
  <alias
   match="aty"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask tianyuan about immortal</send>
  </alias>
  <alias
   match="awd *"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask %1 about 江湖五毒</send>
  </alias>
  <alias
   match="awr"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask wurong about master guanyin</send>
  </alias>
  <alias
   match="axl"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask wei xing long about book
fight wei xing long</send>
  </alias>
  <alias
   match="ayb"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask yin bin about man</send>
  </alias>
  <alias
   match="aym"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask master yuan about 见方丈
answer 重要事</send>
  </alias>
  <alias
   match="ayx"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>ask yinxian about shiwei</send>
  </alias>
  <alias
   match="azz"
   enabled="y"
   group="ask"
   sequence="100"
  >
  <send>remove all
ask zhu zao about 过阵</send>
  </alias>
  <alias
   match="b *"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>local location = GetVariable("location")
local npc_id = ""
if location == "千银当铺" then
    npc_id = "xiangling"
elseif location == "玉龙珠宝店" then
    npc_id = "seller"
elseif location == "红屋" then
    npc_id = "xian"
elseif location == "安生棺材店" then
    npc_id = "huying"
elseif location == "焦都驿" then
    npc_id = "max"
elseif location == "珠宝店" then
    npc_id = "jade seller"
elseif location == "养生舍" then
    npc_id = "huofe"
elseif location == "日出客栈" then
    npc_id = "waiter"
elseif location == "风云东路" then
    npc_id = "medseller"
elseif location == "太平客栈" then
    npc_id = "hao shengyi"
elseif location == "三清宫大院" then
    npc_id = "tianyuan"
elseif location == "迎梅客栈" then
    npc_id = "waiter"
elseif location == "狼窝" then
    npc_id = "wan xiaochun"
else
    npc_id = GetVariable("target_id")
end
if npc_id ~= "" then
    Send("buy ".."%1".." from "..npc_id)
end</send>
  </alias>
  <alias
   match="bat"
   enabled="y"
   group="area_bat"
   sequence="100"
  >
  <send>east
ask master chu about bat island
give book to ding feng</send>
  </alias>
  <alias
   match="bath"
   enabled="y"
   group="area_bat"
   send_to="12"
   sequence="100"
  >
  <send>bianli("open ping feng;s;#4 u;say 我来过，活过，爱过！;e")</send>
  </alias>
  <alias
   match="batm"
   enabled="y"
   group="area_bat"
   send_to="12"
   sequence="100"
  >
  <send>bianli("n;w;w;u;e;e;e;e")</send>
  </alias>
  <alias
   match="batn"
   enabled="y"
   group="area_bat"
   send_to="12"
   sequence="100"
  >
  <send>bianli("e;dash huache;open rightdoor;w;s")</send>
  </alias>
  <alias
   match="bc"
   enabled="y"
   group="area_xj"
   send_to="10"
   sequence="100"
  >
  <send>ne;#3 n;wade</send>
  </alias>
  <alias
   match="bch"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--边城街心回南宫钱庄
bianli("s;s;s;s;se;wade")</send>
  </alias>
  <alias
   match="bianli"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 遍历
-- Execute("var")
-- Note(GetVariable("step"))
local bianli = tonumber(GetVariable("bianli"))
local find = tonumber(GetVariable("find"))
local fight = tonumber(GetVariable("fight"))
local stop = tonumber(GetVariable("stop"))
local step = tonumber(GetVariable("step"))
local steps = tonumber(GetVariable("steps"))
local path = GetVariable("path")
if GetVariable("mnpc_poison")=="1" then
    Execute("jd")   -- 解毒
end
if bianli==1 and find==0 and fight==0 and stop==0 then
    if step&lt;=steps then
        SetVariable("dir",item(path,step,";"))  -- 保存当前方向到变量"dir"
        Execute("buff2")    -- 门派buff
        Execute(item(path,step,";"))    -- 执行方向
        --[[ 效率提高不明显，暂取消此功能
        -- 如果是自动叫杀mnpc,在遍历终点直接下kill
        if step==steps and GetVariable("mission")=="1" and GetVariable("mnpc_autokill")=="1" and GetVariable("useding")=="0" and GetVariable("area")~="dxc" and GetVariable("mnpc_location")~="风云道" then
            SetVariable("pfm",GetVariable("mypfm"))
            Execute("kk "..GetVariable("mnpc_id"))
        end
        ]]--
        -- 全区域遍历时显示对应的位置名
        --if GetVariable("mnpc_location")=="." then Note(item(GetVariable("area_"..GetVariable("area").."_2"),step,"|")) end
        SetVariable("step",step+1)
    else
       -- if step&gt;steps then SetVariable("bianli",0) end  -- 当在最后一步前有NPC阻拦,因为别名bianli延时,有时候会导致Rush后停止遍历(例如快活林:争春苑,百兵库等地点),暂时取消
    end
end</send>
  </alias>
  <alias
   match="bl"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 快速遍历
local area=GetVariable("area_"..GetVariable("area"))
if GetVariable("area")~="zb3" then
  area=area..";set tri 慢速遍历"
end
bianli(area)</send>
  </alias>
  <alias
   match="bl2"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 慢速遍历
SetVariable("mnpc_jiasi",0)
SetVariable("bianli",1)
SetVariable("find",0)
SetVariable("stop",0)
SetVariable("fight",0)
SetVariable("flag",0)
SetVariable("step",1)

SetTimerOption("bianli","hour",0)
SetTimerOption("bianli","minute",1)
SetTimerOption("bianli","second",0)

if GetVariable("mnpc_autokill")=="1" then
--  steps=steps-1
end

Execute("bianli")

if GetVariable("area")=="cxn" then
  SetVariable("wait",1)
else
  SetVariable("wait",0.1)
end</send>
  </alias>
  <alias
   match="bp"
   enabled="y"
   expand_variables="y"
   group="general"
   sequence="100"
  >
  <send>get pipe from @rq
blow pipe
put pipe in @rq</send>
  </alias>
  <alias
   match="br"
   enabled="y"
   group="skill_dz"
   sequence="100"
  >
  <send>cast banruoboluomi</send>
  </alias>
  <alias
   match="buff"
   enabled="y"
   expand_variables="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>local wait = 0
local class=GetVariable("class")
local skill_list=GetVariable("skill_list")
local neili_max=tonumber(GetVariable("hp_neili_max"))
local lingli=tonumber(GetVariable("hp_lingli"))
local neili=tonumber(GetVariable("hp_neili"))
local fali=tonumber(GetVariable("hp_fali"))
local enablemagic=GetVariable("enablemagic")
local enableforce=GetVariable("enableforce")
local enablespells=GetVariable("enablespells")
local enableironcloth=GetVariable("enableironcloth")

-- 忍术，enable忍术则使用du，否则非xg|dwg|wm门派并且有忍术则enable忍术并且du
if enablemagic=="ninjitsu" then
    Execute("du")
elseif ismember(class,"xg|dwg|wm","|")==0 and ismember("ninjitsu",skill_list,"|")&gt;0 then
    Execute("enable magic ninjitsu;ll 3000")
    DoAfterSpecial(wait + 2,"du",sendto.execute)
end
-- 上蝙蝠岛、没手环、有八识技能、enable非八识、非万梅门派 五个条件同时成立则enable八识
if ismember("gdf",GetVariable("path"),";")&gt;0 and GetVariable("item_shouhuan")=="0" and ismember("ninjitsu",skill_list,"|")&gt;0 and enablemagic~="essencemagic" and class~="wm" then
    Execute("enable magic essencemagic;ll 3000")
end
-- 被天吃星打掉内力的恢复
if neili_max&lt;10 then
    Send("tuna")
end
-- 解毒
if GetVariable("mnpc_poison")=="1" then
    Execute("jd")
end
if class=="mj" or (GetVariable("uselhbb")=="1" and ismember("demon-force",skill_list,"|")&gt;0) then
    Send("exert guishenpomie")
elseif class=="sg" then
    Send("perform iron-cloth.xuanxinaomiao")
    if fali&lt;1000 then
        Execute("fl 3000")
    end
elseif class=="tx" then
    Send("exert juqi")
elseif class=="sq" then
    if  GetVariable("item_paperseal")~="0" and GetVariable("sq_sm")=="0" then
    --Execute("g 1 paper seal;scribe save-me on paper seal;put save-me sheet in ding")
    end
    if fali&lt;1000 then
        Execute("fl 3000")
    end
elseif ismember(class,"dz","|")&gt;0 then
    if fali&lt;1000 then
        Execute("fl 3000")
    end
elseif class=="xg" then
    Send("exert douzhansheng")
end
if neili&lt;1000 and class~="dwg" then  -- 帝王谷不需要内力
    Execute("nl 3000")
end

-- 针对使用落日拳/长拳的对象取消iron-cloth enable
if ismember(GetVariable("mnpc_name"), "孟星魂|风入松|阎铁珊|霍休|萧伯贤|苏浅雪", "|") &gt; 0 and class ~= "dz" then
    Send("enable iron-cloth none")
elseif class == "sg" and enableironcloth ~= "xuanxinue" then
    Send("enable iron-cloth xuanxinjue")
elseif class == "dz" then
    if enableironcloth ~= "jin-gang" then
        Send("enable iron-cloth jin-gang")
    end
    Execute("perform iron-cloth.daoqiangburu;enable iron-cloth")
elseif ismember("yiqiforce", skill_list, "|") &gt; 0 and enableironcloth ~= "yiqiforce" then
    Send("enable iron-cloth yiqiforce")
end</send>
  </alias>
  <alias
   match="buff2"
   enabled="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>-- 遍历中的buff
local class=GetVariable("class")
local skill_list=GetVariable("skill_list")
local neili_max=tonumber(GetVariable("hp_neili_max"))
local lingli=tonumber(GetVariable("hp_lingli"))
local neili=tonumber(GetVariable("hp_neili"))
local fali=tonumber(GetVariable("hp_fali"))
local enablemagic=GetVariable("enablemagic")
local enableforce=GetVariable("enableforce")
local enablespells=GetVariable("enablespells")
local enableironcloth=GetVariable("enableironcloth")

if neili_max&lt;10 then -- 被天吃星打掉内力的恢复
    if ismember("yiqiforce",skill_list,"|")&gt;0 and enableforce~="yiqiforce" then
        Send("enable force yiqiforce")
    end
    Send("tuna")
    Send("enable force "..enableforce)
end
if enablemagic == "ninjitsu" and GetVariable("nj_du") == "0" then -- 忍术dur up
    Execute("du")
end
if GetVariable("mnpc_poison")=="1" then --解毒
    Execute("jd")
end
if neili &lt; 1000 then  -- 补充内力
    Execute("nl 5000;hp")
end
if GetVariable("mj_gspm") == "0" and (class == "mj" or (GetVariable("uselhbb") == "1" and ismember("demon-force",skill_list,"|") &gt; 0)) then
    Send("exert guishenpomie")
elseif class == "xg" and GetVariable("xg_dzs") == "0" then
    Send("exert douzhansheng")
elseif class == "jq" then
    if GetVariable("jq_js") == "0" then
        Send("exert concentrate")
    elseif GetVariable("jq_jq") == "0" then
        Send("exert persist")
    end
elseif class == "dz" and GetVariable("dz_dqbr") == "0" and GetVariable("enableironcloth") == "jin-gang" then
    Send("perform iron-cloth.daoqiangburu")
elseif enableforce == "moonforce" and GetVariable("mf_shield") == "0" then
    Send("exert shield")
elseif enableforce == "moonforce" and GetVariable("mf_conquering") == "0" then
    Send("exert conquering")
elseif class == "khl" and GetVariable("khl_zbcs") == "0" then
    if enableforce == "longlife-force" then
        Send("exert zebeicangsheng")
    else
        Execute("enable force longlife-force;nl 5000;hp")
    end
elseif class == "axg" and GetVariable("axg_enlarge") == "0" then
    Send("conjure enlarge")
end</send>
  </alias>
  <alias
   match="buypaperseal"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 购买桃符纸
local location=GetVariable("location")
if location=="安生棺材店" then
  SetVariable("npc_id","huying")
end
Execute("gm")
AddTimer("temp",0,0,1,"#15(buy paper seal from "..GetVariable("npc_id")..");set tri buypaperseal",timer_flag.Temporary,"")
SetTimerOption("temp","send_to",10)
SetTimerOption("temp","enabled",1)</send>
  </alias>
  <alias
   match="buyqiyue"
   enabled="y"
   expand_variables="y"
   group="area_by"
   sequence="100"
  >
  <send>east
get 1 gold from @rq
give 1 gold to old zhanggui
put gold in @rq</send>
  </alias>
  <alias
   match="bw_jdt"
   enabled="y"
   group="area_bw"
   sequence="100"
  >
  <send>l 断塔
push door
enter</send>
  </alias>
  <alias
   match="byh"
   enabled="y"
   group="area_by"
   send_to="12"
   sequence="100"
  >
  <send>bianli("n;n;n;n;n;n;n;n;out;nd;nd;nw;nd;nd;ne;nd;ne;ne;n;n;e;sail;e")</send>
  </alias>
  <alias
   match="byn"
   enabled="y"
   group="area_by"
   send_to="12"
   sequence="100"
  >
  <send>bianli("s;s;se;su;se;su;sw;su;enter;s;s;s;s;s;s;s;s")</send>
  </alias>
  <alias
   match="byz"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--边城街心到白云庄
bianli("e;se;e;e;e;e;se;e;e;nu;nu;wu;wd;wd;w;w;n;n")</send>
  </alias>
  <alias
   match="byzh"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--白云庄回边城街心
bianli(fan("e;se;e;e;e;e;se;e;e;nu;nu;wu;wd;wd;w;w;n;n"))</send>
  </alias>
  <alias
   match="ca_h"
   enabled="y"
   group="skill_dz"
   sequence="100"
  >
  <send>cast hong</send>
  </alias>
  <alias
   match="ca_ws *"
   enabled="y"
   group="skill_dz"
   sequence="100"
  >
  <send>cast weishe on %1</send>
  </alias>
  <alias
   match="cb"
   enabled="y"
   expand_variables="y"
   group="area_cxn"
   send_to="12"
   sequence="100"
  >
  <send>Send("get wolf pen from @rq")
Send("wield wolf pen")
if GetVariable("cxn_hzsc")=="0" then
  Send("chop bush")
else
  Send("chop woods")
end
Send("put wolf pen in @rq")</send>
  </alias>
  <alias
   match="cbe"
   enabled="y"
   group="area_cxn"
   send_to="12"
   sequence="100"
  >
  <send>Execute("cb")
DoAfter(1,"east")</send>
  </alias>
  <alias
   match="cbs"
   enabled="y"
   group="area_cxn"
   send_to="12"
   sequence="100"
  >
  <send>Execute("cb")
DoAfter(1,"south")</send>
  </alias>
  <alias
   match="cbw"
   enabled="y"
   group="area_cxn"
   send_to="12"
   sequence="100"
  >
  <send>Execute("cb")
DoAfter(1,"west")</send>
  </alias>
  <alias
   match="cd"
   enabled="y"
   group="dir"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location")=="朝阳峰巅" then
  Send("down")
else
  Send("climb down")
end</send>
  </alias>
  <alias
   match="cg"
   enabled="y"
   expand_variables="y"
   group="general"
   sequence="100"
  >
  <send>get ye guo from @rq
eat ye guo
put ye guo in @rq</send>
  </alias>
  <alias
   match="cgw"
   enabled="y"
   group="area_cx"
   send_to="12"
   sequence="100"
  >
  <send>-- 沉香到关外山脚
bianli("w;w;w;w;n;nw;ne;nw;nw;ne;nd;n;nw;w;w;w")</send>
  </alias>
  <alias
   match="ch"
   expand_variables="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>--吃南瓜喝水
Execute("get pumpkin from @rq;get pot from @rq;eat pumpkin")
DoAfterSpecial(2,"drink pot;put pumpkin in @rq;put pot in @rq",10)
</send>
  </alias>
  <alias
   match="ci"
   enabled="y"
   group="skill_sq"
   sequence="100"
  >
  <send>cast invocation</send>
  </alias>
  <alias
   match="cls"
   enabled="y"
   group="area_cx"
   send_to="12"
   sequence="100"
  >
  <send>bianli("w;w;w;w;s;s;s;s;w;w;w;s;wu;su;su;se;eu;su;su;sw;su;se")</send>
  </alias>
  <alias
   match="clsn"
   enabled="y"
   group="area_cx"
   send_to="12"
   sequence="100"
  >
  <send>bianli("w;w;w;w;s;s;s;s;w;w;w;s;wu;su;su;se;eu;su;su;sw;su;se;s;se;su;su;su;su;se;su;knock door;knock door;knock door;enter;s")</send>
  </alias>
  <alias
   match="conv * *"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 货币兑换
local a=""
local b=""
if "%1"=="m" then
  a=" million-cash"
elseif "%1"=="tt" then
  a=" tenthousand-cash"
elseif "%1"=="t" then
  a=" thousand-cash"
elseif "%1"=="g" then
  a=" gold"
elseif "%1"=="s" then
  a=" silver"
elseif "%1"=="c" then
  a=" coin"
end

if "%2"=="m" then
  b=" to million-cash"
elseif "%2"=="tt" then
  b=" to tenthousand-cash"
elseif "%2"=="t" then
  b=" to thousand-cash"
elseif "%2"=="g" then
  b=" to gold"
elseif "%2"=="s" then
  b=" to silver"
elseif "%2"=="c" then
  b=" to coin"
end

local micash=tonumber(GetVariable("item_micash"))
local ttcash=tonumber(GetVariable("item_ttcash"))
local cash=tonumber(GetVariable("item_cash"))
local gold=tonumber(GetVariable("item_gold"))
local silver=tonumber(GetVariable("item_silver"))
local coin=tonumber(GetVariable("item_coin"))

if "%1"=="m" then
  Send("convert "..micash..a..b)
  SetVariable("item_micash",0)
elseif "%1"=="tt" then
  Send("convert "..ttcash..a..b)
  SetVariable("item_ttcash",0)
elseif "%1"=="t" then
  Send("convert "..cash..a..b)
  SetVariable("item_cash",0)
elseif "%1"=="g" then
  Send("convert "..gold..a..b)
  SetVariable("item_gold",0)
elseif "%1"=="s" then
  Send("convert "..silver..a..b)
  SetVariable("item_silver",0)
elseif "%1"=="c" then
  Send("convert "..coin..a..b)
  SetVariable("item_coin",0)
end
Send("i")</send>
  </alias>
  <alias
   match="ct"
   enabled="y"
   group="dir"
   send_to="12"
   sequence="100"
  >
  <send>if (GetVariable("location")=="林间空地" or GetVariable("area")=="lyz") then
  Send("climb pine")
else
  Send("climb tree")
end
</send>
  </alias>
  <alias
   match="ctf"
   enabled="y"
   group="area_cx"
   send_to="12"
   sequence="100"
  >
  <send>-- 沉香广场到天枫山石峰边缘
bianli("n;nw;ne;nw;nw;ne;nd;n;nw;n")</send>
  </alias>
  <alias
   match="cu"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>climb up</send>
  </alias>
  <alias
   match="cun"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 存钱
if GetVariable("rq_type")=="body" then
  local micash=tonumber(GetVariable("item_micash"))
  local ttcash=tonumber(GetVariable("item_ttcash"))
  local cash=tonumber(GetVariable("item_cash"))
  local gold=tonumber(GetVariable("item_gold"))
  local silver=tonumber(GetVariable("item_silver"))
  local coin=tonumber(GetVariable("item_coin"))

  if micash&gt;0 then
    Send("deposit "..micash.." million-cash")
    SetVariable("item_micash",0)
  elseif ttcash&gt;0 then
    Send("deposit "..ttcash.." tenthousand-cash")
    SetVariable("item_ttcash",0)
  elseif cash&gt;0 then
    Send("deposit "..cash.." thousand-cash")
    SetVariable("item_cash",0)
  elseif gold&gt;0 then
    Send("deposit "..gold.." gold")
    SetVariable("item_gold",0)
  elseif silver&gt;0 then
    Send("deposit "..silver.." silver")
    SetVariable("item_silver",0)
  elseif coin&gt;0 then
    Send("deposit "..coin.." coin")
    SetVariable("item_coin",0)
  end
end
Send("i")</send>
  </alias>
  <alias
   match="cx"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云天下 - 沉香老城广场
bianli("s;s;s;s;s;s;s;s;s;w;w;sw;w;nw;n;w;w;sw;open door;w;sw;su;sw;se;se;sw;se;s")</send>
  </alias>
  <alias
   match="cxh"
   enabled="y"
   group="area_cx"
   send_to="12"
   sequence="100"
  >
  <send>-- 沉香老城广场 - 风云天下
bianli(fan("s;s;s;s;s;s;s;s;s;w;w;sw;w;nw;n;w;w;sw;open door;w;sw;su;sw;se;se;sw;se;s"))</send>
  </alias>
  <alias
   match="cxnh"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","南")

Execute("#6 e;climb tree")</send>
  </alias>
  <alias
   match="cxtj"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","北")

Execute("#6 e;climb tree")</send>
  </alias>
  <alias
   match="cxwm"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","东")

Execute("#6 e;climb tree")</send>
  </alias>
  <alias
   match="d"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>down</send>
  </alias>
  <alias
   match="dlj"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>--郭大路到吉祥镇
bianli("se;ne;se;ne;se;se;e;s;s;s;s")</send>
  </alias>
  <alias
   match="do"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 遍历，出发点"风云天下"
SetVariable("flag", 0)
local class = GetVariable("class")
local mnpc_location = GetVariable("mnpc_location")
local area=GetVariable("area")
local path = GetVariable("path")
-- 使用鼎但没油纸时返回，触发补充油纸
if GetVariable("useding") == "1" and GetVariable("youzhi_mugui") == "0" and GetVariable("item_mugui") ~= "0" then
    Note("没油纸！")
    local mission_retry = tonumber(GetVariable("mission_retry")) + 1
    if mission_retry &gt; 2 then
        SetVariable("mission_retry", 0)
        SetVariable("mission_cancel", 1)
    else
        SetVariable("mission_retry", mission_retry)
    end
    Execute("Return")
--[[
elseif GetVariable("mnpc_name") == "金非" then  -- 修正金非路径，守株待兔。
        bianli("n;n;n;n;n;n;n;n;n;n;n;n;n;n;nw;e;e;e;e;wait")
]]--
else  -- 开始执行遍历
    SetVariable("mnpc_jiasi", 0)
    SetVariable("find", 0)
    SetVariable("stop", 0)
    SetVariable("fight", 0)

    -- 初始化过路技能（快刀、剑舞，恶人谷：六阴剑）
    if class == "dz" then
        SetVariable("pfm", "cast ni")
    elseif class == "khl" and GetVariable("enableforce") == "longlife-force" then
        SetVariable("pfm", "pfm_gfsg")
    elseif GetVariable("usekd") == "1" then
        SetVariable("pfm", "pfm_kd")
    elseif GetVariable("usejw") == "1" then
        SetVariable("pfm", "pfm_jw")
    else
        SetVariable("pfm", GetVariable("mypfm"))
    end
    if path ~= "" then
        if class == "sq" and ((area == "bat" and ismember("gdf", path, ";") &gt; 0) or (area == "by" and ismember("buyqiyue", path, ";") &gt; 0) or (area == "dq3" and ismember("bp", path, ";") &gt;0)) and GetVariable("item_paperseal") ~= "0" then  -- 三清使用符飞
            Execute("sqdo")
        elseif class == "dz" and GetVariable("dz_dun") == "绿洲" and ismember(area, "bc|dz|tx|xj|yl|zb1|zb2|zb3|khl1|khl2","|") &gt; 0 then  -- 大召飞绿洲
            Execute("s;br")
        elseif GetVariable("useplane") == "1" and ((area=="by" and ismember("buyqiyue",GetVariable("path"),";")&gt;0) or (area=="dq3" and ismember("bp",GetVariable("path"),";")&gt;0)) and GetVariable("npc_id")=="" then  -- 使用幻术师
            Execute("plane")
        else  -- 步行
            if area == "hgs" and mnpc_location == "松树" and GetVariable("item_rope") == "0" then   -- 如果是"黄山松树"并且没rope时去桃园制作rope
                Execute("ty")
            elseif ismember(area, "bc|dz|tx|xj|yl|zb1|zb2|zb3|khl1|khl2|dmb|hs|ls|cxn|dmcs2|dmcs3|cx", "|") &gt; 0 and GetVariable("usesrz") == "1" then Execute("tjcx2")
            elseif ismember(area, "bw|df|dq1|dq2|dq3|dmcs1|dwg|fg|hsl|hgs|jn|lyz|lw|ml|qf|qp|sq|sx|sl|ss1|ss2|ts|wd|bat|dm|sgs|dxc|srz|qs|island", "|") &gt; 0 then Execute("bl")
            elseif ismember(area, "fy|fycq|fyzb|yg", "|") &gt; 0 then Execute("bl2")
            elseif ismember(area, "wm|qjl","|") &gt; 0 then Execute("tjwm")
            elseif ismember(area, "bc|zb1|zb2|zb3|cx|cxn|dmcs2|dmcs3|khl1|khl2|dmb|tx|hs|ls|xj|yl|dz","|") &gt; 0 then Execute("tjcx")
            elseif area == "by" then
                if ismember(mnpc_location, "船行|海岸|狐记当铺|狐狸窝|林中小路|南海大道|南海码头|平原路|沙滩","|") &gt; 0 then
                    Execute("tjnh")
                else
                    Execute("tjnh2")
                end
            end
        end
    else
        Send("rush")
    end
end
</send>
  </alias>
  <alias
   match="doit"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 任务开始，出发点"山流密室"
local orgout = GetVariable("orgout")
local orgin = GetVariable("orgin")
local wait = 1
local class = GetVariable("class")
DoAfterSpecial(wait,orgout..";buff",sendto.execute)
wait = wait + 3
DoAfterSpecial(wait,"n;figure",sendto.execute)
wait = wait + 2
DoAfterSpecial(wait,"do",sendto.execute)</send>
  </alias>
  <alias
   match="dq"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到大旗谷
bianli("e;e;e;e;e;e;e;e;eu;eu;eu;e;eu;sd;ed;n;w;w;w;w;w;wd;w;w;n;w;w;wd;wd;wd;ask yin bin about man")</send>
  </alias>
  <alias
   match="dt"
   enabled="y"
   group="dir"
   send_to="12"
   sequence="100"
  >
  <send>local location=GetVariable("location")
if (ismember(location,"槐树上|院墙","|")&gt;0 or GetVariable("area")=="qp") then
  Send("jump down")
else
  Send("down")
end</send>
  </alias>
  <alias
   match="du"
   enabled="y"
   expand_variables="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("get_sdmask") == "0" then
    Send("conjure durup on @player_id")
else
    Send("conjure durup on faked old shan dong")
end</send>
  </alias>
  <alias
   match="dun"
   enabled="y"
   group="skill_dz"
   sequence="100"
  >
  <send>cast dun</send>
  </alias>
  <alias
   match="dwg"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到帝王谷精舍前1
bianli("east;east;east;east;east;east;east;east;eastup;eastup;northeast;east;east;east;east;south;south;south;south;south;east;east;east;east;east;east;down;touch 恶人像;east;east;east;east;east;east;south")</send>
  </alias>
  <alias
   match="dwg_dive"
   enabled="y"
   expand_variables="y"
   group="area_dwg"
   send_to="12"
   sequence="100"
  >
  <send>Execute("put all in @rq;get luwei from @rq;dive;get back seal from @rq")
for i=1,tonumber(GetVariable("dan_max")) do
  Send("get dan from @rq")
end

if (GetVariable("item_moonblade")~="0" and GetVariable("calldie")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("calldie_list"),"|")&gt;0) then
  Execute("g moonblade")
end

if GetVariable("class") == "hs" then
    Execute("g 10 tribuli")
end
-- 取回put all in bag的油纸
if (ismember(GetVariable("mnpc_name"),GetVariable("figure_list"),"|")&gt;0 and GetVariable("useding")=="1") then
  for i=1,tonumber(GetVariable("youzhi_num")) do
    Execute("g youzhi")
  end
end</send>
  </alias>
  <alias
   match="dwgh"
   enabled="y"
   group="area_dwg"
   send_to="12"
   sequence="100"
  >
  <send>-- 帝王谷精舍前1回风云广场
bianli("n;w;w;w;w;w;w;u;w;w;w;w;w;w;n;n;n;n;n;w;w;w;w;sw;wd;wd;w;w;w;w;w;w;w;w")</send>
  </alias>
  <alias
   match="dxc"
   enabled="y"
   group="area_fy"
   send_to="10"
   sequence="100"
  >
  <send>n
n
n
n
n
n
n
w
l grass
stamp grass</send>
  </alias>
  <alias
   match="dy"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--边城到钓鱼
bianli("e;se;e;e;e;e;se;e;e;se;e;e;n;w")</send>
  </alias>
  <alias
   match="dyh"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--钓鱼回边城
bianli(fan("e;se;e;e;e;e;se;e;e;se;e;e;n;w"))</send>
  </alias>
  <alias
   match="dz"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>dazuo</send>
  </alias>
  <alias
   match="e"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>east</send>
  </alias>
  <alias
   match="ed"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>eastdown</send>
  </alias>
  <alias
   match="ee"
   enabled="y"
   group="dir"
   send_to="10"
   sequence="100"
  >
  <send>#10 e</send>
  </alias>
  <alias
   match="en"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>enter</send>
  </alias>
  <alias
   match="eu"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>eastup</send>
  </alias>
  <alias
   match="f *"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>conjure drift sense
%1</send>
  </alias>
  <alias
   match="fbat"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","white cloth man")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fbc"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","xiaodi")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fby"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","ye xingshi")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fcc"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","qian buyao")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fcx"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","nangong")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fdz"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","hu")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="ffy"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","shiyi")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fg"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到富贵山庄
bianli("w;w;w;w;w;w;w;w;w;w;n;n;n;n;n;ne;n;e;n;n;n;n;n;n;jie gaoshi;show yaopai;nu;wu;nu;nu;wu;nu;ne;nu;nu;enter;n;drop yaopai")</send>
  </alias>
  <alias
   match="fgh"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>-- 富贵山庄回风云广场
bianli("s;out;sd;sd;sw;sd;ed;sd;sd;ed;sd;s;s;s;s;s;s;w;s;sw;s;s;s;s;s;e;e;e;e;e;e;e;e;e;e")</send>
  </alias>
  <alias
   match="fgj"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>--富贵山庄回吉祥镇
bianli("s;out;sd;sd;sw;sd;ed;sd;sd;ed;sd;s;s;s;s")</send>
  </alias>
  <alias
   match="fhs"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","xiao linger")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="figure"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 写油纸请杀手
--if GetVariable("useding")=="1" and ismember(GetVariable("mnpc_name"),GetVariable("figure_list"),"|")&gt;0 then
if GetVariable("useding")=="1" and GetVariable("mnpc_name") ~= "" then
    SetVariable("figure_sum",0)
    SetVariable("youzhi_sum",0)
    SetVariable("obj","youzhi")
    Execute("g mugui")
    if GetVariable("look_mugui")=="1" then
        SetVariable("look_mugui",0)
        Send("look mugui")
    end
    for i=1,tonumber(GetVariable("youzhi_num")) do
        Send("get youzhi from mugui")
        Send("print "..GetVariable("mnpc_id"))
    end
    Execute("p mugui")
end</send>
  </alias>
  <alias
   match="fillskin"
   enabled="y"
   expand_variables="y"
   group="area_wm"
   sequence="100"
  >
  <send>south
get wineskin from @rq
pull 木塞
fill wineskin
put wineskin in @rq</send>
  </alias>
  <alias
   match="fixxg"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 兴国touch mark后会根据id自身属性出现有两种情况：第一种是原地不动，第二种是自动north。这里每次登录都会初始化千佛地图为的第一种情况的路径，然后再利用"你一纵身进了暗道，铜人在你身后又合上了。"这条触发调整id对应的正确地图。

SetVariable("area_qf_1","e;e;e;ct;dt;eu;eu;nu;n;w;e;e;w;n;w;e;e;w;n;north;w;e;e;w;n;w;e;e;w;n;wu;ed;eu;wd;n;w;e;n;s;e;n;w;w;e;n;w;e;n;s;e;nw")</send>
  </alias>
  <alias
   match="fkh"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","master chai")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fls"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","master tiezhan")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fqj"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","qiu du")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="frog"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场取雪蛤
--[[
bianli("e;e;e;e;e;e;e;e;eu;eu;ne;e;e;e;e;n;get all from flower;s;w;w;w;sw;wd;wd;w;w;w;w;w;w;w;w")
]]--
bianli("e;e;e;e;e;e;e;e;eu;eu;ne;e;e;e;n;get all from flower;s;s;s;s;e;get all from flower;get all from wanghua;drop wanghua;w;n;n;n;w;w;w;sw;wd;wd;w;w;w;w;w;w;w;w")</send>
  </alias>
  <alias
   match="fxj"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","shier")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="fyl"
   enabled="y"
   group="skill_xg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","master lao dao")
Execute("f "..GetVariable("npc_id"))</send>
  </alias>
  <alias
   match="g *"
   enabled="y"
   expand_variables="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>--SetVariable("obj", "%1")
Note("%1")
Send("get ".."%1".." from @rq")</send>
  </alias>
  <alias
   match="ga"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>get all</send>
  </alias>
  <alias
   match="gaol"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 显示系统变量
for k, v in pairs (GetAlphaOptionList ()) do 
  Note (v) 
end</send>
  </alias>
  <alias
   match="gbc"
   enabled="y"
   group="area_gw"
   send_to="10"
   sequence="100"
  >
  <send>n;ne;nw;w</send>
  </alias>
  <alias
   match="gc *"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>local corpse_num = GetVariable("corpse_num")
corpse_num = tonumber(corpse_num)

Execute("get ".."%1".." from corpse")

if corpse_num &gt; 1 then
  for i = 2, corpse_num do
    Execute("get ".."%1".." from corpse "..i)
  end
end</send>
  </alias>
  <alias
   match="gdf"
   enabled="y"
   group="area_bat"
   send_to="10"
   sequence="100"
  >
  <send>g qing feng book
give qing feng book to ding feng</send>
  </alias>
  <alias
   match="getm"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 重新取得任务路径
local area = GetVariable("area")
if ismember(area, "dmcs1|dmcs2|dmcs3", "|") &gt; 0 then
    area = "dmcs"
elseif ismember(area, "dq1|dq2", "|") &gt; 0 then
    area = "dq"
elseif ismember(area, "khl1|khl2", "|") &gt; 0 then
    area = "khl"
elseif ismember(area, "ss1|ss2", "|") &gt; 0 then
    area = "ss"
elseif ismember(area, "zb1|zb2|zb3", "|") &gt; 0 then
    area = "zb"
end
Execute("getpath "..GetVariable("mnpc_location").." "..area)</send>
  </alias>
  <alias
   match="gf *"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>get all from %1</send>
  </alias>
  <alias
   match="gkh"
   enabled="y"
   group="area_gw"
   send_to="10"
   sequence="100"
  >
  <send>e;e;e;n;ne;nw;nw;wade 沙流</send>
  </alias>
  <alias
   match="gm"
   enabled="y"
   expand_variables="y"
   group="general"
   sequence="100"
  >
  <send>get ttcash from @rq
get cash from @rq
get gold from @rq
get silver from @rq</send>
  </alias>
  <alias
   match="gv *"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id = GetVariable("target_id")
local location = GetVariable("location")
if location == "广场凉亭" then
    npc_id = "tianji"
end
if ismember(npc_id,"xiangling|priest|suhong|xue|little fatman|girl","|") == 0 then
    Send("give ".."%1".." to "..npc_id)
else
    Note("给予对象是 "..npc_id.." 请确认！！！")
end</send>
  </alias>
  <alias
   match="gwc"
   enabled="y"
   group="area_gw"
   send_to="12"
   sequence="100"
  >
  <send>bianli("e;e;s;s;su;sw;se;se;sw;se;s")</send>
  </alias>
  <alias
   match="gwh"
   enabled="y"
   group="area_gw"
   send_to="12"
   sequence="100"
  >
  <send>--关外山脚回风云广场
bianli("e;e;e;e;s;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e;e")</send>
  </alias>
  <alias
   match="gyc"
   enabled="y"
   group="area_hs"
   send_to="12"
   sequence="100"
  >
  <send>-- 华山别院到公冶长
bianli("w;sw;se;sw;e;su;su;eu;ed;eu;se;se;s")</send>
  </alias>
  <alias
   match="hb"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>bianli("e;e;e;e;e;e;e;e;eu;eu;eu;e;eu;sd;ed;n;e;e;e;e;e;e;e;e;e;e;e;e;e;e")</send>
  </alias>
  <alias
   match="hbh"
   enabled="y"
   group="area_bat"
   send_to="12"
   sequence="100"
  >
  <send>bianli("w;w;w;w;w;w;w;w;w;w;w;w;w;w;w;w;w;w;w;w;e;e;s;s;s;s;s;s;s;s;s;s;wu;nu;wd;w;wd;wd;wd;w;w;w;w;w;w;w;w")</send>
  </alias>
  <alias
   match="hd"
   enabled="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>-- 四照心法――护盾
Send("exert shield")</send>
  </alias>
  <alias
   match="hgs"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>bianli(GetVariable("area_hgs"))</send>
  </alias>
  <alias
   match="hgsc"
   enabled="y"
   group="area_hgs"
   send_to="10"
   sequence="100"
  >
  <send>e;ne;ed;ed;s;ed;eu;ed;ed;e;n</send>
  </alias>
  <alias
   match="hhz"
   enabled="y"
   group="area_xj"
   send_to="12"
   sequence="100"
  >
  <send>--南宫钱庄到好汉庄
bianli("ne;n;n;n;nu;su;sw;sw;w;w")</send>
  </alias>
  <alias
   match="hhzh"
   enabled="y"
   group="area_zb"
   send_to="12"
   sequence="100"
  >
  <send>--南宫钱庄到好汉庄
bianli(fan("ne;n;n;n;nu;su;sw;sw;w;w"))</send>
  </alias>
  <alias
   match="hs"
   enabled="y"
   group="area_cx"
   send_to="12"
   sequence="100"
  >
  <send>-- 沉香到华山别院
bianli("w;w;w;w;n;nw;ne;nw;nw;ne;nd;nw;w;w;s;s;s;su;wu;wu;wu;se;e")</send>
  </alias>
  <alias
   match="hsb"
   enabled="y"
   group="area_fy"
   send_to="10"
   sequence="100"
  >
  <send>#7 e;ne;#3 n;talk</send>
  </alias>
  <alias
   match="hsbn"
   enabled="y"
   group="area_hsl"
   send_to="10"
   sequence="100"
  >
  <send>n;u;e;u;e;e;u;w;climb 蔓藤</send>
  </alias>
  <alias
   match="init"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("初始化变量")
SetVariable("tribuli_ask", 1)
SetVariable("tribuli_time", 0)
EnableTimer("tribuli")
SetVariable("axg_enlarge", 0)
SetVariable("nj_du", 0)
SetVariable("mf_conquering", 0)
SetVariable("mf_shield", 0)
SetVariable("khl_zbcs", 0)

SetVariable("item_skyclothes", "")
SetVariable("login",0)
SetVariable("sell_mugui",0)
SetVariable("askpill",0)
EnableTimer("acupoint",false)
SetVariable("acupoint_time",100)
SetVariable("drop_jadebox",0)
SetVariable("mnpc_libie",0)
SetVariable("mnpc_clzx",0)
SetVariable("tty",0)
SetVariable("setmark_time",900)
SetVariable("sq_ask_guard",600)
SetVariable("ask_guard",2)
SetVariable("ask_weapon",0)
SetVariable("ask_yuanmie",1)
SetVariable("usedan",0)
SetVariable("npc_id","")
SetVariable("manglin","")
SetVariable("manglin_dir","")
SetVariable("corpse_name","")
SetVariable("corpse_num",0)
SetVariable("player_id",GetAlphaOption("player"))
SetVariable("box_num",0)
SetVariable("box_sum",0)
Execute("RefreshNPCOBJ")

Note("初始化触发")
EnableTrigger("mlby",false)
EnableTriggerGroup("player_list",false)
EnableTrigger("CCD",false)
EnableTrigger("getmugui",false)

-- 刷砚台触发开关
if GetVariable("yantai") == "1" then
    EnableTriggerGroup("topaz")
    EnableTimer("topaz")
else
    EnableTriggerGroup("topaz", false)
    EnableTimer("topaz", false)
end
SetVariable("timer_topaz", 0)

-- 兴国touch mark后会根据id自身属性出现有两种情况：第一种是原地不动，第二种是自动north。这里每次登录都会初始化千佛地图为的第一种情况的路径，然后再利用"你一纵身进了暗道，铜人在你身后又合上了。"这条触发调整id对应的正确地图。
Execute("fixxg")</send>
  </alias>
  <alias
   match="jd"
   enabled="y"
   expand_variables="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>if ismember("feiyuancurse", GetVariable("skill_list"), "|") &gt; 0 then
    if GetVariable("get_sdmask") == "1" then
        Execute("perform herb.jiedu faked old shan dong")
    else
        Execute("perform herb.jiedu @player_id")
    end
elseif GetVariable("enableforce") == "iceheart" then
    Send("exert depoison")
end</send>
  </alias>
  <alias
   match="jdl"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>--吉祥镇到郭大路
bianli("n;n;n;n;w;nw;nw;sw;nw;sw;nw")</send>
  </alias>
  <alias
   match="jfg"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>-- 吉祥镇到富贵山庄
bianli("n;n;n;n;jie gaoshi;nu;wu;nu;nu;wu;nu;ne;nu;nu;enter;n;drop yaopai")</send>
  </alias>
  <alias
   match="jfg"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>--吉祥镇到富贵山庄
bianli("n;n;n;n;jie gaoshi;nu;wu;nu;nu;wu;nu;ne;nu;nu;enter;n;drop yaopai")</send>
  </alias>
  <alias
   match="jg"
   enabled="y"
   group="skill_dz"
   sequence="100"
  >
  <send>perform iron-cloth.daoqiangburu</send>
  </alias>
  <alias
   match="jml"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>-- 吉祥镇到富贵密林
bianli("n;n;n;n;jie gaoshi;northup;westup;nu;nu;westup;northup;drop yaopai")</send>
  </alias>
  <alias
   match="jn"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>Note("风云天下 - 济南")
bianli("n;n;n;n;n;n;n;n;n;n;e;e;e;s;s;s;su;sd;ask yinxian about shiwei;unwield all;s;s")</send>
  </alias>
  <alias
   match="jnh"
   enabled="y"
   group="area_jn"
   send_to="12"
   sequence="100"
  >
  <send>Note("济南 - 风云天下")
bianli("n;n;nu;nd;n;n;n;w;w;w;s;s;s;s;s;s;s;s;s;s")</send>
  </alias>
  <alias
   match="js"
   enabled="y"
   group="skill_xg"
   sequence="100"
  >
  <send>conjure silent sense</send>
  </alias>
  <alias
   match="ju *"
   enabled="y"
   group="skill_dwg"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("npc_id","%1")
Send("curse ghostcurse")
Send("%1")</send>
  </alias>
  <alias
   match="jx"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到吉祥镇
bianli("w;w;w;w;w;w;w;w;w;w;n;n;n;n;n;ne;n;e;n;n")</send>
  </alias>
  <alias
   match="jxg"
   enabled="y"
   group="area_hs"
   send_to="12"
   sequence="100"
  >
  <send>-- 华山别院到姜仙公
bianli("w;sw;se;sw;e;su;su;eu;ed;eu;se;sd;sw;wu;wd")</send>
  </alias>
  <alias
   match="jxh"
   enabled="y"
   group="area_fg"
   send_to="12"
   sequence="100"
  >
  <send>--吉祥镇回风云广场
bianli("s;s;w;s;sw;s;s;s;s;s;e;e;e;e;e;e;e;e;e;e")</send>
  </alias>
  <alias
   match="k *"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>kill %1</send>
  </alias>
  <alias
   match="kdp"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 猎杀丁鹏，出发地点"厚载门"

SetVariable("npc_id","ding peng")

Execute("tty ding peng")

DoAfterSpecial(1,"Execute('getpath '..GetVariable('mnpc_location')..' ts');SetVariable('path',GetVariable('path')..';kk ding peng');bianli(GetVariable('path'))",sendto.script)
DoAfterSpecial(5,"gc moonblade;p moonblade;Return",sendto.execute)</send>
  </alias>
  <alias
   match="knl"
   enabled="y"
   group="general"
   send_to="10"
   sequence="100"
  >
  <send>s;s;w;w;n;e;kneel;say OK!;w;s;e;e;n;n</send>
  </alias>
  <alias
   match="l"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("bianli")=="1" then
  Note("正在遍历中，look 会影响遍历准确性，如必须执行，请输入 look。")
else
  Send("look")
end</send>
  </alias>
  <alias
   match="lb"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>look bag</send>
  </alias>
  <alias
   match="lc"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>local corpse_num = GetVariable("corpse_num")
corpse_num = tonumber(corpse_num)

Execute("look corpse")

if corpse_num &gt; 1 then
  for i = 2, corpse_num do
    Execute("look corpse "..i)
  end
end</send>
  </alias>
  <alias
   match="learnfrom *"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("pots", 100)
Execute("a1 LearnFrom ".."%1")</send>
  </alias>
  <alias
   match="lhz"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--边城街心到龙虎寨
bianli("e;se;e;e;e;e;se;e;e;sw;w;sw;se;listen;l south;s;s;se")</send>
  </alias>
  <alias
   match="lhzh"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--龙虎寨回边城街心
bianli(fan("e;se;e;e;e;e;se;e;e;sw;w;sw;se;listen;l south;s;s;se"))</send>
  </alias>
  <alias
   match="ls"
   enabled="y"
   group="skill_xg"
   sequence="100"
  >
  <send>conjure soul sense</send>
  </alias>
  <alias
   match="lsc"
   enabled="y"
   group="area_ls"
   send_to="12"
   sequence="100"
  >
  <send>bianli("nw;nd;ne;nd;nd;wd;nw;nd;nd;ed;n;e;e;e;n;n;n;n")</send>
  </alias>
  <alias
   match="lsn"
   enabled="y"
   group="area_ls"
   send_to="12"
   sequence="100"
  >
  <send>bianli("s;se;su;su;su;su;se;su;knock door;knock door;knock door;enter;s")</send>
  </alias>
  <alias
   match="lsnc"
   enabled="y"
   group="area_ls"
   send_to="12"
   sequence="100"
  >
  <send>bianli("n;out;nd;nw;nd;nd;nd;nd;nw;n;nw;nd;ne;nd;nd;wd;nw;nd;nd;ed;n;e;e;e;n;n;n;n")</send>
  </alias>
  <alias
   match="lsnh"
   enabled="y"
   group="area_ls"
   send_to="12"
   sequence="100"
  >
  <send>bianli("n;out;nd;nw;nd;nd;nd;nd;nw;n")</send>
  </alias>
  <alias
   match="ly"
   enabled="y"
   group="area_xj"
   send_to="12"
   sequence="100"
  >
  <send>--南宫钱庄到了因师太
bianli("se;s;s;wu;w;w;w;sw;sw;sw;w;su;su;wu;nu;wu;en;n")</send>
  </alias>
  <alias
   match="lyh"
   enabled="y"
   group="area_zb"
   send_to="12"
   sequence="100"
  >
  <send>--了因师太到南宫钱庄
bianli("s;out;ed;sd;ed;l 山石;nd;nd;nd;e;ne;ne;ne;e;e;e;ed;n;n;nw")</send>
  </alias>
  <alias
   match="lyz"
   enabled="y"
   group="area_ts"
   send_to="12"
   sequence="100"
  >
  <send>-- 泰山山脚到老云寨
bianli("n;nu;u;u;u;u;u;u;nu;eu;eu;e;s;se;e;e;e")</send>
  </alias>
  <alias
   match="m"
   enabled="y"
   group="mission"
   sequence="100"
  >
  <send>time
mission</send>
  </alias>
  <alias
   match="max"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>bianli("w;w;w;w;w;w;w;w;w;w;w;w;w;w;s")</send>
  </alias>
  <alias
   match="mb"
   enabled="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>-- 切换到圆月魔刀
Send("enable blade moon-blade")
Execute("setvar pfm pfm_yy")</send>
  </alias>
  <alias
   match="mc"
   enabled="y"
   group="mission"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("mission_cancel",1)
Execute("mission cancel;mission ctimes")
DoAfterSpecial(12,"if GetVariable('mnpc_clzx')=='0' then Send('mission') end",sendto.script)
if GetVariable("org") == "天宗" then
  Execute("wu;n;tzguard")
end</send>
  </alias>
  <alias
   match="mission_complete"
   enabled="y"
   group="mission"
   send_to="12"
   sequence="100"
  >
  <send>-- 所有MNPC相关项目重置
--EnableTimer("mtime",false)
SetVariable("find",0)
SetVariable("bianli",0)
SetVariable("mission",0)
SetVariable("mission_cancel",0)
SetVariable("mission_retry",0)
SetVariable("mnpc_name","")
SetVariable("mnpc_id","")
SetVariable("mnpc_autokill","")
SetVariable("mnpc_autorun","")
SetVariable("mnpc_cancel","")
SetVariable("mnpc_location","")
SetVariable("area","")
SetVariable("step",0)
SetVariable("steps",0)
SetVariable("path","")</send>
  </alias>
  <alias
   match="mln"
   enabled="y"
   group="area_fg"
   send_to="10"
   sequence="100"
  >
  <send>pushaside grass
w
nw
sw
tear paper
drop paper</send>
  </alias>
  <alias
   match="n"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>north</send>
  </alias>
  <alias
   match="nd"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>northdown</send>
  </alias>
  <alias
   match="ne"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>northeast</send>
  </alias>
  <alias
   match="nn"
   enabled="y"
   group="dir"
   send_to="10"
   sequence="100"
  >
  <send>#10 n</send>
  </alias>
  <alias
   match="noop"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("noop")</send>
  </alias>
  <alias
   match="nsj"
   enabled="y"
   group="skill_dwg"
   sequence="100"
  >
  <send>curse nosocurse on spirit</send>
  </alias>
  <alias
   match="nu"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>northup</send>
  </alias>
  <alias
   match="nw"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>northwest</send>
  </alias>
  <alias
   match="o"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>out</send>
  </alias>
  <alias
   match="od"
   enabled="y"
   sequence="100"
  >
  <send>open door</send>
  </alias>
  <alias
   match="p *"
   enabled="y"
   expand_variables="y"
   group="general"
   sequence="100"
  >
  <send>put %1 in @rq</send>
  </alias>
  <alias
   match="pfm_bg"
   enabled="y"
   expand_variables="y"
   group="skill_erg"
   sequence="100"
  >
  <send>wield @sword
perform baigui
unwield all
hp</send>
  </alias>
  <alias
   match="pfm_clzx"
   enabled="y"
   group="skill_jq"
   send_to="12"
   sequence="100"
  >
  <send>local npc_id = GetVariable("npc_id")
if npc_id == "" then
    Send("perform dodge.canglongzhaxian")
else
    Send("perform dodge.canglongzhaxian "..npc_id)
end
Send("hp")</send>
  </alias>
  <alias
   match="pfm_gqss"
   enabled="y"
   expand_variables="y"
   group="skill_erg"
   sequence="100"
  >
  <send>enable dodge ghost-steps
perform dodge.guiqisensen @player_id</send>
  </alias>
  <alias
   match="pfm_hs"
   enabled="y"
   group="skill_bx"
   sequence="100"
  >
  <send>wield axe
perform hengsao
unwield all
hp</send>
  </alias>
  <alias
   match="pfm_jw"
   enabled="y"
   group="skill"
   sequence="100"
  >
  <send>wield jade
perform jianwu
unwield jade</send>
  </alias>
  <alias
   match="pfm_kd"
   enabled="y"
   expand_variables="y"
   group="skill_mj"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("get_moonblade")=="1" then
    Send("wield moonblade")
else
    Send("wield @blade")
end
local enableblade = GetVariable("enableblade")
local enableblade_org = enableblade
if enableblade ~= "moon-blade" then
    SetVariable("enableblade", "moon-blade")
    Send("enable blade moon-blade")
end
Send("perform kuaidao")
if GetVariable("get_moonblade")=="1" then
    Send("unwield moonblade")
else
    Send("unwield @blade")
end
if enableblade ~= enableblade_org then
    Send("enable "..enableblade_org)
end</send>
  </alias>
  <alias
   match="pfm_lfsf"
   enabled="y"
   group="skill_jq"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("jq_clzx") == "0" then
    Execute("pfm_clzx")
else
    if GetVariable("jq_js") == "0" then
        Send("exert concentrate")
    end
    local npc_id = GetVariable("npc_id")
    Send("wield jade")
    if npc_id == "" then
        Send("perform longfengshuangfei")
    else
        Send("perform longfengshuangfei "..npc_id)
    end
    Send("unwield jade")
    Send("hp")
end</send>
  </alias>
  <alias
   match="pfm_mthy"
   enabled="y"
   group="skill_hs"
   sequence="100"
  >
  <send>wield tribuli
perform mantianhuayu
unwield tribuli
hp</send>
  </alias>
  <alias
   match="pfm_mwc"
   enabled="y"
   expand_variables="y"
   group="skill_yl"
   sequence="100"
  >
  <send>enable dodge nodust-steps
perform dodge.mowuchen @player_id</send>
  </alias>
  <alias
   match="pfm_srrm"
   enabled="y"
   expand_variables="y"
   group="skill_jq"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("jq_clzx") == "0" then
    Execute("pfm_clzx")
else
    if GetVariable("jq_js") == "0" then
        Send("exert concentrate")
    end
    local npc_id = GetVariable("npc_id")
    Send("wield @sword")
    Send("perform sharenruma")
    Send("unwield @sword")
    Send("hp")
end</send>
  </alias>
  <alias
   match="pg"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>pushaside grass</send>
  </alias>
  <alias
   match="plane"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 幻术师飞模块
local list=""
local j=0
local area=GetVariable("area")
local money_sum = 0
local wait = 0

-- 任务重试，重新获得任务路径
if GetVariable("mission_retry")~="0" then
--  Execute("getm")
end

if GetVariable("useplane") == "1" and ((area=="by" and ismember("buyqiyue",GetVariable("path"),";")&gt;0) or (area=="dq3" and ismember("bp",GetVariable("path"),";")&gt;0)) and GetVariable("npc_id")=="" then

    if area=="by" and ismember("buyqiyue",GetVariable("path"),";")&gt;0 then   -- 白云岛
      j=tonumber(GetVariable("steps"))
      for i=12,j do
&#9;    list=list..item(GetVariable("path"),i,";")
        if i~=j then
          list=list..";"
        end
&#9;  end
&#9;  SetVariable("path",trimpath("eu;nw;nd;nw;n;n;"..list))
&#9;  SetVariable("steps",num(GetVariable("path"),";"))
&#9;  SetVariable("npc_id","illusionist nan")
      money_sum = 5

    elseif area=="dq3" and ismember("bp",GetVariable("path"),";")&gt;0 then    -- 常春岛
      j=tonumber(GetVariable("steps"))
      for i=8,j do
&#9;    list=list..item(GetVariable("path"),i,";")
        if i~=j then
          list=list..";"
        end
&#9;  end
&#9;  SetVariable("path","w;n;"..list)
&#9;  SetVariable("steps",num(GetVariable("path"),";"))
&#9;  SetVariable("npc_id","illusionist dong")
      money_sum = 1
    end

    if tonumber(GetVariable("item_cash")) &lt; money_sum then  -- 判断包中是否有足够钱
        Execute("s;s;s;s;s;e;qu "..money_sum.." t;p cash")
        wait = wait + 2
        DoAfterSpecial(wait, "w;n;n;n;n;n", sendto.execute)
    end
    wait = wait + 1
    DoAfterSpecial(wait, "n;e;u;e;charge window;g "..money_sum.." cash;give cash to "..GetVariable("npc_id"),sendto.execute)  -- 执行
    wait = wait + 3
    DoAfterSpecial(wait, "if GetVariable('location') == '凉亭亭顶' then Execute('down;getm;do') end", sendto.script)
end</send>
  </alias>
  <alias
   match="playerlist"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 记录当前所有玩家的id
SetVariable("player_list", "")
Execute("who -f")
Execute("who -m")</send>
  </alias>
  <alias
   match="pm"
   enabled="y"
   expand_variables="y"
   group="general"
   sequence="100"
  >
  <send>put ttcash in @rq
put cash in @rq
put gold in @rq
put silver in @rq
put coin in @rq</send>
  </alias>
  <alias
   match="powerup"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("enableforce_org", GetVariable("enableforce"))
Execute("enable force doomforce;hp")
EnableTimer("powerup")</send>
  </alias>
  <alias
   match="pt"
   enabled="y"
   group="area_fy"
   send_to="10"
   sequence="100"
  >
  <send>n;n;n;n;n;n;n;n;n;n;wu;wu;nu;w</send>
  </alias>
  <alias
   match="q"
   enabled="y"
   sequence="100"
  >
  <send>quest</send>
  </alias>
  <alias
   match="qc"
   enabled="y"
   sequence="100"
  >
  <send>quest cancel</send>
  </alias>
  <alias
   match="qp"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到清平
bianli("n;n;n;n;n;n;n;n;n;n;e;e;e;s;s;s;e;ne;ne;ne;e")</send>
  </alias>
  <alias
   match="qs"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到秋水夫人
bianli("n;n;n;n;n;n;n;n;n;n;wu;wu;nu;nu;nu;nu;climb 山;climb 悬崖")</send>
  </alias>
  <alias
   match="qu * *"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 取钱
if "%2"=="m" then
  Send("withdraw "..%1*100000000)
elseif "%2"=="tt" then
  Send("withdraw "..%1*1000000)
elseif "%2"=="t" then
  Send("withdraw "..%1*100000)
elseif "%2"=="g" then
  Send("withdraw "..%1*10000)
elseif "%2"=="s" then
  Send("withdraw "..%1*100)
end
Send("i")</send>
  </alias>
  <alias
   match="qz"
   enabled="y"
   group="general"
   send_to="10"
   sequence="100"
  >
  <send>s;s;s;s;s;e;i;balance</send>
  </alias>
  <alias
   match="qzh"
   enabled="y"
   group="general"
   send_to="10"
   sequence="100"
  >
  <send>w;n;n;n;n;n</send>
  </alias>
  <alias
   match="rc"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云城到日出城
bianli("s;s;s;s;s;s;s;e;se;se;s;s;s;e;e;e;e;e;e")</send>
  </alias>
  <alias
   match="rch"
   enabled="y"
   group="area_rc"
   send_to="12"
   sequence="100"
  >
  <send>bianli("w;w;w;w;w;w;n;n;n;nw;nw;w;n;n;n;n;n;n;n")</send>
  </alias>
  <alias
   match="rem *"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 注释指令，不产生任何效果，主要用于 Send to Execute 脚本中注释。</send>
  </alias>
  <alias
   match="revive"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>AddTimer("temp",0,0,5,"go east;set tri 死亡",timer_flag.Temporary+timer_flag.Replace,"")
SetTimerOption("temp","send_to",10)
SetTimerOption("temp","enabled",1)</send>
  </alias>
  <alias
   match="s"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>south</send>
  </alias>
  <alias
   match="sailsouth"
   enabled="y"
   group="area_by"
   send_to="10"
   sequence="100"
  >
  <send>#7(sail south)</send>
  </alias>
  <alias
   match="sb"
   enabled="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>-- 切换到春雨刀法
Send("enable blade springrain-blade")
SetVariable("pfm","pfm_dsmy")</send>
  </alias>
  <alias
   match="sc"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>score</send>
  </alias>
  <alias
   match="sd"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>southdown</send>
  </alias>
  <alias
   match="se"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>southeast</send>
  </alias>
  <alias
   match="setid"
   enabled="y"
   group=".设置"
   send_to="10"
   sequence="100"
  >
  <send>rem 以下为MUSH变量设置列表
rem 如无特殊说明，变量值含意为：
rem 1=开启 0=关闭 null=空
rem 格式：var 变量名 变量值
rem 注意事项：
rem 行前带 rem 关键字的句子为注释说明，无实际用途
rem 除变量值外，请不要修改其它内容，如变量没值设置为 null
rem 设置完毕后需要在命令行处输入 setid 确认生效
rem ==============================
rem 主力perform，值一般是一个别名(Alias)，可参考 Alias 里面大量的 pfm_???? 编写
var mypfm pfm_mthy
rem ------------------------------
rem 前置perform，先于mypfm使用，但只使用一次，不判断是否成功，值一般是一个别名(Alias)
var mypfmf null
rem ------------------------------
rem 剑的ID
var mysword sword
var sword sword
rem ------------------------------
rem 刀的ID
var myblade null
var blade null
rem ------------------------------
rem 是否使用快刀
var usekd 0
rem ------------------------------
rem 是否使用剑舞
var usejw 0
rem ------------------------------
rem 是否使用落日，变量 uselr_list 为使用对象
var uselr 0
var uselr_list 芮玮|高莫静
rem ------------------------------
rem 是否使用其它自定义技能(技能别名必须为pfm_other)，变量 useother_list 为使用对象
var useother 0
var useother_list 芮玮|高莫静
rem ------------------------------
rem 是否使用圆月魔刀的明月几时有(外派)，变量 useyy_list 为使用对象
rem 需要750级或更高级的圆月魔刀。
var useyy 0
var useyy_list 芮玮|高莫静
rem ------------------------------
rem 是否使用圆月弯刀 calldie ，变量 calldie_list 为使用对象
rem 目前似乎已取消外派 calldie 效果
var calldie 0
var calldie_list 霍休|阎铁珊|秋一枫
rem ------------------------------
rem 是否使用魔教步法连环八步(外派)
rem 需要750级或更高的步法及不低于10000万的杀气，加外1级的doomforce用于调整杀气。
var uselhbb 0
rem ------------------------------
rem 是否使用五帝神鼎，变量 figure_list 为使用对象，变量 youzhi_num 为每次使用油纸数量
var useding 0
var figure_list 花无缺|铁开诚|地藏|李坏|薛可可|玉罗刹|路小佳
var youzhi_num 5
rem ------------------------------
rem 是否允许刷新技能列表
var skill_refresh 1
rem ------------------------------
rem 是否使用被动叫杀技能，变量 passive_list 为使用对象
rem 除帝王谷外，其它门派需要指定变量 passive_skill 的技能
var passive_kill 0
var passive_skill null
var passive_list 无须老人|风入松|金花娘|郭灭|金童|胡姥姥|萧伯贤
rem ------------------------------
rem 是否使用幻术师飞常春岛(10gold)和白云岛(50gold)
var useplane 1
rem ------------------------------
rem 是否使用杀人庄绕过莽林去沉香
var usesrz 1
rem ------------------------------
rem 华山荒凉小径 open curtain 大米ID
var hsdummy_id guestb
rem ------------------------------
rem 指定用于提供天通眼服务的三清大米
var sq_id tty
rem ------------------------------
rem 是否自动问山流总管要丹药(山流专用)
var auto_askpill 1
rem ------------------------------
rem 是否自动 enforce，值范围 0 - 150
var auto_enforce 1
rem ------------------------------
rem 是否自动保存潜能
var auto_enhancesave 1
rem ------------------------------
rem 是否自动查看尸体
var auto_lookcorpse 1
rem ------------------------------
rem 是否自动去关外降经验，需要银行至少有5张大额银票
var auto_pray 1
rem ------------------------------
rem 是否自动复活
rem 过程：先在MAX处尝试 whisper xg_id 变量指定的兴国大米复活，如果失败则喝酒袋复活
var auto_revive 1
var xg_id fatfat
rem ------------------------------
rem 是否自动买酒袋，宁死不喝的可设置为0
var auto_buyjiudai 1
rem ------------------------------
rem 是否自动定时存盘，避免 MUDOS 崩溃
var auto_save 1
rem ------------------------------
rem 是否自动补给食物饮水、丹、修仙符
var auto_supply 1
rem ------------------------------
rem 身上携带丹药总数
rem 战斗中当丹药剩下2个时，自动使用修仙术飞
var dan_max 6
rem ------------------------------
rem 信任 ID 列表
rem 接受列表中的 ID tell 指令
var id_list lnf|lxj
rem ------------------------------
rem 默认容器 ID
var rq bag
rem ------------------------------
rem 是否在 mission 中刷砚台
rem 需自行在 bag 中准备 she shi 和 tea，并且第一次需要手动 give 物品激活
rem 当修改 yantai 1 后，你需要登录登录游戏或者自行执行一次 init 以使相关触发打开
var yantai 0
rem ------------------------------
rem 角色门派，以下为参考代码
rem 普通百姓|bx|江湖游侠|bx|白云城|by|财神庙|cs|朝廷命官|ct|大昭寺|dz|帝王谷|dwg|峨嵋派|em|恶人谷|erg|富贵山庄|fg|华山派|hs|黄山派|hgs|金钱帮|jq|蓝山剑宗|jz|三清宫|sq|神剑山庄|sj|松谷庵|sg|铁雪山庄|tx|万梅山庄|wm|西方神教|mj|兴国禅寺|xg|幽灵山庄|yl|丐帮|gb|蝙蝠岛|bat|神水宫|ss|狼山|ls|铁血大旗门|dq|快活林|khl|武当派|wd|少林寺|sl|傲仙宫|axg
rem 门派代码一般情况下会在 score 中自动获取，保持 null 值即可。
rem 但对于转世的号，其 TITLE 默认为“再世为人”导致无法判断，请自行设置，或者重新 app 一次师父纠正 TITLE。
var class null</send>
  </alias>
  <alias
   match="sf"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到三佛
bianli("w;w;w;w;w;w;w;w;nw;ne;e;ne;e;sw;s;sd")</send>
  </alias>
  <alias
   match="sj *"
   enabled="y"
   group="skill_dwg"
   sequence="100"
  >
  <send>curse solidcurse on %1</send>
  </alias>
  <alias
   match="sl"
   enabled="y"
   group="area_fy"
   send_to="10"
   sequence="100"
  >
  <send>w;w;w;w;w;w;w;w;nw;ne;nw;nu;nu;nu;u</send>
  </alias>
  <alias
   match="slh"
   enabled="y"
   group="area_sl"
   send_to="10"
   sequence="100"
  >
  <send>d;sd;sd;sd;se;sw;se;e;e;e;e;e;e;e;e</send>
  </alias>
  <alias
   match="sln"
   enabled="y"
   group="area_sl"
   send_to="10"
   sequence="100"
  >
  <send>n;n;n;n;nu;nd;nu;nd;nu;nu;nu;nd;n;n;n;nu;n;n;n</send>
  </alias>
  <alias
   match="slnh"
   enabled="y"
   group="area_sl"
   send_to="10"
   sequence="100"
  >
  <send>#3 s;sd;#3 s;su;sd;sd;sd;s;su;sd;su;sd;#4 s</send>
  </alias>
  <alias
   match="sm"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("class") ~= "wd" then
    Send("setmark")
else
    Send("setmark1")
end</send>
  </alias>
  <alias
   match="sq"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到三清宫
bianli("n;n;n;n;n;n;n;n;n;n;wu;wu;nu;nu;nu;nu;climb 山;climb 山;n;n;n;n;n;knock door")</send>
  </alias>
  <alias
   match="sqdo"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>-- 三清利用符飞三岛任务模块
local list = ""
if ((GetVariable("area") == "bat" and ismember("gdf", GetVariable("path"), ";") &gt; 0) or (GetVariable("area") == "by" and ismember("buyqiyue", GetVariable("path"), ";")&gt;0) or (GetVariable("area") == "dq3" and ismember("bp", GetVariable("path"), ";") &gt; 0)) and GetVariable("item_paperseal") ~= "0" then
Note(1)
    if GetVariable("mission_retry") == "0" then  -- 首次任务，修正路径
        if GetVariable("area") == "bat" and ismember("gdf", GetVariable("path"), ";") &gt; 0 then  -- 上蝙蝠岛
            for i = 10, tonumber(GetVariable("steps")) do  -- 复制上岛部分路径
                list = list..item(GetVariable("path"), i, ";")
                if i ~= j then
                    list = list..";"
                end
            end
            SetVariable("path", "dd bat;sd;sd;sd;sd;e;"..list)  -- 修正路径
            SetVariable("steps", tonumber(GetVariable("steps")) - 9 + 6)  -- 修正步数
        elseif GetVariable("area") == "by" and ismember("buyqiyue", GetVariable("path"), ";") &gt; 0 then  -- 上白云岛
            for i = 12, tonumber(GetVariable("steps")) do  -- 复制上岛部分路径
                list = list..item(GetVariable("path"), i, ";")
                if i ~= j then
                    list = list..";"
                end
            end
            SetVariable("path", "dd by;n;n;"..list)  -- 修正路径
            SetVariable("steps", tonumber(GetVariable("steps")) - 11 + 3)  -- 修正步数
        elseif GetVariable("area") == "dq3" and ismember("bp", GetVariable("path"), ";") &gt; 0 then  -- 上常春岛
            for i=8, tonumber(GetVariable("steps")) do  -- 复制上岛部分路径
                list = list..item(GetVariable("path"), i, ";")
                if i ~= j then
                    list = list..";"
                end
            end
            SetVariable("path", "dd cc;n;"..list)  -- 修正路径
            SetVariable("steps", tonumber(GetVariable("steps")) - 7 + 2)  -- 修正步数
        end
    end
    Send("s")
    DoAfterSpecial(1, "bl2", sendto.execute)  -- 执行
end</send>
  </alias>
  <alias
   match="sqh"
   enabled="y"
   group="area_sq"
   send_to="12"
   sequence="100"
  >
  <send>-- 三清宫回风云广场
bianli("pull door;s;s;s;s;s;s;climb down;climb down;sd;sd;sd;sd;ed;ed;s;s;s;s;s;s;s;s;s;s")</send>
  </alias>
  <alias
   match="ss"
   enabled="y"
   group="dir"
   send_to="10"
   sequence="100"
  >
  <send>#10 s</send>
  </alias>
  <alias
   match="ss_rd"
   enabled="y"
   group="area_ss"
   sequence="100"
  >
  <send>look pearl
southeast</send>
  </alias>
  <alias
   match="ss_yd"
   enabled="y"
   group="area_ss"
   sequence="100"
  >
  <send>search
up</send>
  </alias>
  <alias
   match="su"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>southup</send>
  </alias>
  <alias
   match="sv"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>swing vine</send>
  </alias>
  <alias
   match="sw"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>southwest</send>
  </alias>
  <alias
   match="sx"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 广场到山西灵堂
bianli("w;w;w;w;w;w;w;w;w;w;n;n;n;n;n;ne;n;e;n;n;n;n;n;n;ne;n;n;n;e;n;n;w;n;n")</send>
  </alias>
  <alias
   match="sxh"
   enabled="y"
   group="area_sx"
   send_to="12"
   sequence="100"
  >
  <send>-- 山西灵堂到风云天下
bianli(fan("w;w;w;w;w;w;w;w;w;w;n;n;n;n;n;ne;n;e;n;n;n;n;n;n;ne;n;n;n;e;n;n;w;n;n"))</send>
  </alias>
  <alias
   match="teachpet"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>-- 教宠物技能
local skill_list=GetVariable("skill_list")
local skill_num=tonumber(GetVariable("skill_num"))
for i=1,18 do
  Send("teach "..item(skill_list,skill_num,"|"))
end
Send("set tri teach")</send>
  </alias>
  <alias
   match="tjcx"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","西")

Execute("#12 s;climb tree")</send>
  </alias>
  <alias
   match="tjcx2"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云天下 - 沉香：杀人庄后门
bianli("s;s;s;s;s;s;s;s;s;w;w;sw;w;nw;n;w;w;sw;open door;w")

-- 到：莽林边缘 sw;su;sw;se;se;sw;se;s;e;e;e;e</send>
  </alias>
  <alias
   match="tjnh"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","南")

Execute("#12 s;climb tree")</send>
  </alias>
  <alias
   match="tjnh2"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>-- 取钱买船票去白云岛
SetVariable("manglin","南")

Execute("#5 s;e;withdraw 10000")
DoAfterSpecial(2,"w;#7 s;climb tree",sendto.execute)</send>
  </alias>
  <alias
   match="tjwm"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","东")

Execute("#12 s;climb tree")</send>
  </alias>
  <alias
   match="tpet"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>Execute("sk")
DoAfterSpecial(1, "a1 teachpet", sendto.execute)</send>
  </alias>
  <alias
   match="ts"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到泰山
bianli(GetVariable("area_ts"))
</send>
  </alias>
  <alias
   match="tsh"
   enabled="y"
   group="area_ts"
   send_to="12"
   sequence="100"
  >
  <send>-- 泰山回风云广场
bianli(fan(GetVariable("area_ts")))</send>
  </alias>
  <alias
   match="tss"
   enabled="y"
   group="area_ts"
   send_to="10"
   sequence="100"
  >
  <send>n;nu;u;u;u;u;u;u;nu;eu;u;u;u</send>
  </alias>
  <alias
   match="tssh"
   enabled="y"
   group="area_ts"
   send_to="10"
   sequence="100"
  >
  <send>d;d;d;wd;sd;d;d;d;d;d;d;sd;s</send>
  </alias>
  <alias
   match="tty *"
   enabled="y"
   expand_variables="y"
   group="skill_sq"
   send_to="12"
   sequence="100"
  >
  <send>-- 先关闭 location 触发，再执行天眼通
SetVariable("tty",1)
SetVariable("tty_result",1)
--EnableTriggerGroup("location",false)
Send("get 1 paper seal from @rq")
Send("scribe far-vision on paper seal")
Send("write %1 on far-vision sheet")
Send("burn sheet")
Send("set tri tty end")</send>
  </alias>
  <alias
   match="tv"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>turn vine</send>
  </alias>
  <alias
   match="tx"
   enabled="y"
   group="area_gw"
   send_to="12"
   sequence="100"
  >
  <send>--关外绿洲到铁雪山庄
bianli("w;w;w;w;w;w;w;w;w;w;w;w;n;n;n;n;pushaside grass;w;w;w;w;n;n;n")</send>
  </alias>
  <alias
   match="txh"
   enabled="y"
   group="area_gw"
   send_to="12"
   sequence="100"
  >
  <send>--铁雪山庄回关外山脚
bianli("s;s;s;s;e;e;e;e;s;s;s;s;e;e;e;e;e;e;e;e;e")</send>
  </alias>
  <alias
   match="ty"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>bianli("e;e;e;e;e;e;e;s;s;s;s;e;e;e;e;set tri around")</send>
  </alias>
  <alias
   match="tzguard"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>bianli("n;n;n;n;n;n;n;n;n;n;e;e;e;s;s;s;e;ne;ne;ne;n;ne;ne;n;n;n;n;n;n;n;n;n;n;nu;u;u;u;u;u;u;nu;eu;u;u;u;w;u;nu;nu;nu;n;en;e;ask tiansun about guard;um")</send>
  </alias>
  <alias
   match="u"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>up</send>
  </alias>
  <alias
   match="ua"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>unwield all</send>
  </alias>
  <alias
   match="um"
   enabled="y"
   group="general"
   send_to="12"
   sequence="100"
  >
  <send>if GetVariable("location") == "八术诛仙阵" and GetVariable("master") == "常胜将军" then
    Send("chu")
end
if GetVariable("area") == "fg" and ismember(GetVariable("mnpc_location"), "乱葬冈|荒坟", "|") &gt; 0 then
    Send("unset brief")
end
if GetVariable("class") ~= "wd" then
    Send("usemark")
else
    Send("usemark1")
end</send>
  </alias>
  <alias
   match="varlist"
   enabled="y"
   send_to="12"
   sequence="100"
  >
  <send>Note("-----变量值-----")
Note("连环八步:",math.floor(tonumber(GetVariable("pfm_lhbb2"))/tonumber(GetVariable("pfm_lhbb1"))*100),"%")
local var="askpill"
Note(var.." = "..GetVariable(var))
local var="setmark_location"
Note(var.." = "..GetVariable(var))
local var="pfm"
Note(var.." = "..GetVariable(var))
local var="drop_jadebox"
Note(var.." = "..GetVariable(var))
local var="ask_guard"
Note(var.." = "..GetVariable(var))
local var="tick"
Note(var.." = "..GetVariable(var))
local var="usedan"
Note(var.." = "..GetVariable(var))
Note("-----莽林-----")
local var="manglin"
Note(var.." = "..GetVariable(var))
local var="manglin_dir"
Note(var.." = "..GetVariable(var))
Note("-----任务-----")
local var="auto_mission"
Note(var.." = "..GetVariable(var))
local var="mission"
Note(var.." = "..GetVariable(var))
local var="mission_cancel"
Note(var.." = "..GetVariable(var))
local var="mission_retry"
Note(var.." = "..GetVariable(var))
local var="yangfan"
Note(var.." = "..GetVariable(var))
local var="mnpc_jiasi"
Note(var.." = "..GetVariable(var))
local var="mnpc_libie"
Note(var.." = "..GetVariable(var))
local var="mnpc_clzx"
Note(var.." = "..GetVariable(var))
Note("-----遍历-----")
local var="bianli"
Note(var.." = "..GetVariable(var))
local var="area"
Note(var.." = "..GetVariable(var))
local var="step"
Note(var.." = "..GetVariable(var))
local var="steps"
Note(var.." = "..GetVariable(var))
local var="find"
Note(var.." = "..GetVariable(var))
local var="stop"
Note(var.." = "..GetVariable(var))
local var="fight"
Note(var.." = "..GetVariable(var))
local var="flag"
Note(var.." = "..GetVariable(var))
</send>
  </alias>
  <alias
   match="w"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>west</send>
  </alias>
  <alias
   match="wa"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>wield all</send>
  </alias>
  <alias
   match="wd"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>westdown</send>
  </alias>
  <alias
   match="wdh"
   enabled="y"
   group="area_wd"
   send_to="12"
   sequence="100"
  >
  <send>-- 武当回风云广场
bianli("out;nd;nd;nd;nd;nd;n;n;n;n;n;n;n;n;n;w;w;w;w;w;w;w")</send>
  </alias>
  <alias
   match="wds"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到武当山
bianli("e;e;e;e;e;e;e;s;s;s;s;s;s;s;s;s;unwield all;su;su;su;su;su;enter")</send>
  </alias>
  <alias
   match="we"
   enabled="y"
   group="general"
   sequence="100"
  >
  <send>remove all
wear all</send>
  </alias>
  <alias
   match="wjbc"
   enabled="y"
   group="skill"
   send_to="12"
   sequence="100"
  >
  <send>-- 四照心法――无坚不摧
Send("exert conquering")</send>
  </alias>
  <alias
   match="wmcx"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","西")

Execute("#12 w;climb tree")</send>
  </alias>
  <alias
   match="wmnh"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","南")

Execute("#12 w;climb tree")</send>
  </alias>
  <alias
   match="wmtj"
   enabled="y"
   group="area_ml"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("manglin","北")

Execute("#12 w;climb tree")</send>
  </alias>
  <alias
   match="wu"
   enabled="y"
   group="dir"
   sequence="100"
  >
  <send>westup</send>
  </alias>
  <alias
   match="ww"
   enabled="y"
   group="dir"
   send_to="10"
   sequence="100"
  >
  <send>#10 w</send>
  </alias>
  <alias
   match="xg"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 天机广场到兴国大师
bianli("n;n;n;n;n;n;n;n;n;n;e;e;e;eu;eu;nu;n;n;n;touch mark;n;n;smile;smile;smile;smile;smile;n;n;e;push luowang;n;w;n")</send>
  </alias>
  <alias
   match="xgh"
   enabled="y"
   group="area_qf"
   send_to="12"
   sequence="100"
  >
  <send>-- 兴国大师回风云广场
bianli("s;w;push button;s;e;s;s;s;s;s;s;s;sd;wd;wd;w;w;w;s;s;s;s;s;s;s;s;s;s")</send>
  </alias>
  <alias
   match="xgs"
   enabled="y"
   group="area_fy"
   send_to="12"
   sequence="100"
  >
  <send>-- 风云广场到兴国山
bianli("n;n;n;n;n;n;n;n;n;n;e;e;e;eu;eu;nu;n;n;n")</send>
  </alias>
  <alias
   match="xgsh"
   enabled="y"
   group="area_qf"
   send_to="12"
   sequence="100"
  >
  <send>-- 兴国山回风云广场
bianli("s;s;s;sd;wd;wd;w;w;w;s;s;s;s;s;s;s;s;s;s")</send>
  </alias>
  <alias
   match="xj"
   enabled="y"
   group="area_gw"
   send_to="12"
   sequence="100"
  >
  <send>-- 关外山脚到新疆南宫钱庄
bianli("w;w;w;nw;nw;ne;nw;nw;nw;nw;wd;wu;wd;wu;nw;nw;w;w;n;n;nw")</send>
  </alias>
  <alias
   match="xjh"
   enabled="y"
   group="area_xj"
   send_to="12"
   sequence="100"
  >
  <send>-- 新疆南宫钱庄回关外山脚
bianli("se;s;s;e;e;se;se;ed;eu;ed;eu;se;se;se;se;sw;se;se")</send>
  </alias>
  <alias
   match="xl"
   enabled="y"
   group="general"
   send_to="10"
   sequence="100"
  >
  <send>s;s;s;s;e;pawn</send>
  </alias>
  <alias
   match="xlh"
   enabled="y"
   group="general"
   send_to="10"
   sequence="100"
  >
  <send>w;n;n;n;n</send>
  </alias>
  <alias
   match="xqz"
   enabled="y"
   group="area_xj"
   send_to="10"
   sequence="100"
  >
  <send>w;wd;wu;wd;wu;nw;nw;w;w;n;n;nw</send>
  </alias>
  <alias
   match="xs *"
   enabled="y"
   group="skill_xg"
   sequence="100"
  >
  <send>conjure heart sense on %1</send>
  </alias>
  <alias
   match="xy"
   enabled="y"
   group="area_ts"
   send_to="12"
   sequence="100"
  >
  <send>-- 泰山到侠义厅
bianli("nu;u;u;u;u;u;u;nu;eu;u;u;u;w;u;nu;nu;nu;n;enter")</send>
  </alias>
  <alias
   match="xyh"
   enabled="y"
   group="area_ts"
   send_to="12"
   sequence="100"
  >
  <send>-- 侠义厅回到泰山
bianli("out;s;sd;sd;sd;d;e;d;d;d;wd;sd;d;d;d;d;d;d;sd;s")</send>
  </alias>
  <alias
   match="xz"
   enabled="y"
   group="general"
   send_to="10"
   sequence="100"
  >
  <send>e;e;e;e;e;e;e;ne;n;n;ne;n;wu;jump</send>
  </alias>
  <alias
   match="ydj"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--边城中心到易大经
bianli("e;se;e;e;e;e;se;e;e;sw;w;sw;w;s")</send>
  </alias>
  <alias
   match="ydjh"
   enabled="y"
   group="area_bc"
   send_to="12"
   sequence="100"
  >
  <send>--易大经回边城中心
bianli(fan("e;se;e;e;e;e;se;e;e;sw;w;sw;w;s"))</send>
  </alias>
  <alias
   match="yjf"
   enabled="y"
   expand_variables="y"
   group="skill_sq"
   sequence="100"
  >
  <send>get 1 paper seal from @rq
scribe earth-warp on paper seal
burn earth-warp sheet</send>
  </alias>
  <alias
   match="yjj"
   enabled="y"
   group="skill"
   sequence="100"
  >
  <send>enable iron-cloth xisui
perform iron-cloth.yijinjue
enable iron-cloth yiqiforce</send>
  </alias>
  <alias
   match="yl"
   enabled="y"
   group="area_gw"
   send_to="12"
   sequence="100"
  >
  <send>-- 关外绿洲到幽灵山庄
bianli("w;w;w;w;w;w;w;w;w;w;w;w;s;s;s;s;su;get pipe from rock;blow pipe;e;accept test;tell ghost no face;e;e;se;ne;e;get meat;eat meat;drop meat")</send>
  </alias>
  <alias
   match="ylh"
   enabled="y"
   group="area_yl"
   send_to="12"
   sequence="100"
  >
  <send>-- 幽灵山庄回关外城门
bianli("s;sw;nw;w;w;sw;nw;w;w;w;nd;n;n;n;e;e;e;e;e;e;e;e;e")</send>
  </alias>
  <alias
   match="ys"
   enabled="y"
   group="skill_xg"
   sequence="100"
  >
  <send>conjure shade sense</send>
  </alias>
  <alias
   match="yy"
   enabled="y"
   group="skill_sq"
   sequence="100"
  >
  <send>cast astral-vision</send>
  </alias>
  <alias
   match="zbcs"
   enabled="y"
   group="skill_khl"
   sequence="100"
  >
  <send>exert zebeicangsheng</send>
  </alias>
</aliases>

<!-- timers -->

<timers
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >
  <timer name="revive" second="5.00" offset_second="0.00"    send_to="12"
group="Revive" >
  <send>local revive_num=tonumber(GetVariable("revive_num"))+1
SetVariable("revive_num",revive_num)
Note(revive_num)

if revive_num&lt;=3 then
  Send("whisper "..GetVariable("xg_id").." save "..GetVariable("player_id"))
else
  Execute("hp;g jiudai;drink jiudai;drop jiudai;drop cloth")
  DoAfterSpecial(3,"north;Return",sendto.execute)
  EnableTimer("revive",false)
end</send>

  </timer>
  <timer name="tribuli" enabled="y" second="1.00" offset_second="0.00"    send_to="12"
group="Tribuli" >
  <send>local tribuli_time = tonumber(GetVariable("tribuli_time")) + 1
SetVariable("tribuli_time", tribuli_time)
if tribuli_time &gt;= 18000 then
    SetVariable("tribuli_ask", 1)
    EnableTimer("tribuli", false)
end</send>

  </timer>
  <timer name="setmark" enabled="y" second="1.00" offset_second="0.00"    send_to="12"
group="SetMark" >
  <send>SetVariable("setmark_time",tonumber(GetVariable("setmark_time"))+1)</send>

  </timer>
  <timer enabled="y" second="1.00" offset_second="0.00"    send_to="12"
group="Refresh" >
  <send>local timer = tonumber(GetVariable("timer"))
SetVariable("timer", timer + 1)
if timer&gt;=900 then
  SetVariable("timer", 0)
end

-- 删除三清 ask immortal 的临时定时器
local sq_ask_guard=tonumber(GetVariable("sq_ask_guard"))
if sq_ask_guard==599 then
  SetVariable("ask_guard",tonumber(GetVariable("ask_guard"))+1)
elseif sq_ask_guard&gt;=600 then
  DeleteTimer("ask_guard")
end

--[[
if timer == 4400 then
  Execute("w;w")
  DoAfterSpecial(5,"get tea from bag;give tea to luo;get stone from bag;give stone to luo;e;e;i",sendto.execute)
end
--]]</send>

  </timer>
  <timer enabled="y" second="0.20" offset_second="0.00"    send_to="12"
group="Status Bar" >
  <send>--InfoClear()
--Info("时间:"..GetVariable("timer").." 丹:"..GetVariable("dan").."/"..GetVariable("dan_max").."  符:"..GetVariable("item_backseal").." 位置:"..GetVariable("location").."/"..GetVariable("mnpc_location").." "..GetVariable("step").."/"..GetVariable("steps").." 区域:"..GetVariable("area").."  目标:"..GetVariable("target_name").."(" .. GetVariable("target_id")..")".."/"..GetVariable("mnpc_name"))

Execute("Status")</send>

  </timer>
  <timer name="pfm" second="1.00" offset_second="0.00"    send_to="12"
group="Perform" >
  <send>Execute(GetVariable("pfm"))</send>

  </timer>
  <timer enabled="y" minute="1" second="0.00" offset_second="0.00"    send_to="12"
group="检测连接状态" active_closed="y" >
  <send>-- Note("检测连接状态...")
if GetInfo(227)~="8" then
  Connect()
end</send>

  </timer>
  <timer name="mtime" second="1.00" offset_second="0.00"    send_to="12"
group="Mission Time" >
  <send>local mtime=tonumber(GetVariable("mtime"))  -- 秒计时器
local retry=tonumber(GetVariable("mission_retry"))+1    -- 重试次数
if mtime&lt;tonumber(GetVariable("mtime_lmt"))*retry then  -- 当秒计时器小于上限继续累计
    SetVariable("mtime",mtime+1)
else    -- 当秒计时器大于上限中断计时，取消任务并返回
    if GetVariable("mission")=="1" then
        SetVariable("mission_totaltime",tonumber(GetVariable("mission_totaltime"))+tonumber(GetVariable("mtime")))  -- 记录任务总时间
        --EnableTimer("mtime",false)
        SetVariable("mtime",0)
        SetVariable("mission_cancel",1)
        SetVariable("mission_log",GetVariable("mission_log")..",到达:"..GetVariable("location"))
        Execute("Return")
    end
end</send>

  </timer>
  <timer name="topaz" second="1.00" offset_second="0.00"    send_to="12"
group="Topaz" active_closed="y" >
  <send>-- 挂砚台时时使用的计时器。
-- 当bag里有sheshi和tea时，auto_mission期间会自动到关外罗达成处交给
SetVariable("timer_topaz",tonumber(GetVariable("timer_topaz"))+1)
SetStatus("砚台时间:"..GetVariable("timer_topaz"))</send>

  </timer>
  <timer name="tty" second="6.00" offset_second="0.00"    send_to="12"
group="天眼通" >
  <send>local tty_num=tonumber(GetVariable("tty_num"))+1
SetVariable("tty_num",tty_num)
--Note(GetVariable("tty_num"))

if tty_num&lt;=3 then
  if GetVariable("mnpc_name")=="多儿甲" then
    Send("tell "..GetVariable("sq_id").." tty master lv")
  else
    Send("tell "..GetVariable("sq_id").." tty "..GetVariable("mnpc_id"))
  end
else
-- 天眼通超过3次，取消任务
  EnableTimer("tty",false)
  Execute("mc")
end</send>

  </timer>
  <timer name="idle" enabled="y" minute="1" second="0.00" offset_second="0.00"    send_to="12"
group="Idle" >
  <send>-- 防发呆计时，5分钟
if GetVariable("auto_mission")=="1" then
  local idle_time=tonumber(GetVariable("idle_time"))+1
  SetVariable("idle_time",idle_time)
  if idle_time&gt;=5 then
    Execute("Reset")
  end
end</send>

  </timer>
  <timer name="powerup" second="1.00" offset_second="0.00"    send_to="12"
group="Power Up" >
  <send>local shaqi=tonumber(GetVariable("hp_shaqi"))
local shaqi_max=tonumber(GetVariable("hp_shaqi_max"))
if shaqi&lt;shaqi_max-1000 then
    Execute("exert powerup;hp")
elseif shaqi&gt;shaqi_max then
    Execute("exert powerfade;hp")
else
    EnableTimer("powerup",false)
    Send("set tri 杀气处理完毕")
end</send>

  </timer>
  <timer name="bianli" enabled="y" minute="1" second="0.00" offset_second="0.00"    send_to="12"
group="Bian Li" >
  <send>local bianli = tonumber(GetVariable("bianli"))
local find = tonumber(GetVariable("find"))
local fight = tonumber(GetVariable("fight"))
local stop = tonumber(GetVariable("stop"))
local step = tonumber(GetVariable("step"))
local steps = tonumber(GetVariable("steps"))
local path = GetVariable("path")

-- 遍历状态
if bianli==1 and find==0 and fight==0 and stop==0 then
  Execute("bianli")

--[[ 战斗状态，dwg技能切换到剑舞后杀不死mnpc，重新切换到主力pfm
elseif GetVariable("fight")=="1" and GetVariable("pfm")~=GetVariable("mypfm") then
  SetVariable("pfm",GetVariable("mypfm"))
]]--

-- 任务状态
elseif GetVariable("auto_mission")=="1" then
  Execute(GetVariable("tick"))

-- 发呆状态
else
  Send("hp")
end</send>

  </timer>
</timers>

<!-- macros -->

<macros
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >

  <macro name="up" type="send_now" >
  <send>up</send>

  </macro>

  <macro name="down" type="send_now" >
  <send>down</send>

  </macro>

  <macro name="north" type="send_now" >
  <send>north</send>

  </macro>

  <macro name="south" type="send_now" >
  <send>south</send>

  </macro>

  <macro name="east" type="send_now" >
  <send>east</send>

  </macro>

  <macro name="west" type="send_now" >
  <send>west</send>

  </macro>

  <macro name="examine" type="replace" >
  <send>examine </send>

  </macro>

  <macro name="look" type="replace" >
  <send>look </send>

  </macro>

  <macro name="page" type="replace" >
  <send>page </send>

  </macro>

  <macro name="say" type="replace" >
  <send>say </send>

  </macro>

  <macro name="whisper" type="replace" >
  <send>whisper </send>

  </macro>

  <macro name="doing" type="send_now" >
  <send>DOING</send>

  </macro>

  <macro name="who" type="send_now" >
  <send>WHO</send>

  </macro>

  <macro name="drop" type="replace" >
  <send>drop </send>

  </macro>

  <macro name="take" type="replace" >
  <send>take </send>

  </macro>

  <macro name="logout" type="send_now" >
  <send>LOGOUT</send>

  </macro>

  <macro name="quit" type="send_now" >
  <send>QUIT</send>

  </macro>
</macros>

<!-- variables -->

<variables
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >
  <variable name="acupoint_time">100</variable>
  <variable name="area">dq1</variable>
  <variable name="area_bat">e;e;e;e;e;e;e;e;eu;eu;eu;e;eu;sd;ed;n</variable>
  <variable name="area_bat_1">e;e;e;e;e;dash bush;e;ask master chu about bat island;gdf;w;nu;nu;nu;nu;sd;sd;sd;sd;e;e;dash huache;open rightdoor;w;s;n;n;s;w;w;w;w;e;e;u;e;e;e;e;s;u;u;u;u;say 我来过，活过，爱过！;e</variable>
  <variable name="area_bat_2">山中小路|平原路|海边路1|海边路|灌木林|无名的空地|靠在海边的船|海边|人间地狱|空地|人间道1|人间道2|人间道|孤峰绝顶|人间道|人间道|人间道|空地|人间地狱|洞口|洞底|销魂窝|走廊|书房|走廊|丹房|走廊|黑暗走廊|大厅|储藏室|练武场|储藏室|大厅|琴室|棋室|书室|画室|有凤来仪|密室|天梯1|天梯2|天梯|天梯尽头|海岸边1|海岸边</variable>
  <variable name="area_bc">w;w;w;nw;nw;ne;nw;nw;nw;nw;wd;wu;wd;wu;nw;nw;w;w;n;n;nw;ne;n;n;n</variable>
  <variable name="area_bc_1">wade;nw;n;w;e;n;w;e;n;w;e;n;e;se;e;n;s;e;n;s;e;e;se;sw;ne;e;e;sw;w;sw;w;s;n;e;se;s;s;se;nw;n;n;nw;ne;e;ne;w;w;nw;w;w;w;w;nw;w;w;n;n;s;s;s;n;w;n;s;s;n;w;s;s;en;o;n;n;sw;w;e;s;w;e;s;w;e;s;w;s;n;e;n;n;n;ne;w;nw;w;e;se;e;e;e;e;n;n;w;e;n;w;e;n;n;n;n;n;en;n;w;n;s;e;n;e;e;n;s;e;n;s;e;w;w;w;w;n;n;w;e;e;w;n;w;u;n;s;e;e;w;w;d;e;s;s;s;s;s;o;se;e;s;n;n;n;nu;sd;s;e;pushaside grass;e</variable>
  <variable name="area_bc_2">河滩|南街尽头|南街1|杂货铺|南街2|南街3|棉花行|南街4|南街5|面馆|南街|街心|边城东门|草原1|草原2|直共寺|草原3|草原4|蚌普寺|草原5|草原6|草原|高原|帐篷|高原|昆仑山区|玉龙峰|荒原1|荒原|白杨树林|林间|林间小屋|林间|白杨树林|密林1|密林2|密林|龙虎寨|密林|密林|密林|白杨树林|荒原|荒原|玉龙峰|昆仑山区|高原|草原|草原|草原|草原|草原|边城东门|街心|西街0|绸缎庄|绸缎庄后房|绸缎庄|西街1|恩德元|西街2|西街3|小饭馆|西街4|肉铺|西街5|小镇中心|销金窟|小院|闺房|小院|销金窟|小镇中心|小巷1|小木屋|小巷2|小巷3|木屋|小巷4|小巷5|木屋|小巷|小巷尽头|小木屋|厨房|小木屋|小巷尽头|小巷|小巷|小巷|小镇中心|西街|关帝庙|坟场|关帝庙|西街|小镇中心|西街|西街|街心|北街1|北街2|一品香|北街3|北街4|魁星阁|北街|北街尽头|大道1|大道2|大道|万马堂堂口|前院|院子|南马房|马厩|南马房|院子|前厅|偏厅|走廊|客房|走廊|长廊|客房|长廊|卧房|长廊|走廊|偏厅|前厅|万马堂大厅1|万马堂大厅|万马堂左厅|万马堂大厅|万马堂右厅|万马堂大厅|大厅尽头|后偏厅|楼道|偏房|楼道|书斋|卧房|书斋|楼道|后偏厅|大厅尽头|万马堂大厅|万马堂大厅|前厅|院子|前院|万马堂堂口|大草原|草场0|了望台|草场1|草场2|草场|山坡|草场|草场|草场深处|地室|黑室</variable>
  <variable name="area_bw">e;e;e;e;e;e;e;s;s;s;s;s;s;s;se</variable>
  <variable name="area_bw_1">se;su;su;su;su;nd;sw;noop;u;u;u;u;u;uptime;en;su;eu</variable>
  <variable name="area_bw_2">山下小径|泥土小径|饿虎岗正门|饿虎岗山路|饿虎寨|饿虎岗山路|断塔下|断塔底层|断塔二层|断塔三层|断塔四层|断塔五层|断塔顶|断墙边|暗道1|暗道|聚义厅</variable>
  <variable name="area_by_1">su;s;s;w;e;e;w;s;e;w;s;w;w;e;e;e;e;w;w;n;buyqiyue;w;s;e;e;give qiyue to old fox;sailsouth;e;w;s;s;sw;sw;su;sw;su;su;se;nw;nd;nd;ne;nd;ne;ne;se;e;e;w;w;su;se;wd;eu;su;sw;su;en;s;w;e;e;w;s;s;s;s;s;s;s</variable>
  <variable name="area_by_2">林中小路|平原路|南海大道1|狐狸窝|南海大道2|狐记当铺|南海大道3|南海大道4|船行|南海大道|海岸|沙滩1|沙滩|沙滩|海岸|沙滩|南海码头|x|x|x|x|x|x|x|x|木筏上|白云渡|码头|白云渡|碧海黄沙|白云岛入口|花径1|花径|雨花阁|飞仙亭|龙台|雁翅楼|堆秀山|雁翅楼|龙台|飞仙亭|雨花阁|花径|花径|白云岛入口|排浪崖|怒海石梁|怒礁|怒海石梁|排浪崖|惊涛亭|剑林|潜龙泉|剑林|挂剑碑|山行道1|山行道|白云城|天街|斩蟒台|天街|紫气东来楼|天街|武门|月阙殿|接天楼|甬道1|甬道2|甬道|白云观</variable>
  <variable name="area_cx_1">w;s;n;w;n;n;n;go east;go west;n;w;e;s;s;s;s;w;w;w;e;n;nw;w;w;e;e;ne;nw;w;e;nw;ne;nd;n;s;su;sw;se;se;sw;se;s;s;s;w;n;s;w;n;s;s;n;w;n;s;s;n;w;e;e;e;e;s;w;e;e;w;s;w;w;w;s;n;e;e;e;s;u;d;w;e;e;w;s;w;e;e;w;s;w;e;e;e;d;u;w;w;s;s;n;n;n;n;n;e;e</variable>
  <variable name="area_cx_2">老镇东首|胡家当铺|老镇东首|老城东街1|风云道|风云客栈|风云堂|石室|风云堂|紫藤花苑|听风阁|紫藤花苑|风云堂|风云客栈|风云道|老城东街0|老城东街|老城广场|沉香南宫|老城广场|老石桥|老北街|华佗药店|药店内间|华佗药店|老北街|沉香城老石桥|沉香城旧街|小面馆|沉香城旧街|沉香城北门|绿山坡|荒野1|荒野|荒野|绿山坡|沉香城北门|沉香城旧街|沉香城老石桥|老北街|老石桥|老城广场|沉香城南街|沉香台|沉香城西街|农具店|沉香城西街|西巷|北城厢|西巷|南城厢|西巷|背阴西路|丐帮分舵|背阴西路|田记杂货|背阴西路|小西湖|背阴西路|西巷|沉香城西街|沉香台|沉香城南路|城隍庙|沉香城南路|菜根香|沉香城南路|玄武门|玄武门西|阴暗小路1|阴暗小路2|阴暗小路|阴暗小路|阴暗小路|玄武门西|玄武门|旗场|旗杆顶|旗场|衙门|旗场|法场|旗场|外南路|牡丹屋|外南路|俗人居|外南路|紫竹林|净水阁|紫竹林|卧龙馆|卧龙馆内院|枯井底|卧龙馆内院|卧龙馆|紫竹林|沉香城南门|乡间小路|沉香城南门|紫竹林|外南路|旗场|玄武门|玄武门东|风云道</variable>
  <variable name="area_cxn">w;w;w;w;s;s;s;s;s;s;s;s;s</variable>
  <variable name="area_cxn_1">s;cbs;cbe;cbs;cbw;cbw;cbs;cbs;cbw</variable>
  <variable name="area_df">w;w;w;w;w;w;w;w;w;w;w;w;w;w</variable>
  <variable name="area_df_1">s;dash;dash;noop;w;s;s;nw;se;sw;ne;ne;sw;se;nw;s;noop;su;sd;s;d;d;d;d;d;d;d;d;d;d;d;d;d;d;d;d;d;d;d;s;s;s</variable>
  <variable name="area_df_2">焦都驿|储藏室|焦都驿|奈何桥|鬼门关|冥府大道1|冥府大道|冥府忠司|冥府大道|冥府节司|冥府大道|冥府孝司|冥府大道|冥府义司|冥府大道|阎罗殿|地藏殿|背阴山|山道|地狱门|吊筋狱|幽枉狱|火坑狱|酆都狱|拔舌狱|剥皮狱|磨捱狱|椎捣狱|车崩狱|寒冰狱|脱壳狱|抽肠狱|油锅狱|黑暗狱|刀山狱|血池狱|阿鼻狱|秤杆狱|枉死城|平安道|奈河桥|孟婆驿</variable>
  <variable name="area_dm">n;n;n;n;n;n;n;n;n;n;e;e;e;s;s;s;e;ne;ne;ne;n;ne</variable>
  <variable name="area_dm_1">ne;n;n;w;e;e;w;n;w;e;e;w;n;w;e;e;w;n;w;e;e;w;n;n;w;e;e;w;n;ct;dt;n;w;e;e;w</variable>
  <variable name="area_dm_2">遥参亭|岱庙坊|正阳门|坤角楼|正阳门|乾角楼|正阳门|配天门|雨花道院|配天门|汉柏院|配天门|仁安门|出巡阁|仁安门|东御座|仁安门|正院|西碑廊|正院|东碑廊|正院|天贶殿|后寝宫|配寝殿|后寝宫|配寝殿|后寝宫|铜亭铁塔|亭顶|铜亭铁塔|厚载门|坎角楼|厚载门|哏角楼|厚载门</variable>
  <variable name="area_dmb">w;w;w;w;n;nw;ne;nw;nw;ne;nd;n;nw</variable>
  <variable name="area_dmb_1">n;n;e;n;w;w;e;e;nw;w;n;n;n;n;ask wurong about master guanyin;nu</variable>
  <variable name="area_dmb_2">石峰边缘|石峰群|石峰入口|小路1|小路|石峰深处1|小路|小路|石峰深处|石峰狭道|迷漫的黄沙中|花香中|山谷口|花海|巨大的镜子|精致卧房</variable>
  <variable name="area_dmcs1">w;w;w;w;w;w;w;w;w;w;w</variable>
  <variable name="area_dmcs1_1">w;nw;sw;se;ne;w;w;w;w;n;s;w;w;w</variable>
  <variable name="area_dmcs1_2">荒野1|荒野2|荒野3|荒野4|荒野5|荒野6|荒野|沙砾小径|塞Z|珠宝店|塞口|破旧长城|塞外风光1|塞外风光</variable>
  <variable name="area_dmcs2">w;w;w;w;n;nw;ne;nw;nw;ne;nd;n;nw;w;w</variable>
  <variable name="area_dmcs2_1">w;w;w;w;w;w;s;cd</variable>
  <variable name="area_dmcs2_2">绿洲|大漠风沙1|大漠风沙2|山脚|山路1|山路|绝崖|死谷</variable>
  <variable name="area_dmcs3">w;w;w;w;n;nw;ne;nw;nw;ne;nd;n</variable>
  <variable name="area_dmcs3_1">nw;w;w;w;w;w;e;e;e;s;e;e;e</variable>
  <variable name="area_dq1">e;e;e;e;e;e;e;e;eu;eu;eu;e;eu</variable>
  <variable name="area_dq1_1">sd;ed;n;w;w;wd;w;w;n;w;wd;wd;wd;s;e;w;n;ayb;mag;center;blue;center;green;center;yellow;center;cyan;center;red;center;orange;center;black;n;set tri swim</variable>
  <variable name="area_dq1_2">山谷口1|谷内小径|小路|危崖前|山隙中1|山隙中|洞口|山谷口|谷中|桥上|精舍前|小径|大堂|藏宝室|雅室|藏宝室|大堂|石室|紫室|石室|蓝室|石室|绿室|石室|黄室|石室|青室|石室|红室|石室|橙室|石室|石道|方舟外|方舟</variable>
  <variable name="area_dq2">n;n;n;n;n;n;n;n;n;n;e;e;e</variable>
  <variable name="area_dq2_1">e;eu;eu;nu;w;go south;d;wd;wd</variable>
  <variable name="area_dq2_2">小路|山中小路|山坳|茅屋外|茅屋内1|茅屋内|地道1|地道2|地道</variable>
  <variable name="area_dq3">e;e;e;e;e;e;e;e;eu;eu;eu;e;eu;sd;ed;n</variable>
  <variable name="area_dq3_1">e;e;e;e;s;s;bp;s;e;w;n;n;s;e;noop;eu;eu</variable>
  <variable name="area_dq3_2">山中小路|平原路|海边路1|海边路|碧蓝海边1|碧蓝海边|常春岛渡口|礁石1|礁石|礁石|常春岛渡口|留云馆|常春岛渡口|小路|平台|长阶|观月顶</variable>
  <variable name="area_dwg">e;e;e;e;e;e</variable>
  <variable name="area_dwg_1">e;e;eu;eu;eu;e;eu;wd;w;wd;ne;e;e;n;s;s;s;s;e;w;s;s;e;e;s;n;e;e;e;e;n;s;s;n;d;e;e;e;e;n;s;s;n;e;e;s;s;n;e;e;e;s;s;n;n;w;w;s;s;w;w;w;w;s;s;n;n;e;e;e;e;n;n;w;n;w;w;w;w;w;w;u;w;w;w;w;w;w;n;e;e;dwg_dive;w;s;n;e;e;eu;climb up;en;en</variable>
  <variable name="area_dwg_2">赤峰路|迷茫风雨路1|迷茫风雨路|云海孤舟|日朝园|翠障|仙人洞|翠障|日朝园|云海孤舟|山谷口|独木危桥|岔路口1|白石道路|岔路口2|黑石道路1|黑石道路|石像林|草坪|石像林|奈何桥|鬼域|风穴|岔路口|火窟|岔路口|石洞|洞口|刀山|坑道边|危崖|坑道边|灌木|坑道边|坑底|秘道1|秘道|秘道口|花园|花园|花园|花园|花园|花园|谷地|精舍前|楼殿前|精舍前|翠竹林1|精舍|书房|菊花园|轩堂|菊花园|书房|精舍|翠竹林2|翠竹林3|翠竹林|石路1|石路|流泉|山阁|大厅|大殿|大厅|山阁|流泉|石路1|石路|翠竹林|翠竹林|翠竹林|精舍前|谷地|花园|花园|秘道口|秘道|秘道|坑底|坑道边|刀山|洞口|石洞|岔路口|风穴|鬼域|奈何桥|溪边|小湖|湖底|湖底|神水宫分舵|湖底|湖底|湖底|崖底|白石|洞穴口|洞穴</variable>
  <variable name="area_dxc">n;n;n;n;n;n;n;w;l grass</variable>
  <variable name="area_dxc_1">stamp grass;s;s;w;w;w;s;s;s;s;s;n;n;e;e;n;n;s;s;s;n;w;w;n;n;n;e;e;e;s;n;e;e;e;s;s;s;w;e;se;nw;s;s;s;w;w;w;w;w;w;e;e;e;n;n;n;e;w;n;n</variable>
  <variable name="area_dxc_2">黄土甬道|小土洞|天外天|天西北道|西北门|西北角|北天西门|北天西路|天中道西|南天西路|水牢|南天西路|天中道西|中道西门|西中道|大食堂|小仓房|大食堂|西中道|紫电青霜阁|西中道|中道西门|天中道西|北天西路|北天西门|西北角|西北门|天西北道|天外天|火牢|天外天|天东北道|东北门|东北角|北天东门|北天东路|天中道东|金牢|天中道东|木牢|天中道东|南天东路|南天东门|东南角|天东南道|东南门|青石中路|西南门|天西南道|西南角|天西南道|西南门|青石中路|天南中路|天南中门|天庭|东中道|天庭|天北中门|土牢</variable>
  <variable name="area_dz">w;w;w;w;w</variable>
  <variable name="area_dz_1">w;w;w;w;n;s;s;n;w;w;w;u;d;w;w;w;n;e;w;s;w;n;s;s;n;w;e;e;e;e;n;n;e;w;w;w;w;w;s;s;s;s;s;e;e;e;e;n;e;w;s;w;w;w;s;w;w;e;su;nd;e;s;sw;sw;ct;dt;sw;sw;ne;ne;ne;se;e;se</variable>
  <variable name="area_dz_2">草原1|草原2|草原3|草原4|黑羽之帐|草原5|红羽之帐|草原6|死颈|草原|城门|塔顶|城门|八角街1|大昭寺|寺院|穹形石窟|木屋|穹形石窟|寺院|宝塔|寺院|宝塔|寺院|宝塔|禅房|宝塔|寺院|大昭寺|八角街2|八角街3|八角街4|鹰记商号|八角街5|八角街6|八角街7|八角街8|八角街9|八角街10|八角街11|八角街12|八角街13|八角街14|八角街15|八角街16|八角街17|八角街18|八角街|迎梅客栈|八角街|八角街|八角街|八角街|八角街|石场|石山|石屋|石山|石庙|石山|石场|鸟道1|鸟道2|光阴树|鸟屋|光阴树|鸟道|圣母峰山脚|鸟道|光阴树|鸟道|茶马古道1|茶马古道|怒江</variable>
  <variable name="area_fg">w;w;w;w;w;w;w;w</variable>
  <variable name="area_fg_1">w;w;w;e;n;n;n;n;n;ne;n;e;n;n;w;e;e;ct;dt;ne;se;s;s;se;nw;sw;se;nw;ne;n;n;nw;sw;w;n;w;w;e;e;e;w;n;w;e;e;w;n;w;u;d;e;e;w;n;w;nw;nw;sw;nw;sw;nw;se;ne;se;ne;se;se;e;nu;wu;nu;nu;wu;nu;ne;nu;nu;en;n;w;w;w;e;n;s;s;n;e;e;e;e;w;w;n;ne;w;w;e;e;n;w;n;s;w;e;e;s;sw;nw;w;nw;n;n;ne</variable>
  <variable name="area_fg_2">废旧驿道|废旧驿道|废旧驿道|废旧驿道|废旧驿道|废旧驿道|废旧驿道|废旧驿道|废旧驿道|青石路1|青石路2|青石路3|青石路|青石小街0|吉祥钱庄|青石小街00|青石巷1|楠木树上|青石巷2|青石巷3|青石巷4|青石巷|金府大门|桃林|金府大门|金风玉露园|金府内宅|金风玉露园|金府大门|青石巷|青石巷|青石巷|青石巷|青石小街1|青石小街2|麦老广烧腊店|内室|麦老广烧腊店|青石小街3|利源当铺|青石小街4|青石小街5|杂货铺|青石小街6|奎元馆|青石小街7|青石小街8|如意客栈|客栈睡房|如意客栈|青石小街9|民居|青石小街|山道口|山间小路1|山间小路2|山间小路3|山间小路4|山间小路5|山间小路|破菩萨庙|山间小路|山间小路|山间小路|山间小路|山间小路|山间小路|山道Z|白玉山路1|白玉山路2|白玉山路|山道1|山道2|山道3|山道4|山道|富贵山庄大门|碎石小路|富贵如意厅|碎石小路|有竹无肉轩|翠竹园|有竹无肉轩|翠竹园|有竹无肉轩|翠竹园|有竹无肉轩|碎石小路|富贵如意厅|碎石小路|梨园|碎石小路|富贵如意厅|碎石小路|芳草坪|芳草坪|芳草坪|芳草坪|芳草坪|燕子坞|白梅园|柴房|白梅园|卧室|白梅园|燕子坞|芳草坪|碎石小路|芳草坪|松林1|松林|松林尽头|山路|洞口</variable>
  <variable name="area_fy_1">n;w;e;e;u;e;w;d;w;n;w;e;e;w;n;w;w;n;w;w;e;e;s;e;e;e;e;n;e;e;w;w;s;w;w;n;w;e;e;n;s;s;n;e;n;go down;go up;s;e;n;s;s;n;e;w;w;w;w;n;w;e;e;w;n;s;s;s;s;s;s;e;n;n;n;s;s;s;s;n;e;n;s;s;n;e;n;s;s;n;e;n;s;s;n;e;e;w;w;w;w;w;w;w;n;s;s;n;w;s;n;w;n;s;s;n;w;n;s;s;n;w;n;s;s;n;w;e;e;e;e;e;e;s;w;e;e;w;s;e;n;s;w;s;e;u;d;w;s;w;e;e;w;s;w;n;s;e;e;w;s;s;s;s;eu;wd;n;n;n;n;n;n;n;w;w;s;s;n;n;n;e;w;n;s;w;wd</variable>
  <variable name="area_fy_2">广场北|警世书局|广场北|风云阁|风云雅阁|风云书房|风云雅阁|风云阁|广场北|北风街|倾城胭脂店|北风街|飘香花店|北风街|北风大街|浸龙堂|浸龙走廊1|浸龙走廊2|浸龙走廊|浸龙浴池|浸龙走廊|浸龙走廊|浸龙走廊|浸龙堂|北风大街|浣凰堂|浣凰长廊1|浣凰长廊2|浣凰长廊|枫叶泉|浣凰长廊|浣凰长廊|浣凰长廊|浣凰堂|北风大街|北风街北|镇风兵器铺|北风街北|金狮镖局大院|镖局货仓|金狮镖局大院|镖局厨房|金狮镖局大院|金狮镖局大厅|镖局账房|地下密室|镖局账房|金狮镖局大厅|镖局内院|镖局厢房|镖局内院|镖局厢房|镖局内院|镖局厢房|镖局内院|金狮镖局大厅|金狮镖局大院|北风街北|北门南|薛记老号|北门南|城隍古庙|北门南|风云北城门|北门南|北风街北|北风大街|北风街|广场北|风云天下|广场东|阴暗石巷|石巷尽头|堂屋|石巷尽头|阴暗石巷|广场东|鸳鸯亭|广场东|东云路|风云布铺|东云路|祭剑亭|东云路|东云大路|张家铁铺|东云大路|私塾学堂|东云大路|东云路东|棉花坊|东云路东|洗礼池|东云路东|东门西|风云东城门|东门西|东云路东|东云大路|东云路|广场东|风云天下|广场西|探花诗台|广场西|考场|广场西|西云路|长乐坊|西云路|西云大路|红屋|西云大路|土嫖馆|西云大路|西云路西|阿发木器店|西云路西|安生棺材店|西云路西|西门东|屠记肉铺|西门东|醉生小馆|西门东|风云西城门|西门东|西云路西|西云大路|西云路|广场西|风云天下|广场南|玉龙珠宝店|广场南|凤求凰客栈|广场南|南风街|天主教堂|忏悔间|天主教堂|南风街|南风大街|一品居|一品居二楼|一品居|南风大街|南风街南|千金楼外|南风街南|千银当铺|南风街南|南门北|普生堂|养生舍|普生堂|南门北|南宫钱庄|南门北|风云南城门|风云南|南北大道|小山坡西面|小山坡顶|小山坡西面|南北大道|风云南|风云南城门|南门北|南风街南|南风大街|南风街|金钱帮大院|会客厅|黄衣室1|帮主堂|黄衣室2|会客厅|黄衣室|恩怨堂|黄衣室|化尸堂|黄衣室|赏罚堂|水牢</variable>
  <variable name="area_fycq_1">n;n;n;n;n;n;u;e;e;s;s;s;s;w;w;w;w;n;n;n;n;e</variable>
  <variable name="area_fycq_2">广场北|北风街|北风大街|北风街北|北门南|风云北城门|北城门楼|北城墙1|东北角楼|东城墙1|东城门楼|东城墙|东南角楼|南城墙1|南城门楼|南城墙|西南角楼|西城墙1|西城门楼|西城墙|西北角楼|北城墙</variable>
  <variable name="area_fyzb_1">n;n;n;n;n;n;n;e;e;n;se;nw;e;ne;n;n;n;s;s;s;sw;w;w;n;w;e;n;s;s;w;s;u;en;o;d;n;n;n;s;s;e;e;s;w;w;w;n;n;n;s;s;s;sw;n;s;sw;s;s;se;se;e;e;ne;ne;e;n;nw</variable>
  <variable name="area_fyzb_2">广场北|北风街|北风大街|北风街北|北门南|风云北城门|风云城北|城北小路|无名小镇南|石板路1|老张记面摊|石板路2|石板路3|梅林竹溪|小树林|树林尽头|小木屋|树林尽头|小树林|梅林竹溪|石板路4|石板路5|石板路6|小院|茅舍|小院|内室|小院|石板路7|石板路|悦来客栈|走廊|麒麟阁|走廊|悦来客栈|石板路|暗巷|暗巷尽头|暗巷|石板路|石板路|石板路|无名小镇南|城北小路|风云城北|城北小路|竹林1|竹林2|竹林|竹林|竹林|竹林|茶亭南|茶亭|茶亭南|城西小路1|风云西|城西小路2|城西小路|城南小路1|风云南|城南小路2|城南小路3|城南小路|风云东|赤峰路|城东小道</variable>
  <variable name="area_hgs">s;s;s;s;s;s;s;s;s;eu;ed;e;e;ne;ne</variable>
  <variable name="area_hgs_1">w;n;s;wu;nu;sd;wu;n;s;sw;ne;wd;s;wu;ed;n;n;nw;nu;nw;nd;cu;s;s;n;n;cd;su;se;sd;se;s;sw;s;n;wd;w;e;eu;ne;wu;n;nu;sd;wu;nw;ne;w;e;nu;wd;s;se;sw;se;nw;u;u;d;d;w;wd;s;n;sw;ne;n;n;s;nw;se;w;w;nw;se;sw;w;nu;sd;w;e;s;s;ct;dt;s</variable>
  <variable name="area_hgs_2">石雕门坊|小酒肆|石雕门坊|温泉|观瀑亭|温泉|桃花峰|慈光阁|桃花峰|桃源亭|桃花峰|青鸾桥|人字瀑|黄山茶园|人字瀑|青鸾桥|百丈泉|山路|九龙瀑|苦竹林|苦竹溪|黄山剑庐|铁索|轩辕峰|铁索|黄山剑庐|苦竹溪|苦竹林|九龙瀑|山路|百丈泉|青鸾桥|醉石|试剑石|醉石|三叠泉|鸣弦泉|三叠泉|醉石|青鸾桥|山路|山路|小寺庙|山路|观音石|探海松|鲫鱼背|二仙祠|鲫鱼背|天都峰|一线天|文殊院|迎客松|玉屏峰下|莲蕊峰|玉屏峰下|玉屏楼一楼|玉屏楼二楼|玉屏楼一楼|玉屏峰下|莲花峰|光明顶|飞来石|光明顶|排云亭|光明顶|散花坞|梦笔生花|散花坞|石笋杠|散花坞|狮子峰|清凉台|飞龙峰|清凉台|叠嶂峰|石阶|采石峰|石阶|翡翠池|石阶|松谷庵|小院|大松树|小院|庵堂</variable>
  <variable name="area_hs">w;w;w;w;n;nw;ne;nw;nw;ne;nd</variable>
  <variable name="area_hs_1">nw;w;w;s;s;s;su;eu;wd;wu;n;s;wu;nw;n;s;se;wu;se;e;e;w;w;su;nd;sw;se;sw;e;ne;sw;su;su;eu;nu;sd;su;nd;ed;eu;dash;ne;sw;dash;se;cu;cd;se;s;n;nw;sd;sw;wu;n;s;wd;nw;wu;se;nw;nd;su;sw</variable>
  <variable name="area_hs_2">荒野1|荒野2|荒野|黄土路|山门|小径|竹峪|紫薇洞|竹峪|菖蒲池|古栈道|菖蒲池|玉泉院|青砖甬道|玉泉池|青砖甬道|玉泉院|五里关|莎萝坪|华山别院|正堂|华山别院|莎萝坪|毛女洞|莎萝坪|十八盘1|十八盘2|十八盘|青柯坪|雪花洞|青柯坪|心石|千尺幢|苍龙岭|云台峰|苍龙岭|玉女峰|苍龙岭|山间小道1|山间小道|银杏溪边|幽谷|银杏溪边|山间小道|朝阳峰|朝阳峰巅|朝阳峰|鹞子翻身|棋盘台|鹞子翻身|朝阳峰|紫气台|山路1|雁落峰|仰天池|雁落峰|断崖|山路|莲花峰|镇岳宫|莲花峰|斧劈石|莲花峰|舍身崖</variable>
  <variable name="area_hsl">e;e;e;e;e;e;e</variable>
  <variable name="area_hsl_1">ne;n;n;ne;ne;w;wu;ed;e;n;s;s;n;sw;sw;n;go north;u;e;u;e;e;u;n;s;e;w;w;climb wall;e;n;s;s;n;eu;n;s;s;n;ed;s;n;e;w;wu;wd;e;pull rope;n;e;e;e;n;s;w;w;w;n;e;n</variable>
  <variable name="area_hsl_2">乡间小路1|乡间小路|三叉路口|青石小路|刘家小房|翠绿的小草坪|屋后温泉|翠绿的小草坪|刘家小房|花园|刘家小房|厨房|刘家小房|青石小路|三叉路口|山脚乡田|黑松山脚|黑松山|黑松山腰|黑松山顶|铁索桥|花岗石街|黑松淳于|夹道|黑松淳于|黑松城堡的东侧|黑松淳于|黑松城堡的西侧|西花园|黑松阁西厅|北花园|黑松阁西厅|储藏室|黑松阁西厅|卧室|阳台|卧室|膳房|卧室|黑松阁东厅|南花园|黑松阁东厅|东花园|黑松阁东厅|卧室|黑松阁西厅|黑松阁正厅|地牢|地牢|地牢|地牢|刑房|刑房|刑房|地牢|地牢|地牢|地牢|刑房|地牢</variable>
  <variable name="area_island">e;e;e;e;e;e;e;e;eu;eu;eu;e;eu;sd;ed;n</variable>
  <variable name="area_island_1">e;e;e;e;s;s;bp</variable>
  <variable name="area_island_2">山中小路|平原路|海边路1|海边路|碧蓝海边1|碧蓝海边|天外天</variable>
  <variable name="area_jn">n;n;n;n;n;n;n;n;n;n;e;e;e</variable>
  <variable name="area_jn_1">s;s;s;w;n;s;e;e;ne;ne;ne;n;ne;sw;s;sw;sw;sw;w;su;sd;e;w;s;se;nw;s;w;e;s</variable>
  <variable name="area_jn_2">济南城口|济南大街|观川亭|舜耕山庄|丐帮私房|舜耕山庄|观川亭|大明湖|斜阳道|斜阳道|青石路|斜阳道|碑林|斜阳道|青石路|斜阳道|斜阳道|大明湖|观川亭|舞雩台|问礼碑|趵突泉|问礼碑|趵突桥|大牢外|趵突桥|风云衙门|西厢房|风云衙门|知府书房</variable>
  <variable name="area_khl1_1">n;ne;nw;nw;wade 沙流</variable>
  <variable name="area_khl1_2">沙岭|海市蜃楼|玉门关|孔雀河|沙流</variable>
  <variable name="area_khl2_1">n;n;w;e;e;w;n;n;s;s;s;s;w;w;s;n;w;w;e;e;e;e;s;s;w;e;e;w;s;s;n;n;n;n;e;e;n;s;e;e;w;w;w;w</variable>
  <variable name="area_khl2_2">北天街1|北天街2|石牢|北天街3|御膳房|北天街4|北天街|北佛塔|北天街|北天街|北天街|圣殿|西天街1|西天街2|争春苑|西天街3|西天街|西佛塔|西天街|西天街|西天街|圣殿|南天街1|南天街2|百兵库|南天街3|土牢|南天街4|南天街|南佛塔|南天街|南天街|南天街|圣殿|东天街1|东天街2|百花宫|东天街3|东天街|东佛塔|东天街|东天街|东天街|圣殿</variable>
  <variable name="area_list">霸王山庄|bw|白云岛|by|边城|bc|藏北|zb|沉香|cx|沉香之南|cxn|大漠沉沙|dmcs|大漠附近|khl|大漠之北|dmb|大旗门|dq|地府|df|帝王谷|dwg|风云城|fy|风云城墙|fycq|风云周边|fyzb|富贵|fg|关外|tx|黑松林|hsl|华山|hs|黄山|hgs|济南|jn|狼山|ls|老林|lyz|老屋|lw|莽林|ml|千佛|qf|千金楼|qjl|清平山庄|qp|三清宫|sq|山西|sx|少林|sl|神水附近|ss|泰山|ts|万梅|wm|武当|wd|新疆|xj|银钩赌坊|yg|幽灵山庄|yl|岱庙|dm|嵩山|sgs|蝙蝠岛|bat</variable>
  <variable name="area_ls">w;w;w;w;s;s;s;s;w;w;w;s</variable>
  <variable name="area_ls_1">wu;wd;sw;nw;w;e;se;ne;eu;su;su;se;eu;en;o;su;su;sw;su;se;ne;eu;eu;eu;nw;d;nw;w;nw;nw;se;se;e;se;u;se;wd;wd;wd;sw;s;se;su;su;su;su;se;su;en;s;n;o;nd;nw;nd;nd;nd;nd;nw;swim;noop;nw;nw;sw;s;charge center</variable>
  <variable name="area_ls_2">烽火台|蜀道1|蜀道|虎跳峡|跃马峡|虎跳峡|蜀道|蜀道|烽火台|十八盘1|十八盘2|十八盘3|十八盘|虎穴|十八盘|狼牙岭|狼笔峰|野狼坡|鹰愁涧|太平M栈|一线天1|一线天2|一线天|望月岩|天梯|悬崖栈道1|悬崖栈道2|悬崖栈道3|悬崖栈道4|悬崖栈道|悬崖栈道|悬崖栈道|悬崖栈道|悬崖栈道|天梯|望月岩|一线天|一线天|一线天|太平客栈|客栈后院|云雾石径1|云雾石径2|云雾石径3|云雾石径4|云雾石径|白云深处|花丛中|草堂|率意厅|草堂|花丛中|白云深处|云雾石径|云雾石径|云雾石径|云雾石径|云雾石径|客栈后院|小溪底|浣花溪1|浣花溪2|浣花溪3|浣花溪|太阳湖|花舟</variable>
  <variable name="area_lw">n;n;n;n;n;n;n</variable>
  <variable name="area_lw_1">n;n;n;n;n;n;w;e;e;w;n;nw;e;e;n;s;s;n;e;n;e;w;s;s;e;d;u;w;n;e;sw;ne;nw;se;s;n;n;s;e;w;w;w;w;w;se;s;s;s;nw;nw;nw;w;w;nw;nw;w;sw;sw;ne;ne;e;se;se;e;e;n;e;n;e;n;cu;cu;w</variable>
  <variable name="area_lw_2">南北大道1|南北大道2|南北大道3|南北大道|拉哈苏|冰上之镇|冰上之镇|冰上之镇|冰上之镇|冰上之镇|水晶大道|闹市|闹市街1|闹市街2|不醉无归小酒家|闹市街3|草药店|闹市街4|闹市街5|小客栈|破房间|小客栈|闹市街|银钩赌坊分店|小屋|冰下水缸|小屋|银钩赌坊分店|闹市街|神秘冰河|神秘冰河|神秘冰河|神秘冰河|神秘冰河|神秘冰河|神秘冰河|神秘冰河|神秘冰河|神秘冰河|神秘冰河|闹市街|闹市街|闹市街|闹市|水晶大道|冰上之镇|拉哈苏|南北大道|土路1|土路2|土路|河边小路|峡谷口|隐龙沟|峡谷尽头|旧道1|旧道2|旧道|旧道|旧道|峡谷尽头|隐龙沟|峡谷口|河边小路|土路|杏林|杏林|杏林|杏林|山脚|山背|山顶|草丛</variable>
  <variable name="area_lyz">n;n;n;n;n;n;n;n;n;n;e;e;e;s;s;s;e;ne;ne;ne;n;ne;ne;n;n;n;n;n;n;n;n;n;n;nu;u;u;u;u;u;u;nu;eu;eu</variable>
  <variable name="area_lyz_1">e;s;se;e;ct;u;u;d;d;dt;s;s;s;s;n;n;n;n;e;e;e;w;hold vine;n;s;s;s;s;s;n;climb cliff;climb up;set tri 随机走迷宫</variable>
  <variable name="area_lyz_2">林间小路|林间小路|林间小路|林间空地|大松树上1|大松树上|大松树顶|大松树上|大松树上|林间空地|林间小路|下坡道1|下坡道2|下坡道|下坡道|下坡道|林间小路|林间U地|林间小路|小石桥|林间小路|小石桥|秘密通道入口|秘密通道|秘密通道入口|瀑布前|山涧之中1|山涧之中|水潭|山涧之中|山壁上的窄穴|林间....不....悬崖边|松树林</variable>
  <variable name="area_ml">s;s;s;s;s;s;s;s;s</variable>
  <variable name="area_ml_1">s;s;w;w;e;e;w;s;n;climb tree;w;n;n;s;s;n;w;e;climb tree;n;e;e;w;w;e;n;s;climb tree;e;s;s;n;n;s;e;w</variable>
  <variable name="area_qf">n;n;n;n;n;n;n;n;n;n</variable>
  <variable name="area_qf_1">e;e;e;ct;dt;eu;eu;nu;n;w;e;e;w;n;w;e;e;w;n;north;w;e;e;w;n;w;e;e;w;n;wu;ed;eu;wd;n;w;e;n;s;e;n;w;w;e;n;w;e;n;s;e;nw</variable>
  <variable name="area_qf_2">阳关大道|千佛山角|唐槐亭|大槐树上|唐槐亭|齐烟九点|洞天福地|兴国禅寺|金刚殿|放生池|金刚殿|千佛洞|金刚殿|前院|长廊|前院|长廊|前院|大雄宝殿|天王殿|伽蓝殿|天王殿|达摩堂|天王殿|弥勒殿|法堂|弥勒殿|禅堂|弥勒殿|韦驮殿|钟鼓楼|韦驮殿|钟鼓楼|韦驮殿|观音殿|斋堂|观音殿|罗汉堂|观音殿|香积厨|长廊|后院|长廊|后院|耶丈室|禅房|耶丈室|藏经阁|耶丈室|禅房|後山平地</variable>
  <variable name="area_qjl">e;e;e;e;e;e;e;e;e;e</variable>
  <variable name="area_qjl_1">swim;noop;noop;e;ne;se;ne;n;s;s;n;e;w;sw;nw;sw;w;n;n;ne;sw;nw;w;w;n;nw;w;sw;ne;e;se;s;s;sw;w;nw;se;e;ne;n;w;w;w;w;n;n;w;s;su;nu;su;nu;sd;nd;sd;nd;w;w;w;w;s;n;w;n;s;e;e;e;e;e;e;pull 地毯;e;e;w;w;w;w</variable>
  <variable name="area_qjl_2">小河流|小河流下游|荷花荡1|花海竹桥1|花海竹桥2|花海竹桥|前花园|前花园|前花园|前花园|前花园|翠玉屏风|前花园|花海竹桥|花海竹桥|花海竹桥|荷花荡1|荷花荡2|荷花荡|荒园|荷花荡|荡上曲桥1|荡上曲桥2|草堂|湖上月|湖上柳|湖上雪|湖上女|湖上雪|湖上柳|湖上月|草堂|湖上水|湖上酒|湖上花|湖上草|湖上花|湖上酒|湖上水|草堂|荡上曲桥3|荡上曲桥|断桥踏板|云雨舟甲板1|云雨舟甲板2|云雨舟甲板3|云雨舟甲板|云雨舟大厅|镂金扶梯1|镂金扶梯|云雨舟二层|不眠阁|云雨舟二层|镂金扶梯|镂金扶梯|云雨舟大厅|西偏厅|走廊1|走廊2|走廊3|厢房|走廊4|走廊|厢房|走廊|走廊|走廊|走廊|西偏厅|云雨舟大厅|东偏厅|底舱|底舱|私刑房|底舱|底舱|底舱|底舱</variable>
  <variable name="area_qp">n;n;n;n;n;n;n;n;n;n;e;e;e;s;s;s;e;ne;ne</variable>
  <variable name="area_qp_1">ne;e;e;n;s;s;n;e;n;s;s;e;w;n;e;e;n;s;s;n;e;e;n;s;s;u;d;n;ct;ct;dt;dt;e;eu;wd;se;e;n;nw;ct;noop</variable>
  <variable name="area_qp_2">青石路1|山庄大门|武场|武场|武场|武场|武场|大厅|偏厅|大厅|偏厅|伙房|偏厅|大厅|青石路2|青石路|卧室|青石路|卧室|青石路|内院门|后花园|书房|后花园|小厅|寝室|小厅|后花园|槐树上1|槐树上|院墙|后花园|池塘|拱桥|池塘|池塘|池塘|后门|池塘|柳树上|池塘里</variable>
  <variable name="area_qs">n;n;n;n;n;n;n;n;n;n;wu;wu;nu;nu;nu;nu;cu</variable>
  <variable name="area_qs_1">climb 悬崖</variable>
  <variable name="area_qs_2">山坳</variable>
  <variable name="area_sgs">w;w;w;w;w;w;w</variable>
  <variable name="area_sgs_1">w;se;nw;sw;ne;nw;ne;nw;nu;nu;sd;sd;se;e;e;n;nu;sd;s;w;se;s;n;n;n;s;s;se;su;nd;nw;nw;ne;n;s;e;sw;nw;en;o;wu;ed;se;e;w;s;sd;sd</variable>
  <variable name="area_sgs_2">登封县城|丰号布铺|登封县城|孙记铁铺|登封县城|启母石|少室阙|山道|山道|山道|山道|山道|少室阙|嵩阳书院|崇福宫|老母洞|峻极峰|老母洞|崇福宫|嵩阳书院|中岳庙|太室阙|中岳庙|卢崖瀑布|青童峰|卢崖瀑布|中岳庙|石淙会饮|观星台|石淙会饮|中岳庙|嵩阳书院|嵩岳寺塔|法王寺|嵩岳寺塔|会善寺|塔林|达摩洞|达摩洞内|达摩洞|五乳峰|达摩洞|塔林|少林后山门|塔林|二祖庵|莲花寺|清凉寺</variable>
  <variable name="area_sl">w;w;w;w;w;w;w;w;nw;ne</variable>
  <variable name="area_sl_1">nw;nu;nu;nw;se;ne;sw;nu;w;e;wu;ed;eu;wd;u;n;nw;w;e;se;ne;e;e;w;w;sw;n;nw;se;ne;sw;n;n;e;e;u;u;u;u;u;d;d;d;d;d;w;w;w;u;u;u;d;d;d;e;nu;wd;w;e;eu;ed;e;w;wu;nd;nu;wd;eu;ed;wu;u;u;u;d;d;d;nd;n;w;e;e;w;s;nu;w;wu;ed;e;nu;nu;e;w;w;e;nd;n;w;w;n;s;e;e;e;e;w;w;n;w;n;s;e;e;n;s;w;n;nu;w;e;e;w;n;w;w;e;e;e;e;w;w;n;w;e;e;w;n;u;u;u;u;u;d;d;d;d;d;ne;sw;nw;ne;e;e;e;w;n;s;s;n;w;w;w;w;w;n;s;s;n;w;w</variable>
  <variable name="area_sl_2">山道1|山道2|山道3|西石坊|山道4|东石坊|山道|山门殿角|少阳桥|山门殿角|掖门|山门殿角|掖门|山门殿角|少林山门|影壁|碑林|碑林|碑林|影壁|碑林|碑林|慈云堂|碑林|碑林|影壁|甬路1|掖门|甬路2|掖门|甬路3|天王殿|殿角楼|碑楼|钟楼1|钟楼2|钟楼3|钟楼4|钟楼5|钟楼|钟楼|钟楼|钟楼|钟楼|钟楼|碑楼|殿角楼|鼓楼1|鼓楼2|鼓楼|击鼓楼|鼓楼|鼓楼|鼓楼|殿角楼|大雄宝殿|长廊|六祖殿|长廊|大雄宝殿|长廊|紧那罗殿|长廊|大雄宝殿|甬路|藏经阁1|藏阁西廊|藏经阁2|藏阁东廊|藏经阁3|藏经阁4|藏经阁5|藏经阁|藏经阁|藏经阁|藏经阁|方丈南院|方丈|方丈退居|方丈|廓然堂|方丈|方丈南院|立雪亭|塔院|甘露台|塔院|立雪亭|陛石阶|千佛殿|白衣殿|千佛殿|地藏殿|千佛殿|内院门|内院1|饭厅|千僧灶|拨火寮|千僧灶|饭厅|内院2|褂搭寮|衣钵寮|褂搭寮|内院3|内院4|和尚部|和尚部|和尚部|内院5|和尚部|和尚部|和尚部|内院6|内院|伽蓝厅|禅定场|伽蓝厅|修业场|伽蓝厅|罗汉堂|僧兵院|武库|僧兵院|罗汉堂|僧兵院|药库|僧兵院|罗汉堂|达摩院|讲武堂|达摩院|习技堂|达摩院|藏经楼1|藏经楼2|藏经楼3|藏经楼4|藏经楼5|藏经楼|藏经楼|藏经楼|藏经楼|藏经楼|藏经楼|修身堂|藏经楼|养性堂|般若堂|长老院|僧监|长老院|僧监|长老院|僧监|长老院|僧监|长老院|般若堂|梅园|小山门|邸园精舍|清静楼|邸园精舍|无为楼|邸园精舍|竹林|隐世楼</variable>
  <variable name="area_sq">n;n;n;n;n;n;n;n;n;n</variable>
  <variable name="area_sq_1">wu;wu;nu;w;e;nu;nu;nu;cu;cu;n;n;n;e;w;n;e;w;n;n;w;e;e;w;n;nw;nw;n;u</variable>
  <variable name="area_sq_2">山坳|无名山|石英岩石阶1|菩提庵|石英岩石阶2|石英岩石阶|山道|雾中|平台|洞口1|洞内|洞口|草地1|三清湖|草地2|草地|三清湖|草地|三清宫|三清宫大院|三清宫厢房|三清宫大院|三清宫厨房|三清宫大院|三清宫正殿|青石小径1|青石小径|经楼2|经楼</variable>
  <variable name="area_srz">s;s;s;s;s;s;s;s;s</variable>
  <variable name="area_srz_1">w;w;w;e;sw;w;s;n;nw;n;s;se;e;ne;nw;w;n;s;sw;s;w;w;w;knee;w;s;s;n;n;u;o;s;e;se;e;e</variable>
  <variable name="area_srz_2">杀人庄1|杀人庄|聚义堂|杀人庄|长廊|长廊|厢房|长廊|长廊|长廊|长廊|长廊|长廊|杀人庄|长廊|长廊|厢房|长廊|长廊|长廊|后花园|草地|蜡人阁|暗道1|暗道2|暗道3|暗道4|暗道5|暗道|衣柜|厢房|长廊|长廊|杀人庄|杀人庄|小山坡西面</variable>
  <variable name="area_ss1">n;n;n;n;n;n;n;n;n;n;wu;wu;nu;w</variable>
  <variable name="area_ss1_1">ask lao ni about 神水宫;s;e;nw;n;w;e;n;s;e;w;s;se;ne;e;w;sw;e;w;sd;d;s;s;n;n;u;su;s;climb window</variable>
  <variable name="area_ss1_2">武库|药房|白水殿|寝宫|后花园|藏剑楼|后花园|清心寡欲楼|后花园|书房|后花园|寝宫|白水殿|裨女卧室|卧室|裨女卧室|白水殿|膳房|白水殿|火岩洞口|艳洞1|艳洞2|艳洞|艳洞|艳洞|火岩洞口(伪出口)|软红山庄|星星小楼|崖底</variable>
  <variable name="area_ss2">n;n;n;n;n;n;n;n;n;n;n;n;n;n;nw;e;e;e;e;e</variable>
  <variable name="area_ss2_1">e;n;w;n;s;e;n;n;e;w;n;s;s;s;e;n;set tri 点灯;e;n;s;ne;o;n;ne;nu;e;e</variable>
  <variable name="area_ss2_2">山洞秘道1|山洞秘道2|山洞秘道3|山洞秘道4|x|x|山洞秘道5|山洞秘道6|山洞秘道7|x|山洞秘道8|x|x|x|山洞秘道9|山洞秘道10|x|山洞秘道11|山洞秘道12|x|山洞秘道|洞口|谷地1|迷雾天梯1|迷雾天梯|谷地|白水湖</variable>
  <variable name="area_sx">w;w;w;w;w;w;w;w;w;w;n;n;n;n;n;ne;n;e;n;n;n;n;n;n</variable>
  <variable name="area_sx_1">ne;n;n;n;e;n;n;w;s;s;n;n;n;w;e;nw;se;n;s;ne;sw;e;w;s;e;s;s;w;s;s;s;e;ed;eu;s;n;eu;n;s;ed;ed;ed;ed</variable>
  <variable name="area_sx_2">瀑布边1|树林|庄门|荷花园|树林|荷花园|树林|荷花园|九曲桥|珠光宝气阁|九曲桥|荷花园|荷花园|厢房|荷花园|厢房|荷花园|灵堂|荷花园|厢房|荷花园|厢房|荷花园|荷花园|树林|荷花园|树林|荷花园|庄门|树林|瀑布边2|瀑布边|黄河崖边1|黄河崖边2|关帝庙|黄河崖边3|叶门峰|青枫观|叶门峰|黄河崖边4|黄河崖边|风云道1|风云道</variable>
  <variable name="area_ts">n;n;n;n;n;n;n;n;n;n;e;e;e;s;s;s;e;ne;ne;ne;n;ne;ne;n;n;n;n;n;n;n;n;n</variable>
  <variable name="area_ts_1">n;nu;wu;ed;ed;eu;cd;cu;wd;e;w;wu;u;u;w;e;eu;su;nu;sd;nd;wd;u;ne;n;s;ne;sw;sw;u;u;u;wu;ed;nu;wu;wu;ed;ed;eu;eu;wd;u;u;u;n;s;e;nu;sd;ne;sw;e;n;s;w;w;w;u;nu;nu;nu;n;en;w;e;e</variable>
  <variable name="area_ts_2">岱宗坊|红门宫|普照寺|红门宫|王母池|屏风崖|半山一石洞|屏风崖|王母池|虎山|王母池|红门宫|万仙楼|斗母宫|凌汉峰|斗母宫|经石峪|罗汉崖|樱桃崖|罗汉崖|经石峪|斗母宫|壶天阁|泮黄岭|中溪山|泮黄岭|调军岭|泮黄岭|壶天阁|步天桥|中天门|云步桥|傲崃峰|云步桥|五松亭|九女峰|龙角山|九女峰|五松亭|朝阳洞|梦仙龛|朝阳洞|对松亭|十八盘|南天门|后石邬|南天门|碧霞祠|天柱峰|碧霞祠|大观峰|碧霞祠|瞻鲁台|日观峰|瞻鲁台|碧霞祠|南天门|山峰|月观峰|白玉石阶1|白玉石阶3|白玉石阶|无垢山庄大门|侠义无双厅|合璧小筑|侠义无双厅|踏莎斋</variable>
  <variable name="area_tx">w;w;w;w;w;w;w;w;w;w;w;w</variable>
  <variable name="area_tx_1">n;n;n;n;w;w;w;w;n;n;n;w;e;e;w;n;w;e;e;w;nd</variable>
  <variable name="area_tx_2">羊肠小道1|羊肠小道2|羊肠小道3|羊肠小道|密道|穿山洞|世外桃源|小桥流水|翠竹庄门|山庄前院|翠竹屋|茶园|翠竹屋|梅花小筑|翠竹屋|山庄后院|练功室|山庄后院|藏书阁|山庄后院|梅雨潭</variable>
  <variable name="area_wd">e;e;e;e;e;e;e;s</variable>
  <variable name="area_wd_1">s;s;s;s;w;e;e;w;s;w;e;e;e;w;w;s;w;e;e;w;se;nw;s;s;su;w;w;e;e;e;w;su;su;su;su;en;w;e;e;w;ne;e;e;n;s;e;w;w;w;s;s;s;su;e;w;su;su;su;wd;eu;ed;wu;nd;nd;nd;nd;n;n;n;sw;o;nd;nd;nd;nd;nd;n;w;w;e;w;s;n;e;e;e;e;w;e;n;s</variable>
  <variable name="area_wd_2">泥土路1|泥土路2|小镇|街道1|杏花村酒家|街道2|董剑清家|街道3|街道4|农具店|街道5|农家|厨房|农家|街道6|街道7|农家|街道8|杂货店|街道9|街道10|街道|泥土路|武当山门|上山路1|松林1|松林2|松林3|上山路2|松林|上山路3|玄武门|解剑石|上山路|武当观|武当前院|凌虚岩|武当前院|紫霄宫|武当前院|青石小路|拱形门|小院|灵应岩|小院|后院门|小院|拱形门|青石小路|滴水檐|琼台观|九曲黄河墙|三松亭|剑泉|三松亭|一里四道门|金殿|天柱峰|隐仙岩|天柱峰|飞升崖|天柱峰|金殿|一里四道门|三松亭|九曲黄河墙|琼台观|滴水檐|青石小路|武当前院|武当观|上山路|解剑石|玄武门|上山路|武当山门|泥土路|庄稼地|庄稼地|庄稼地|庄稼地|庄稼地|庄稼地|泥土路|庄稼地|庄稼地|庄稼地|庄稼地|庄稼地|庄稼地|庄稼地</variable>
  <variable name="area_wm_1">e;e;e;e;e;n;s;s;ct;dt;n;ne;sw;se;nw;e;e;n;s;s;n;e;e;n;s;s;n;e;w;w;w;w;w;fillskin;n;e;e;e;e;e;go north;n;e;e;charge;go north;go west;go south</variable>
  <variable name="area_wm_2">梅林小路|梅林之中|万梅山庄|风铃梅枝门|山庄前院|小柴房|山庄前院|小木屋|小木屋顶|小木屋|山庄前院|左弄堂|山庄前院|右弄堂|山庄前院|枯梅堂|山庄正院|左偏院|山庄正院|右偏院|山庄正院|白梅阁|山庄后院|后厨房|山庄后院|小茅厕|山庄后院|后山坡|x|x|x|x|x|x|x|x|x|x|x|x|小河流上游|灌木丛|山中巨湖|万梅瀑布|瀑后山洞|左边小洞|中间小洞|右边小洞</variable>
  <variable name="area_xj">w;w;w</variable>
  <variable name="area_xj_1">nw;nw;ne;nw;nw;nw;nw;e;w;wd;wu;se;nw;wd;wu;nw;nw;w;w;s;s;s;s;n;e;e;e;eu;wd;w;w;w;n;n;n;n;n;nw;e;nw;n;n;n;nu;u</variable>
  <variable name="area_xj_2">天涯路1|天涯路2|天涯路|黑庙|丝绸之路1|丝绸之路2|火焰山|柏孜克里克千佛洞|火焰山|葡萄沟|额敏塔|阿斯塔那|额敏塔|吐鲁番|交河故城|丝绸之路3|丝绸之路|土路|土路|土路|柴容堡湖|白杨沟|冰川|白杨沟|沟底1|沟底|瀑布|艾丁湖|瀑布|沟底|沟底|白杨沟|柴容堡湖|土路|土路|乌拉泊南城门|大巴札1|南宫钱庄|木拉提当铺|大巴札|没有名字的地方|乌拉泊北城门|土路|红山|镇龙塔</variable>
  <variable name="area_yg_1">s;s;s;w;w;n;w;n</variable>
  <variable name="area_yg_2">广场南|南风街|南风大街|银钩赌坊|银钩赌坊大厅|银钩赌坊偏厅|石级甬道|秘室</variable>
  <variable name="area_yl">w;w;w;w;w;w;w;w;w;w;w;w</variable>
  <variable name="area_yl_1">s;s;s;s;su;go east;e;n;s;e;se;ne;e;e;se;s;n;ne;n;s;sw;s;sleep hua gua fu;up</variable>
  <variable name="area_yl_2">小路1|小路2|小路|原始丛林|山崖边|钢索桥上|幽灵山庄|小白屋|幽灵山庄|弯曲小路1|弯曲小路2|弯曲小路3|大厅|弯曲小路4|弯曲小路5|小屋|弯曲小路6|弯曲小路|石屋|弯曲小路|弯曲小路|小屋|地窖1|地窖</variable>
  <variable name="area_zb1">w;w;w;nw;nw;ne;nw;nw;nw;nw;wd;wu;wd;wu;nw;nw;w;w</variable>
  <variable name="area_zb1_1">wu;n;s;w;w;w;sw;sw;sw;e;n;s;s;n;e;e;e;e;e;nw;n;n;w;e;n;n;s;s;s;s;se;w;w;w;w;w;w;w;su;su;wu;nu;wu;en;n</variable>
  <variable name="area_zb1_2">小径1|村居|小径2|小径3|小径|青草地1|青草地|村外鱼塘|山村口|山村西首|菜田|山村西首|菜田|山村西首|山村道1|山村中心|山村道|山村东首|山村道尽头|竹林1|竹林2|竹林|小径尽头|竹林|回春阁|回春阁后房|回春阁|竹林|竹林|竹林|山村道尽头|山村东首|山村道|山村中心|山村道|山村西首|山村Z|山道1|山道|高岗|西山道1|西山道|梅花庵外|庵院|梅花庵</variable>
  <variable name="area_zb2">w;w;w;nw;nw;ne;nw;nw;nw;nw;wd;wu;wd;wu;nw;nw;w;w;n;n;nw;ne;n;n;n</variable>
  <variable name="area_zb2_1">nu;su;sw;sw;w;w;e;e;ne;ne;ed;ed;ne;jump down</variable>
  <variable name="area_zb2_2">红山|俄初山|山沟1|山沟|好汉庄|好汉庄大院|好汉庄|山沟|山沟|俄初山|河谷1|河谷|地狱谷|地狱谷底</variable>
  <variable name="area_zb3">w;w;w;nw;nw;ne;nw;nw;nw;nw;wd;wu;wd;wu;nw;nw;w;w;n;n;nw;ne;n;n;n;wade</variable>
  <variable name="area_zb3_1">se;e;n;s;e;n;s;e;e;se;sw;ne;e;e;sw;w;sw;w;s;n;e;se;s;s;se;nw;n;n;nw;ne;e;ne;nu;nu;wu;wd;wd;w;w;n;n;e;w;s;s;e;e;eu;eu;ed;sd;sd;se;e;e;n;w;e;e;w;s;se;se;n</variable>
  <variable name="area_zb3_2">草原1|草原2|直共寺|草原3|草原4|蚌普寺|草原5|草原6|草原|高原|帐篷|高原|昆仑山区1|玉龙峰|荒原1|荒原|白杨树林|林间|林间小屋|林间|白杨树林|密林1|密林2|密林|龙虎寨|密林|密林|密林|白杨树林|荒原|荒原|玉龙峰|山道1|山道|山腰|松林小道1|松林小道|道路1|道路|白云山庄1|白云山庄大厅|白云山庄|白云山庄大厅|白云山庄|道路|道路|松林小道|松林小道|山腰|山道|山道|玉龙峰|昆仑山区|玉龙哈什河|和阗河|烂泥路|沼泽地边缘|烂泥路|渔人居|烂泥路|和阗河|大漠|阳关古址|古董滩</variable>
  <variable name="ask_guard">2</variable>
  <variable name="ask_weapon">0</variable>
  <variable name="ask_yuanmie">1</variable>
  <variable name="askpill">0</variable>
  <variable name="auto_askpill">1</variable>
  <variable name="auto_buyjiudai">1</variable>
  <variable name="auto_deposit">1</variable>
  <variable name="auto_deposit2">1</variable>
  <variable name="auto_enforce">1</variable>
  <variable name="auto_enhancesave">1</variable>
  <variable name="auto_lookcorpse">1</variable>
  <variable name="auto_mission">0</variable>
  <variable name="auto_pray">1</variable>
  <variable name="auto_revive">1</variable>
  <variable name="auto_save">1</variable>
  <variable name="auto_supply">1</variable>
  <variable name="axg_enlarge">0</variable>
  <variable name="bank">1466304908</variable>
  <variable name="bank2">40</variable>
  <variable name="bank_limit">18</variable>
  <variable name="bat_bat">0</variable>
  <variable name="bianli">0</variable>
  <variable name="blade"></variable>
  <variable name="box_destroy">0</variable>
  <variable name="box_exp">0</variable>
  <variable name="box_num">0</variable>
  <variable name="box_pot">0</variable>
  <variable name="box_sum">0</variable>
  <variable name="box_total">0</variable>
  <variable name="by_wind">0</variable>
  <variable name="calldie">0</variable>
  <variable name="calldie_fail">0</variable>
  <variable name="calldie_list">霍休|阎铁珊|秋一枫</variable>
  <variable name="chat">【风云再现】不承担任何人因参与风云再现娱乐所造成的任何损失。【闲聊】南宫大胜(Nangong dasheng)：拜山拜水拜码头，江湖人就凭几分情面，各位请关照小号……【闲聊】南宫大胜(Nang</variable>
  <variable name="class">dwg</variable>
  <variable name="class_list">普通百姓|bx|江湖游侠|bx|白云城|by|财神庙|cs|朝廷命官|ct|大昭寺|dz|帝王谷|dwg|峨嵋派|em|恶人谷|erg|富贵山庄|fg|华山派|hs|黄山派|hgs|金钱帮|jq|蓝山剑宗|jz|三清宫|sq|神剑山庄|sj|松谷庵|sg|铁雪山庄|tx|万梅山庄|wm|西方神教|mj|兴国禅寺|xg|幽灵山庄|yl|丐帮|gb|蝙蝠岛|bat|神水宫|ss|狼山|ls|铁血大旗门|dq|快活林|khl|武当派|wd|少林寺|sl|傲仙宫|axg</variable>
  <variable name="coin">0</variable>
  <variable name="corpse_list"></variable>
  <variable name="corpse_name"></variable>
  <variable name="corpse_num">0</variable>
  <variable name="corpse_order">1</variable>
  <variable name="ct_guard">0</variable>
  <variable name="ct_spear">qingheluo</variable>
  <variable name="cxn_hzsc">0</variable>
  <variable name="dan">0</variable>
  <variable name="dan2">6</variable>
  <variable name="dan_bag">0</variable>
  <variable name="dan_jadebox">178</variable>
  <variable name="dan_max">6</variable>
  <variable name="die">0</variable>
  <variable name="dir"></variable>
  <variable name="drop_jadebox">0</variable>
  <variable name="dxc_npc">麻锋|ma feng|马鞭|ma bian|毛野|mao ye|汤野|tang ye|丁干|ding gan|毛战|mao zhan|鬼金羊|killer a|柳土獐|killer b|星日马|killer c|张月鹿|killer d|翼水蛇|killer e|井木犴|killer f|轸火蚓|killer g|斗木獬|killer h|牛金羊|killer i|虚日鼠|killer j|危月燕|killer k|室火猪|killer l|壁水獐|killer m|角木蛟|killer n|亢金龙|killer o|氐土貉|killer p|房月狐|killer q|心日兔|killer r|尾火虎|killer s|箕水豹|killer t|奎木狼|killer u|娄金狗|killer v|胃土熊|killer w|昂日鸡|killer x|毕月鸟|killer y|觜火猴|killer z</variable>
  <variable name="dz_dqbr">1</variable>
  <variable name="dz_dun">绿洲</variable>
  <variable name="dz_gmz">0</variable>
  <variable name="dz_hong">295|292</variable>
  <variable name="enableanimaltraining">animal-talk</variable>
  <variable name="enableaxe">xuanyuan-axe</variable>
  <variable name="enableblade">springrain-blade</variable>
  <variable name="enablecursism">celecurse</variable>
  <variable name="enabledagger">jianqi-dagger</variable>
  <variable name="enabledodge">liuquan-steps</variable>
  <variable name="enableforce">iceheart</variable>
  <variable name="enableforce_org">iceheart</variable>
  <variable name="enablehammer">pangu-hammer</variable>
  <variable name="enableherb">feiyuancurse</variable>
  <variable name="enableironcloth"></variable>
  <variable name="enableliterate">incarnation</variable>
  <variable name="enablemagic">essencemagic</variable>
  <variable name="enablemove">demon-steps</variable>
  <variable name="enableparry">thunderwhip</variable>
  <variable name="enableperception">betting</variable>
  <variable name="enablescratching">scratmancy</variable>
  <variable name="enablespear">xuezhan-spear</variable>
  <variable name="enablespells">mapo</variable>
  <variable name="enablestaff">lamastaff</variable>
  <variable name="enablestealing">betting</variable>
  <variable name="enablesword">spring-sword</variable>
  <variable name="enablethrowing">mantian-huayu</variable>
  <variable name="enableunarmed">yiqiforce</variable>
  <variable name="enablewhip">thunderwhip</variable>
  <variable name="fg_ml">0</variable>
  <variable name="fight">0</variable>
  <variable name="figure_list">花无缺|铁开诚|地藏|李坏|薛可可|玉罗刹|路小佳</variable>
  <variable name="figure_sum">0</variable>
  <variable name="find">0</variable>
  <variable name="flag">0</variable>
  <variable name="gender">女</variable>
  <variable name="get_luwei">0</variable>
  <variable name="get_moonblade">0</variable>
  <variable name="get_mugui">0</variable>
  <variable name="get_ring">0</variable>
  <variable name="get_sdcloth">0</variable>
  <variable name="get_sdmask">0</variable>
  <variable name="get_yuemask">0</variable>
  <variable name="get_zhanjia">0</variable>
  <variable name="getcorpse">0</variable>
  <variable name="getluwei">1</variable>
  <variable name="go_list">hth|地牢|bat|胡铁花
sds|海岸边|bat|邵大师
bc|街心|bc|边城
hbf|黑室|bc|花白凤
lhz|龙虎寨|bc|龙虎寨
ydj|林间小屋|bc|易大经
jyt|聚义厅|bw|丁喜、王若兰
nh|海岸|by|南海海边
by|白云岛入口|by|白云城
ygc|白云观|by|叶孤城
zqdl|紫气东来楼|by|叶星士
mp|孟婆驿|df|孟婆
lz|绿洲|dmcs|
wmfr|方舟|dq|无名夫人
ccd|常春岛渡口|dq|常春岛
gyd|观月顶|dq|日后
dxc|青石中路|dxc|地下城
lw|溪边|dwg|芦苇
xws|大殿|dwg|萧王孙
cs|石庙|dz|财神庙
dz|城门|dz|大召寺
gys|光阴树|dz|圣母峰雪山
fg|富贵如意厅|fg|富贵山庄
gdl|破菩萨庙|fg|富贵山庄
jz|梅林竹溪|fyzb|剑宗师父
wyl|二仙祠|hgs|王雨楼
csf|采石峰|hgs|歙石
jl|黄山剑庐|hgs|黄山师父
ptb|梦笔生花|hgs|彭天霸
qlt|清凉台|hgs|黄山日出
tdf|天都峰|hgs|黄山云海
wg|百丈泉|hgs|黄山抓乌龟
hs|华山别院|hs|菩提花(春天)
sjxd|山间小道|hs|白果树叶(春夏)
cy|古栈道|hs|赤阳道长
gyc|棋盘台|hs|公冶长
hzz|玉女峰|hs|华真真
zn|小院|hgs|黄山抓鸟
jlz|青砖甬道|hs|金灵芝
jxg|断崖|hs|姜仙公
ka|舍身崖|hs|苦庵上人
pgz|山门|hs|胖公子
yxxb|银杏溪边|hs|梅山民
lxc|膳房|hsl|律香川
xf|刑房|hsl|小娟
khl|圣殿|khl|快活林师父
hz|花舟|ls|温良玉(太阳使者)
syt|率意厅|ls|狼山(朱五太郎)
tpkz|太平客栈|ls|郝生意
ylb|野狼坡|ls|野果
wyy|望月岩|ls|萧十一郎
hyn|草丛|lw|花月奴
lx|冰下水缸|lw|李霞
lyz|林间....不....悬崖边|lyz|老云寨
xsq|小石桥|lyz|老云寨
qjl|荷花荡|qjl|
af|不眠阁|qjl|阿飞
rh|厢房|qjl|千金楼软红
qp|拱桥|qp|清平山庄
sf|莲花寺|sgs|嵩山三佛
xxf|隐世楼|sl|谢晓峰
ss|白水殿|ss|神水宫
gqf|青枫观|sx|顾青枫
htq|灵堂|sx|霍天青
ts|南天门|ts|泰山
xy|侠义无双厅|ts|连城壁
tx|山庄后院|tx|铁雪山庄
tzf|天柱峰|wd|天枫十四郎
lxf|右边小洞|wm|陆小凤
xj|南宫钱庄|xj|新疆
xcq|镇龙塔|xj|谢长卿
yb|艾丁湖|xj|盐巴
bg|地窖|yl|表哥
ld|石屋|yl|老刀把子
byz|白云山庄大厅|zb|柳东来袁秋云
dy|沼泽地边缘|zb|边城钓鱼
erg|小径|zb|恶人谷
gg|高岗|zb|七叶一枝花
hhz|好汉庄大院|zb|薛斌
ly|梅花庵|zb|了因师太
tm|地狱谷底|zb|天美公主</variable>
  <variable name="hgs_powerup">0</variable>
  <variable name="hp_enforce">1</variable>
  <variable name="hp_enforce_max">150</variable>
  <variable name="hp_fali">7760</variable>
  <variable name="hp_fali_max">7760</variable>
  <variable name="hp_jing">2042523</variable>
  <variable name="hp_jing2">100</variable>
  <variable name="hp_jing_max">2042523</variable>
  <variable name="hp_jingyan">368908497</variable>
  <variable name="hp_lingli">8270</variable>
  <variable name="hp_lingli_max">8270</variable>
  <variable name="hp_neili">8600</variable>
  <variable name="hp_neili_max">8600</variable>
  <variable name="hp_pingjia">206563799</variable>
  <variable name="hp_qi">4432732</variable>
  <variable name="hp_qi2">100</variable>
  <variable name="hp_qi_max">4432732</variable>
  <variable name="hp_qianneng">108776137</variable>
  <variable name="hp_qianneng_save">213795065</variable>
  <variable name="hp_shaqi">1358</variable>
  <variable name="hp_shaqi_max">24160</variable>
  <variable name="hp_shen">1996218</variable>
  <variable name="hp_shen2">100</variable>
  <variable name="hp_shen_max">1996218</variable>
  <variable name="hp_shiwu">85</variable>
  <variable name="hp_yinshui">85</variable>
  <variable name="hp_zhengyi">5025587</variable>
  <variable name="hsdummy_id">guestb</variable>
  <variable name="id_list">lnf|lxj</variable>
  <variable name="idle_time">0</variable>
  <variable name="ignore_id_list">Corpse|Skeleton|Gold|Silver|Coin|Fengyun garrison|Stone|Ding|Meat|Sword|Blade|Dragon cup|Bat|Spirit|Slayed corpse|Shiwei|Bodyguard|Snake|Spear|Dizi|Huwei|Immortal|Heaven soldier|Hell guard|Jiudai|Cloth|Staff</variable>
  <variable name="item_backseal">0</variable>
  <variable name="item_backseal_bag">0</variable>
  <variable name="item_cash">0</variable>
  <variable name="item_coin">0</variable>
  <variable name="item_dagger">0</variable>
  <variable name="item_ding">0</variable>
  <variable name="item_egg">0</variable>
  <variable name="item_fist">0</variable>
  <variable name="item_gold">0</variable>
  <variable name="item_jadebox">0</variable>
  <variable name="item_jiudai">0</variable>
  <variable name="item_lighter">0</variable>
  <variable name="item_luwei">0</variable>
  <variable name="item_micash">0</variable>
  <variable name="item_moonblade">0</variable>
  <variable name="item_mugui">0</variable>
  <variable name="item_paper">0</variable>
  <variable name="item_paperseal">0</variable>
  <variable name="item_pipe">0</variable>
  <variable name="item_pumpkin">0</variable>
  <variable name="item_qfbook">0</variable>
  <variable name="item_ring">0</variable>
  <variable name="item_rope">0</variable>
  <variable name="item_sdcloth">0</variable>
  <variable name="item_sdmask">0</variable>
  <variable name="item_sheshi">0</variable>
  <variable name="item_shouhuan">0</variable>
  <variable name="item_silver">0</variable>
  <variable name="item_skyclothes"></variable>
  <variable name="item_spipe">0</variable>
  <variable name="item_tea">0</variable>
  <variable name="item_total">8</variable>
  <variable name="item_tribuli">0</variable>
  <variable name="item_ttcash">0</variable>
  <variable name="item_wineskin">0</variable>
  <variable name="item_wolfpen">0</variable>
  <variable name="item_yeguo">0</variable>
  <variable name="item_yeguo_max">2</variable>
  <variable name="item_yuemask">0</variable>
  <variable name="item_zhanjia">0</variable>
  <variable name="jd">1</variable>
  <variable name="jq_clzx">0</variable>
  <variable name="jq_jq">0</variable>
  <variable name="jq_js">1</variable>
  <variable name="keyseller">0</variable>
  <variable name="khl_zbcs">0</variable>
  <variable name="kill_name">蓝天锤</variable>
  <variable name="lcb">0</variable>
  <variable name="location">风云天下</variable>
  <variable name="login">0</variable>
  <variable name="look_jadebox">1</variable>
  <variable name="look_mugui">1</variable>
  <variable name="manglin"></variable>
  <variable name="manglin_dir"></variable>
  <variable name="master">箫王孙</variable>
  <variable name="mf_conquering">0</variable>
  <variable name="mf_shield">0</variable>
  <variable name="mission">0</variable>
  <variable name="mission_cancel">0</variable>
  <variable name="mission_dan">0</variable>
  <variable name="mission_log">,经验:43287点,潜能:9619点,银子:1363两,经验:37121点,潜能:8249点,银子:640两,经验:32387点,潜能:7197点,银子:1753两</variable>
  <variable name="mission_num">4</variable>
  <variable name="mission_retry">0</variable>
  <variable name="mission_total">5</variable>
  <variable name="mission_totalcc">0</variable>
  <variable name="mission_totaldie">0</variable>
  <variable name="mission_totalexp">176638</variable>
  <variable name="mission_totalpot">51491</variable>
  <variable name="mission_totaltime">92</variable>
  <variable name="mj_gspm">0</variable>
  <variable name="mnpc_autokill">0</variable>
  <variable name="mnpc_autorun">0</variable>
  <variable name="mnpc_cancel">0</variable>
  <variable name="mnpc_clzx">0</variable>
  <variable name="mnpc_id">yan nanfei</variable>
  <variable name="mnpc_jiasi">0</variable>
  <variable name="mnpc_libie">0</variable>
  <variable name="mnpc_list">金非|jin fei|0|0|0|玉箫道人|taoist yuxiao|0|1|0|苏浅雪|su qianxue|1|0|0|唐无影|tang wuying|1|0|0|江别鹤|jiang|1|0|0|怜星|lian xing|1|0|0|程驹|cheng ju|1|0|0|金花子|jin huazi|1|1|0|万鹏王|wan pengwang|0|0|0|史天王|master shi|0|1|0|屠万|tuwan|0|0|0|魏子云|wei ziyun|0|0|0|高莫静|gao mojing|0|0|0|霍休|huo xiu|1|0|0|阎铁珊|yan tieshan|1|0|0|萧泪血|xiao leixue|1|0|0|朱猛|zhu meng|1|0|0|张玉珍|zhang yuzhen|0|0|0|无须老人|wuxu oldman|0|0|0|简召舞|jian|0|1|0|风入松|feng rusong|0|0|0|铁开诚|tie kaicheng|0|0|0|金花娘|gold girl|0|0|0|唐无双|tang wushuang|0|0|0|地藏|dizang|0|0|0|萧东楼|xiao donglou|0|0|0|薛可可|xue keke|0|0|0|李坏|li huai|0|0|0|裴珏|pei jue|0|0|0|萧伯贤|xiao boxian|0|0|0|胡姥姥|hulaolaoa|0|0|0|怒真人|master nu|0|0|0|孙玉伯|sun yubo|0|1|0|俞放鹤|yu fanghe|0|0|0|杜桐轩|du tongxuan|0|1|0|吴明|wu ming|0|0|0|柳祟厚|liu suihou|0|0|0|花无缺|hua wuque|0|0|0|玉罗刹|master luocha|0|0|0|仇独|chou du|0|0|0|方宝玉|fang baoyu|1|0|0|天吃星|tianchi xing|0|1|0|江小鱼|jiang xiaoyu|1|0|0|金童|gold man|0|0|0|帅一凡|shuai yifan|0|0|0|南宫平|nangong ping|0|0|0|芮玮|rui wei|0|0|0|凤三|feng san|0|0|0|海东青|hai dongqing|0|0|0|银鹤道长|taoist yin|0|0|0|卓东来|zhuo donglai|0|0|0|梅吟雪|mei yinxue|1|0|0|路小佳|lu xiaojia|0|0|0|郭灭|guo mie|0|0|0|碧玉夫人|mrs biyu|0|0|0|天马和尚|tianma monk|1|0|0|独孤一鹤|dugu yihe|1|0|0|小雷|lei|1|0|0|李燕北|li yanbei|1|1|0|花满楼|hua manlou|1|0|0|邱凤城|qiu fengcheng|1|0|0|上官刃|shangguan ren|1|0|0|唐傲|tang ao|1|1|0|杨飞|yang fei|1|0|0|秋一枫|qiu yifeng|1|0|0|韩棠|han tang|1|0|0|岳刚|yue gang|1|0|0|林还玉|lin huanyu|1|1|0|燕南飞|yan nanfei|0|0|0|孟星魂|meng xinghun|1|0|0|薛衣人|xue yiren|1|0|0|薛笑人|xue xiaoren|1|0|0|吴七|wu qi|1|0|0|宫锦弼|gong jinbi|1|0|0|云真人|master yun|1|0|0|宫九|gong jiu|1|0|0|吕迪|master lv|0|0|0|多儿甲|Master duo|0|0|0</variable>
  <variable name="mnpc_location">蓝室</variable>
  <variable name="mnpc_name">燕南飞</variable>
  <variable name="mnpc_poison">0</variable>
  <variable name="mnpc_wx">wuxu oldman</variable>
  <variable name="mtime">0</variable>
  <variable name="mtime_lmt">90</variable>
  <variable name="myblade"></variable>
  <variable name="mypfm">pfm_yljx</variable>
  <variable name="mypfmf"></variable>
  <variable name="mysword">sword</variable>
  <variable name="nj_du">0</variable>
  <variable name="nomagic">fy|山流密室|fy|风云天下|fy|广场凉亭|fy|一品居密室|fg|梨园|sl|藏经阁|sl|藏经楼|dq|洞穴|sx|厢房|srz|厢房|dz|宝塔|hsl|刘家小房|qp|斜阳道|sl|木人巷|lyz|鬼门关|hgs|草地|ls|太平客栈|hsl|山脚乡田|yl|地窖|by|木筏上|fy|浸龙走廊|dq3|飘香花店|srz|半山酒家|sl|养性堂|yl|小屋|sx|瀑布边|tx|天宗密室</variable>
  <variable name="npc_id"></variable>
  <variable name="npc_name"></variable>
  <variable name="obj"></variable>
  <variable name="org">天宗</variable>
  <variable name="orgin">ed</variable>
  <variable name="orgout">wu</variable>
  <variable name="passive_kill">0</variable>
  <variable name="passive_list">无须老人|风入松|金花娘|郭灭|金童|胡姥姥|萧伯贤</variable>
  <variable name="passive_skill"></variable>
  <variable name="path">sd;ed;n;w;w;wd;w;w;n;w;wd;wd;wd;ayb;mag;center;blue</variable>
  <variable name="pfm">pfm_yljx</variable>
  <variable name="pfm_lhbb">1</variable>
  <variable name="pfm_lhbb1">0</variable>
  <variable name="pfm_lhbb2">0</variable>
  <variable name="pfm_lhbb_fail">0</variable>
  <variable name="player_id"></variable>
  <variable name="player_list">Stmanc|Llz|Mjer|Yanqing|Aimi|Ying|Lacus|Mzxz|Nianyyy|Fenglinc|Bzd|Baiyang|Niany|Xxwy|Gun|Mzxa|Buzhidao|Mzxf|Aroyd|Lotus|Llc|Kuia|Linglong|Xydmh|Hser|Nemb|Stman|Xuzy|Dwggjc|Mzxe|Cter|Mzxq|Jennifer|Mzxy|Sdsde|Aroy|Rhx|Zhua|Lld|Lxj|Niannf|Yujl|Xydmb|Mutalisk|Xydmd|Medic|Xydmg|Aaron|Fenglink|Starfish|Xydme|Mice|Wan|Pipi|Sdsdc|Aron|Treey|Qwas|Talis|Dark|Zealotd|Dragon|Niani|Zealotaj|Aroyj|Niannn|Horse|Pingfan|Dwggja|Xbao|Fenglin|Fantuang|Sdsdb|Fantuanh|Fenglina|Fantuanj|Talisman|Fantuani|Nian|Fantuanc|Mzxfsc|Fantuana|Fenglinf|Zhupan|Sdsdk|Fantuank|Date|Fantuanb|Fstman|Fantuand|Jinniu|Fantuane|Sdsdo|Fantuanf|Xwy|Yogion|Xydmf|Xydmi|Fenglinb|Kame|Zealota|Zergling|Cmkg|Adu|Mojie|Lla|Xydma|Llb|Mzx|Bobo|Lnf|Xll|Sdsd|Skgame|Sdsdp|Dwggjb|Kuib|Zhuzhu|Oak|Richard|Sdsdi|Keye|Chaoren|Wushuang|Tgxy|Xhai|Tiao|Sdsdn|Ironman|Sdsdq|Aaroy|Sdsdm|Niannc|Sdsdd|Lyghc</variable>
  <variable name="player_name">小珠</variable>
  <variable name="pots">10000</variable>
  <variable name="priest">0</variable>
  <variable name="qnpc_name">蓝天锤</variable>
  <variable name="quest">0</variable>
  <variable name="reconnect">0</variable>
  <variable name="refresh_dingpeng">0</variable>
  <variable name="refresh_guqingfeng">0</variable>
  <variable name="refresh_huying">0</variable>
  <variable name="refresh_lighter">0</variable>
  <variable name="refresh_longwu">0</variable>
  <variable name="refresh_mugui">0</variable>
  <variable name="refresh_riyue">0</variable>
  <variable name="refresh_rope">0</variable>
  <variable name="refresh_seller">0</variable>
  <variable name="refresh_shiyi">0</variable>
  <variable name="refresh_shouhuan">0</variable>
  <variable name="refresh_tangqing">0</variable>
  <variable name="refresh_xiaochun">0</variable>
  <variable name="refresh_yeguo">0</variable>
  <variable name="revive_num">1</variable>
  <variable name="rq">bag</variable>
  <variable name="rq_type">body</variable>
  <variable name="save">0</variable>
  <variable name="sell_mugui">0</variable>
  <variable name="sell_tribuli">1</variable>
  <variable name="setmark_location">风云天下</variable>
  <variable name="setmark_time">900</variable>
  <variable name="skill_level">1000</variable>
  <variable name="skill_level2">1100</variable>
  <variable name="skill_list">燕十三剑法|13-sword|406|禽言兽语|animal-talk|299|训兽术|animal-training|301|暗香浮影|anxiang-steps|448|搏浪七杀|assasin-hammer|96|基本斧法|axe|162|白家拳法|bai-quan|252|蝙蝠刀法|bat-blade|146|乞讨之术|begging|99|赌博之术|betting|4|基本刀法|blade|949|密宗大手印|bloodystrike|99|婆萝蜜多心经|bolomiduo|250|大乘佛法|buddhism|1000|书法|calligraphy|1|通天降|celecurse|999|易经|changelaw|248|少林长拳|changquan|150|诵经|chanting|1500|倒乱七星步|chaos-steps|249|媚术|charm|951|幻风飘云舞|cloud-dance|250|淡云心法|cloudforce|2900|降头术|cursism|500|短兵刃|dagger|499|打狗棒法|dagou-stick|250|道德经|daode|99|天地人魔心法|demon-force|498|如意人魔连环八步|demon-steps|1000|青冥魔咒|devil-spells|101|蝶恋花剑法|diesword|424|纵跃闪躲之术|dodge|924|野狗步法|doggiesteps|108|吹血神功|doomforce|1|寒天吹血剑法|doomsword|500|修养术|dormancy|924|降龙十八掌|dragonstrike|99|云梦五花锦|dream-herb|250|独孤九剑|dugu-sword|30|毒经心法|dujing-force|1626|鹰爪功|eagle-claw|379|八识神通|essencemagic|1001|秋风步法|fall-steps|248|梵文|fanwen|101|飞仙步法|feixian-steps|499|非冤布毒术|feiyuancurse|105|风雨飘香步|fengyu-piaoxiang|392|内功心法|force|1000|占卜学|foreknowledge|951|谷衣心法|gouyee|1|基本锤法|hammer|500|寒梅心法|hanmei-force|450|寒山掌法|hanshan-strike|149|鲲鹏步法|hawk-steps|417|药道|herb|1089|秋水剑法|huanhua-sword|249|混沌功|huntunforce|273|秀莲心法|iceforce|3484|冰心诀|iceheart|499|修仙术|incarnation|779|铁布衫|iron-cloth|949|红绸剑器|jianqi-dagger|500|金刚不坏功|jin-gang|49|金殿纵火法|jindian-fire|101|净衣心法|jingyiforce|180|观音六字明咒|kwan-yin-spells|50|密宗佛法|lamaism|48|密宗杖法|lamastaff|98|左手剑|lefthand-sword|151|莲心影现刀法|lianxin-blade|375|离别剑法|libie-sword|499|离别心法|libieforce|424|读书识字|literate|450|市井流氓拳|liumang-strike|100|流泉步法|liuquan-steps|999|苍生诀|longlife-force|250|落日神拳|luoriquan|497|法术|magic|1000|满天花雨|mantian-huayu|1450|麻婆寒练术|mapo|1000|一剪梅花手|meihua-shou|152|幻梦步法|meng-steps|143|圆月魔刀|moon-blade|925|四照心法|moonforce|1000|基本轻功|move|946|琴道|music|500|三清道术|necromancy|1|踏雪无痕|notracesnow|99|画道|painting|101|盘古九式|pangu-hammer|999|拆招卸力之法|parry|380|听风辨器之术|perception|749|菩提虚空步法|puti-steps|24|菩提心法|putiforce|500|乾坤大挪移掌|qiankunstrike|100|棋道|qidaoforce|251|清风十三式|qingfeng-sword|148|清平内功|qingpingforce|251|清平剑法|qingpingsword|250|七杀剑法|qisha-sword|426|虬枝剑式|qiuzhi-sword|151|七星法|qixing|99|符之术|scratching|97|三清符术|scratmancy|1|迷踪幻影步法|shadowsteps|251|神机刀法|shenji-blade|939|神机步法|shenji-steps|5|四奇剑法|siqi-sword|500|六阴追魂剑法|six-chaos-sword|404|幻念聆音|six-sense|251|碧空步法|sky-steps|925|南天剑法|sky-sword|1106|碧空心法|skyforce|925|蛇王鞭法|snake-whip|500|雪影剑法|snowshade-sword|100|清风细雨温柔剑|softsword|901|基础枪法|spear|399|咒术|spells|999|春雨剑法|spring-sword|431|春水罗衫|spring-water|251|春雨刀法|springrain-blade|160|基础杖法|staff|198|妙手空空之技|stealing|199|兵法|strategy|949|随缘无忧剑法|suiyuan-sword|406|驱蛇阵法|summonsnake|274|唤狼术|summonwolf|249|基本剑法|sword|951|太极剑法|taiji-sword|250|太极心法|taijiforce|150|弹指神通|tanzhi-shentong|450|柔虹指|tenderzhi|250|三才剑法|three-sword|425|暗器使用|throwing|1175|天雷破|thunderwhip|999|铁血十二势|tie-steps|23|扑击格斗之技|unarmed|951|基础鞭术|whip|500|急风三十六式|windy-steps|245|天狼血咒|wolf-curse|71|天狼心法|wolf-force|140|天狼百破拳|wolf-strike|130|悠游无尘步|wuchen-steps|105|无尘心法|wuchenforce|154|无争心法|wuzheng-force|247|新月斩|xinyue-dagger|499|秀山引水功|xioushan-water|151|息若刀法|xiruo-blade|350|洗髓经|xisui|99|血魔掌法|xuemo-strike|949|雪野潜踪|xueyeqianzong|149|血战枪法|xuezhan-spear|380|混元一气功|yiqiforce|2000|瑜珈|yoga|1000</variable>
  <variable name="skill_list_all">九幽身法|ghost-steps|1|七十二路判官笔|72-panguan|1|十三太保横练|henglian|1|血魔掌法|xuemo-strike|1|南天剑法|sky-sword|1|毒经心法|dujing-force|1|灵犀指|lingxi-zhi|1|七星拳|wudang-quan|1|满天花雨|mantian-huayu|1|一刀流剑术|ittouryu|1|密宗法轮|lamahammer|1|密宗杖法|lamastaff|1|幻念聆音|six-sense|1|云梦五花锦|dream-herb|1|轩辕斧法|xuanyuan-axe|1|急风三十六式|windy-steps|1|苍生诀|longlife-force|1|姹女神功|nine-moon-spirit|1|新月斩|xinyue-dagger|1|地狱狼魂爪|wolf-claw|1|雪野潜踪|xueyeqianzong|1|天狼百破拳|wolf-strike|1|幻风飘云舞|cloud-dance|1|摘心手|zhaixin-claw|1|弹指神通|tanzhi-shentong|1|寒梅心法|hanmei-force|1|暗香浮影|anxiang-steps|1|玄心奥妙决|xuanxinjue|1|虬枝剑式|qiuzhi-sword|1|春雨刀法|springrain-blade|1|四照心法|moonforce|1|红绸剑器|jianqi-dagger|1|青冥魔咒|devil-spells|1|天邪掌法|celestrike|1|黯然销魂剑法|xiaohun-sword|1|离别心法|libieforce|1|碧空步法|sky-steps|1|清风十三式|qingfeng-sword|1|搏浪七杀|assasin-hammer|1|天狼心法|wolf-force|1|天狼血咒|wolf-curse|1|太极剑法|taiji-sword|1|驱蛇阵法|summonsnake|1|春雨剑法|spring-sword|1|蛇王鞭法|snake-whip|1|七杀剑法|qisha-sword|1|画道|painting|1|琴道|music|1|圆月魔刀|moon-blade|1|离别剑法|libie-sword|1|海渊剑法|haiyuan-sword|1|蝶恋花剑法|diesword|1|棋艺|chess|1|媚术|charm|1|书法|calligraphy|1|训兽术|animal-training|1|禽言兽语|animal-talk|1|炼丹术|alchemy|1|燕十三剑法|13-sword|1|静行心法|jingxing|1|秋风步法|fall-steps|1|流泉步法|liuquan-steps|1|大旗风云剑|fy-sword|1|冰心诀|iceheart|1|四奇剑法|siqi-sword|1|兵法|strategy|1|非冤布毒术|feiyuancurse|1|清平内功|qingpingforce|1|平常剑法|typical-sword|1|铁血十二势|tie-steps|1|随缘无忧剑法|suiyuan-sword|1|意寒神功|iceforce|1|飞龙探云手|flying-dragon|1|无尘心法|wuchengforce|1|短兵刃|dagger|1|仙境心法|xianjing|1|病维摩拳|ill-quan|1|野狗步法|doggiesteps|1|寒天吹血剑法|doomsword|1|少林长拳|changquan|1|密宗大手印|bloodystrike|1|无坎真阴|ghosty-force|1|五瓣兰刀法|tang-blade.c|1|鲲鹏步法|hawk-steps|1|寒雪鞭法|snowwhip|1|太虚幻步|ghosty-steps|1|基本刀法|blade|1|基本硬功|iron-cloth|1|九阴心经|nine-moon-force|1|浣花步法|huanhua-steps|1|降龙十八掌|dragonstrike|1|岳家中平枪法|yue-spear|1|唐门千秋步|tang-steps|1|鹰王神爪|eagle-claw|1|吹血步法|doomsteps|1|春水罗衫|spring-water|1|樱花剑道|yinghua-sword|1|雪影剑法|snowshade-sword|1|小乘心经|xiaochengforce|1|莲华心法|lotusforce|1|如意地魔连环八掌|demon-strike|1|无尘心法|wuchenforce|1|柔虹指|tenderzhi|1|非冤布毒术|feiyuancurse|1|无尘步法|nodust-steps|1|反转流星锤法|liuxing-hammer|1|伏蛟功|serpentforce|1|短歌刀法|shortsong-blade|1|唐诵|tangforce|1|空手道|kongshoudao|1|清平剑法|qingpingsword|1|乾坤无形|qiankunwuxing|1|三清符术|scratmancy|1|落日神拳|luoriquan|1|九阴赤炼剑法|nine-moon-sword|1|玉平短兵刃|yuping-dagger|1|迷踪幻影步法|shadowsteps|1|道德经|daode|1|婆萝蜜多心经|bolomiduo|1|虎掌|tigerstrike|1|韦陀伏魔杖法|fumostaff|1|蝙蝠刀法|bat-blade|1|基本锤法|hammer|1|混元一气功|yiqiforce|1|杀人剑法|sharen-sword|1|秋水剑法|huanhua-sword|1|八识神通|essencemagic|1|读书识字|literate|1|踏雪无痕|notracesnow|1|大摔碑手|shuaibei|1|独孤九剑|dugu-sword|1|太极拳|taiji|1|飞仙步法|feixian-steps|1|金虹步法|jinhong-steps|1|金殿纵火法|jindian-fire|1|打听之术|inquiry|1|悠游无尘步|wuchen-steps|1|龙凤双环|longfenghuan|1|妙手空空之技|stealing|1|咒术|spells|1|九阴白骨爪|nine-moon-claw|1|寒天神掌|doomstrike|1|樱花步法|yinghua-steps|1|基本斧法|axe|1|达摩易筋经|damoforce|1|五瓣兰刀法|tang-blade|1|泼风掌|pofeng-strike|1|菩提虚空步法|puti-steps|1|谷衣心法|gouyee|1|大路拳法|daluquan|1|无争心法|wuzheng-force|1|梵文|fanwen|1|秋声刀法|qiusheng-blade|1|修养术|dormancy|1|基础枪法|spear|1|摔跤|shuaijiao|1|倒乱七星步法|chaos-steps|1|纵跃闪躲之术|dodge|1|听风辨器之术|perception|1|法术|magic|1|大旗风云剑|fy-sword|1|三才剑法|three-sword|1|五展梅剑法|zhao-sword|1|凌波微步|linbo-steps|1|息若刀法|xiruo-blade|1|雪影心法|snowshade-force|1|九阴身法|nine-moon-steps|1|碧空心法|skyforce|1|金刚不坏功|jin-gang|1|基本轻功|move|1|暗器使用|throwing|1|易经|changelaw|1|太极心法|taijiforce|1|天邪神功|celestial|1|春风快意刀法|spring-blade|1|流氓神拳|liumang-strike|1|莲心影现刀法|lianxin-blade|1|油流麻香手|spicyclaw|1|陆奥圆明流拳术|enmeiryu|1|天地人魔心法|demon-force|1|血战枪法|xuezhan-spear|1|占卜学|foreknowledge|1|降头术|cursism|1|吹血神功|doomforce|1|洗髓经|xisui|1|迎风一刀斩|wind-blade|1|大乘佛法|buddhism|1|唐门暗器|tang-throwing|1|七宝天岚舞|stormdance|1|基础杖法|staff|1|天师正道|taoism|1|符之术|scratching|1|淡云心法|cloudforce|1|如意天魔连环八式|demon-blade|1|风雨飘香步|fengyu-piaoxiang|1|形意六合棍|xingyi-stick|1|清风细雨温柔剑|softsword|1|忍术|ninjitsu|1|观音六字明咒|kwan-yin-spells|1|孝道|xiaodao|1|五行身法|five-steps|1|基础鞭术|whip|1|白家拳|bai-quan|1|大乘心经|dachengforce|1|乾坤大挪移掌|qiankunstrike|1|步玄心法|mystforce|1|混沌功|huntunforce|1|盘古九式|pangu-hammer|1|浪女唤郎术|summonwolf|1|占卜学|foreknowlege|1|基本叉法|fork|1|如意人魔连环八步|demon-steps|1|七星法|qixing|1|幻梦步法|meng-steps|1|唐诵|tangforce|1|飞仙剑法|feixian-sword|1|云雾掌法|yunwu-strike|1|麻婆寒练术|mapo|1|梵音天龙鞭法|tianlongwhip|1|说话|talk|1|秀山引水功|xioushan-water|1|净衣心法|jingyiforce|1|飞刀绝技|feidao|1|左手剑|lefthand-sword|1|满江红心法|manjianghong|1|小步玄剑|mystsword|1|神机刀法|shenji-blade|1|药道|herb|1|寒山掌法|hanshan-strike|1|拆招卸力之法|parry|1|一阳指|yiyangzhi|1|华山身法|huashan-steps|1|基本剑术|sword|1|天雷破|thunderwhip|1|嫁衣神功|jiayiforce|1|菩堤心法|putiforce|1|叫化子术|begging|1|修仙术|incarnation|1|忘情天书|noloveforce|1|通天降|celecurse|1|扑击格斗之技|unarmed|1|白云杖法|cloudstaff|1|紫霞神功|zixia-force|1|断魂枪|duanhun-spear|1|用人之技|leadership|1|蝶恋花剑法|deisword|1|银蛇杖法|yinshe-stick|1|步玄七诀|mysterrier|1|悟彻波风斧法|wuche-axe|1|火蝠身法|pyrobat-steps|1|打狗棒法|dagou-stick|1|唐门千秋步|tang-steps|1|内功心法|force|1|棋道|qidaoforce|1|神机步法|shenji-steps|1|碧波心法|bibo-force|1|大悲千叶掌法|dabei-strike|1|寒山十八式|hanshan-sword|1|赌博之术|betting|1|一剪梅花手|meihua-shou|1|六阴追魂剑法|six-chaos-sword|1|醉仙望月步|zuixian-steps|1|云海心法|cloudsforce|1|密宗佛法|lamaism|1|瑜珈|yoga|1|诵经|chanting|1|三清道术|necromancy|1|灵蛛剑阵|spider-array|1|修炼通灵之术|1|evolution|1</variable>
  <variable name="skill_name">yoga</variable>
  <variable name="skill_next">0</variable>
  <variable name="skill_num">2</variable>
  <variable name="skill_refresh">1</variable>
  <variable name="sq_ask_guard">600</variable>
  <variable name="sq_ci">0</variable>
  <variable name="sq_id">tty</variable>
  <variable name="sq_immortal">0</variable>
  <variable name="sq_sm">0</variable>
  <variable name="step">0</variable>
  <variable name="steps">17</variable>
  <variable name="stop">0</variable>
  <variable name="sword">sword</variable>
  <variable name="target_die">0</variable>
  <variable name="target_id">hate</variable>
  <variable name="target_name">炎</variable>
  <variable name="tick">um</variable>
  <variable name="time">day</variable>
  <variable name="timer">124</variable>
  <variable name="timer_topaz">0</variable>
  <variable name="tribuli_ask">1</variable>
  <variable name="tribuli_time">0</variable>
  <variable name="tty">0</variable>
  <variable name="tty_num">1</variable>
  <variable name="tty_result">1</variable>
  <variable name="tx_juqi">0</variable>
  <variable name="tz_guard">40</variable>
  <variable name="uptime_fix">10</variable>
  <variable name="usedan">0</variable>
  <variable name="useding">1</variable>
  <variable name="usejw">1</variable>
  <variable name="usekd">0</variable>
  <variable name="uselhbb">0</variable>
  <variable name="uselr">0</variable>
  <variable name="uselr_list">芮玮|高莫静</variable>
  <variable name="useother">0</variable>
  <variable name="useother_list">芮玮|高莫静</variable>
  <variable name="useplane">1</variable>
  <variable name="usesrz">1</variable>
  <variable name="useyy">0</variable>
  <variable name="useyy_list">芮玮|高莫静</variable>
  <variable name="wait">0.1</variable>
  <variable name="wm_boat">1</variable>
  <variable name="xg_drift_sum">0</variable>
  <variable name="xg_dzs">1</variable>
  <variable name="xg_fjc">bc|dz|qjl|wm|dmb|cx|cxn|dmcs2|dmcs3|khl1|khl2|ls|tx|hs|xj|yl|zb1|zb2|zb3</variable>
  <variable name="xg_id">fatfat</variable>
  <variable name="yangfan">0</variable>
  <variable name="yantai">0</variable>
  <variable name="yl_gdm">0</variable>
  <variable name="yl_gdm_follow">0</variable>
  <variable name="yl_go">1</variable>
  <variable name="youzhi_bag">0</variable>
  <variable name="youzhi_body">0</variable>
  <variable name="youzhi_mugui">195</variable>
  <variable name="youzhi_num">5</variable>
  <variable name="youzhi_sum">1</variable>
</variables>

<!-- colours -->

<colours
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >

<ansi>

 <normal>
   <colour seq="1" rgb="black" />
   <colour seq="2" rgb="maroon" />
   <colour seq="3" rgb="green" />
   <colour seq="4" rgb="olive" />
   <colour seq="5" rgb="navy" />
   <colour seq="6" rgb="purple" />
   <colour seq="7" rgb="teal" />
   <colour seq="8" rgb="silver" />

 </normal>

 <bold>
   <colour seq="1" rgb="gray" />
   <colour seq="2" rgb="red" />
   <colour seq="3" rgb="lime" />
   <colour seq="4" rgb="yellow" />
   <colour seq="5" rgb="blue" />
   <colour seq="6" rgb="magenta" />
   <colour seq="7" rgb="cyan" />
   <colour seq="8" rgb="white" />

 </bold>

</ansi>

<custom>
  <colour seq="1" name="Custom1" text="#FF8080" back="black" />
  <colour seq="2" name="Custom2" text="#FFFF80" back="black" />
  <colour seq="3" name="Custom3" text="#80FF80" back="black" />
  <colour seq="4" name="Custom4" text="#80FFFF" back="black" />
  <colour seq="5" name="Custom5" text="#0080FF" back="black" />
  <colour seq="6" name="Custom6" text="#FF80C0" back="black" />
  <colour seq="7" name="Custom7" text="red" back="black" />
  <colour seq="8" name="Custom8" text="#0080C0" back="black" />
  <colour seq="9" name="Custom9" text="magenta" back="black" />
  <colour seq="10" name="Custom10" text="#804040" back="black" />
  <colour seq="11" name="Custom11" text="#FF8040" back="black" />
  <colour seq="12" name="Custom12" text="teal" back="black" />
  <colour seq="13" name="Custom13" text="#004080" back="black" />
  <colour seq="14" name="Custom14" text="#FF0080" back="black" />
  <colour seq="15" name="Custom15" text="green" back="black" />
  <colour seq="16" name="Custom16" text="blue" back="black" />

</custom>
</colours>

<!-- keypad -->

<keypad
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >

  <key name="0" >
  <send>look</send>
  </key>

  <key name="1" >
  <send>sw</send>
  </key>

  <key name="2" >
  <send>south</send>
  </key>

  <key name="3" >
  <send>se</send>
  </key>

  <key name="4" >
  <send>west</send>
  </key>

  <key name="5" >
  <send>WHO</send>
  </key>

  <key name="6" >
  <send>east</send>
  </key>

  <key name="7" >
  <send>nw</send>
  </key>

  <key name="8" >
  <send>north</send>
  </key>

  <key name="9" >
  <send>ne</send>
  </key>

  <key name="." >
  <send>hide</send>
  </key>

  <key name="/" >
  <send>inventory</send>
  </key>

  <key name="*" >
  <send>score</send>
  </key>

  <key name="-" >
  <send>up</send>
  </key>

  <key name="+" >
  <send>down</send>
  </key>

  <key name="Ctrl+0" >
  </key>

  <key name="Ctrl+1" >
  </key>

  <key name="Ctrl+2" >
  </key>

  <key name="Ctrl+3" >
  </key>

  <key name="Ctrl+4" >
  </key>

  <key name="Ctrl+5" >
  </key>

  <key name="Ctrl+6" >
  </key>

  <key name="Ctrl+7" >
  </key>

  <key name="Ctrl+8" >
  </key>

  <key name="Ctrl+9" >
  </key>

  <key name="Ctrl+." >
  </key>

  <key name="Ctrl+/" >
  </key>

  <key name="Ctrl+*" >
  </key>

  <key name="Ctrl+-" >
  </key>

  <key name="Ctrl++" >
  </key>
</keypad>

<!-- printing -->

<printing
   muclient_version="4.94"
   world_file_version="15"
   date_saved="2016-10-24 11:40:21"
  >

<ansi>

 <normal>

 </normal>

 <bold>
   <style seq="1" bold="y" />
   <style seq="2" bold="y" />
   <style seq="3" bold="y" />
   <style seq="4" bold="y" />
   <style seq="5" bold="y" />
   <style seq="6" bold="y" />
   <style seq="7" bold="y" />
   <style seq="8" bold="y" />

 </bold>

</ansi>
</printing>

<!-- plugins -->
</muclient>
