<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Friday, July 25, 2014, 10:48 PM -->
<!-- MuClient version 4.84 -->
<!-- Written by Nick Gammon -->
<!-- Home Page: http://www.mushclient.com/ -->
<muclient>

<!-- triggers -->

<triggers
   muclient_version="4.84"
   world_file_version="15"
   date_saved="2014-07-25 22:48:05"
  >
  <trigger
   group="taskmove"
   keep_evaluating="y"
   match="(\S+)\((?P&lt;iname&gt;.+)\)$"
   regexp="y"
   send_to="12"
   sequence="10"
  >
  <send>var i="%&lt;iname&gt;".toLowerCase();
//world.note(i);
if (world.arrayGet("taskalllist",i)==i){
world.note("---&gt;TASK located task "+i);
world.arraySet("tasklocatedlist",i,i);
}else if (!world.arrayKeyExists("taskdangernpclist",i)){
//local objects
var n=1;
while (world.arrayKeyExists("tasknpclist",i+" "+n)){
n=n+1;
}
i=i+" "+n;
world.arraySet("tasknpclist",i,i);
//world.note("task npc:"+i);
}
</send>
  </trigger>
  <trigger
   group="tasklocate"
   keep_evaluating="y"
   match="(\S+)\((?P&lt;iname&gt;\D+)\)$"
   regexp="y"
   send_to="12"
   sequence="10"
  >
  <send>var i="%&lt;iname&gt;".toLowerCase();
//world.note(i);
if (world.arrayGet("taskalllist",i)==i){
world.note("---&gt;TASK located task "+i);
world.arraySet("tasklocatedlist",i,i);
}
</send>
  </trigger>
  <trigger
   group="taskreturn"
   match="(\S+)\((?P&lt;iname&gt;\D+)\)$"
   regexp="y"
   send_to="12"
   sequence="10"
  >
  <send>var i="%&lt;iname&gt;".toLowerCase();
//world.arraySet("taskfoundlist",i,i);
if (world.arrayGet("taskalllist",i)==i){
world.note("return task:"+i);
varMyQueue1.enqueue(i);
}</send>
  </trigger>
  <trigger
   enabled="y"
   match="MudOS driver tells you: You have no heart beat!"
   regexp="y"
   sequence="10"
  >
  <send>burn</send>
  </trigger>
  <trigger
   group="tasklist"
   match="\『(?P&lt;cname&gt;\D+)\』\((?P&lt;ename&gt;\D+)\)(.*)\『(?P&lt;cname2&gt;\D+)\』\((?P&lt;ename2&gt;\D+)\)"
   regexp="y"
   send_to="12"
   sequence="10"
  >
  <send>//world.note("%&lt;ename&gt; %&lt;ename2&gt;");
var t="%&lt;ename&gt;";
if (t!="bstu" &amp;&amp; t!="feicui-pin" &amp;&amp; t!="huaqun" &amp;&amp; t!="handkerchief" &amp;&amp; t!="jiledan" &amp;&amp; t!="magrobe" &amp;&amp; t!="quman" &amp;&amp; t!="wave-hammer"){
world.ArraySet("taskalllist",t,t);
world.ArraySet("taskavailablelist",t,t);
}
t="%&lt;ename2&gt;";
if (t!="bstu" &amp;&amp; t!="feicui-pin" &amp;&amp; t!="huaqun" &amp;&amp; t!="handkerchief" &amp;&amp; t!="jiledan" &amp;&amp; t!="magrobe" &amp;&amp; t!="quman" &amp;&amp; t!="wave-hammer" ){
world.ArraySet("taskalllist",t,t);
world.ArraySet("taskavailablelist",t,t);
}
</send>
  </trigger>
  <trigger
   group="mission-kill"
   match="李坏目不转睛地盯着你，准备发出致命一击。"
   regexp="y"
   sequence="10"
  >
  <send>burn</send>
  </trigger>
  <trigger
   enabled="y"
   group="move"
   match="你要对谁耳语些什麽？|阋对谁耳语些什麽?"
   regexp="y"
   send_to="12"
   sequence="10"
  >
  <send>var m=world.getVariable("varMoveCommand");
if (m==null || m=="" || m=="none"){
 var a=getNextMove();
 if (a==null || a==""){
  world.note("---&gt; AutoMove: all moves done");
 }else{
  if (a.indexOf(";;")&gt;0) a=a.replace(";;",";");
  world.note("---&gt; AutoMove: "+a);
  world.doafterspecial(0.5,a,10);
 }
}else{
  world.note("---&gt; Execute move command: "+m);
  world.doafterspecial(0.5,m,10);
//  world.execute(m);
}
</send>
  </trigger>
  <trigger
   group="tasklocate"
   match="(\S+)(\s+)=(\s+)(?P&lt;iname&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="30"
  >
  <send>var i="%&lt;iname&gt;".toLowerCase();
//world.note(i);
if (world.arrayGet("taskalllist",i)==i){
world.note("---&gt;TASK located task "+i);
world.arraySet("tasklocatedlist",i,i);
}</send>
  </trigger>
  <trigger
   group="taskmove"
   keep_evaluating="y"
   match="^(?P&lt;locname&gt;\S+)$"
   regexp="y"
   send_to="12"
   sequence="30"
  >
  <send>world.setVariable("varTaskLastLocation","%&lt;locname&gt;");
//world.note("task location:"+"%&lt;locname&gt;");
</send>
  </trigger>
  <trigger
   group="taskmove"
   keep_evaluating="y"
   match="^&gt;(\s)(?P&lt;locname&gt;\S+)$"
   regexp="y"
   send_to="12"
   sequence="30"
  >
  <send>world.setVariable("varTaskLastLocation","%&lt;locname&gt;");
//world.note("task location:"+"%&lt;locname&gt;");
</send>
  </trigger>
  <trigger
   enabled="y"
   match="突然，几个衣衫褴褛的劫匪从暗处跳了出来，打叫道：“快抢银子啊，抢了就回村！"
   regexp="y"
   sequence="30"
  >
  <send>forgive yes
give silver to leader</send>
  </trigger>
  <trigger
   group="fly"
   match="中止"
   regexp="y"
   send_to="12"
   sequence="30"
  >
  <send>world.send("whisper");
world.enableGroup("fly",0);
</send>
  </trigger>
  <trigger
   group="jiedume"
   match="终于发作光了"
   regexp="y"
   send_to="12"
   sequence="30"
  >
  <send>world.execute("eat jiduan");
world.enableGroup("jiedume",0);
world.setVariable("varInPoison",0);</send>
  </trigger>
  <trigger
   group="jiedume"
   match="蝙蝠剧毒发作了"
   regexp="y"
   send_to="12"
   sequence="30"
  >
  <send>world.note("---&gt; in poison");
world.setVariable("varInPoison",1);</send>
  </trigger>
  <trigger
   group="mission-action"
   match="【队伍】(.+)：mission-abort$"
   regexp="y"
   send_to="10"
   sequence="40"
  >
  <send>burn
use pill
stopp</send>
  </trigger>
  <trigger
   group="jiedu"
   keep_evaluating="y"
   match="你成功地逼出体内的巨毒！"
   regexp="y"
   send_to="12"
   sequence="40"
  >
  <send>world.enableGroup("jiedu",0);
world.setVariable("varPoison",0);
world.doAfterSpecial(1,"whisper",10);
</send>
  </trigger>
  <trigger
   enabled="y"
   match="突然，几个劫匪从暗处跳了出来，阴笑道：“货和人命都留下来吧！。"
   regexp="y"
   send_to="10"
   sequence="40"
  >
  <send>k robber
k robber 2
k robber 3
k robber 4
k robber 5
k robber 6
ss1</send>
  </trigger>
  <trigger
   enabled="y"
   match="小人上有八十老母，下有三岁子女，一家老少全靠我撑着啊！"
   regexp="y"
   sequence="40"
  >
  <send>forgive yes
give silver to leader</send>
  </trigger>
  <trigger
   group="returntaskitem"
   match="= (?P&lt;iname&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>var n="%&lt;iname&gt;";
var i=n.indexOf(",");
if (i&gt;0)
n=n.substr(0,i);
if (world.arrayGet("listTaskItem",n)!=null){
world.note("---&gt; task item:"+n);
varMyQueue5.enqueue(n);
}
</send>
  </trigger>
  <trigger
   group="returntaskitem2"
   match="= (?P&lt;iname&gt;.+),(.*)$"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>var n="%&lt;iname&gt;";
if (world.arrayGet("listTaskItem",n)!=null){
world.note("---&gt; task item:"+n);
varMyQueue5.enqueue(n);
}

</send>
  </trigger>
  <trigger
   group="savetaskitem2"
   match="= (?P&lt;iname&gt;.+),(.*)$"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>var n="%&lt;iname&gt;";
if (world.arrayGet("listTaskItem",n)!=null){
world.note("---&gt; task item:"+n);
varMyQueue5.enqueue(n);
}

</send>
  </trigger>
  <trigger
   group="mission-ask"
   match="【队伍】(.+)：mission-location-unknown|组织现在还没有关于(.+)的情报。"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.note("---&gt; unknown mission location");
var fs=world.getvariable("varMissionFengsan");
var t=world.getvariable("varMissionTarget");

if (fs=="yes" &amp;&amp; t!="feng san"){
//fengsan logic
world.execute("missionAsk");

}else if (t=="unknown"){
world.execute("missionAsk");

}else{
world.enablegroup("mission-ask",0);
world.execute("missionLocate");
}</send>
  </trigger>
  <trigger
   enabled="y"
   match="【风云】巡逻士兵默默地走了，风中飘散的长发"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.note("---&gt; REFRESH NOW");
world.setvariable("varBanditLocationFY",0);
world.setvariable("varBanditLocationCX",0);
world.setvariable("varBanditLocationNH",0);
world.setvariable("varBanditLocationGW",0);
var c=world.getvariable("varRefreshCommand");
if (c!=null &amp;&amp; c!="" &amp;&amp; c!="none"){
world.note("---&gt;refresh command :"+c);
world.execute(c);
}


</send>
  </trigger>
  <trigger
   group="qjl_swim"
   match="荷花荡"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.enableGroup("qjl_swim",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="jump"
   match="你的精气神全得到了恢复！"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>var a=world.getVariable("varJumpCommand");
world.note("---&gt; jump command:"+a)
world.execute(a);
</send>
  </trigger>
  <trigger
   group="mission-action"
   match="你看起来已经力不从心了"
   regexp="y"
   sequence="50"
  >
  <send>use pill</send>
  </trigger>
  <trigger
   group="autokill"
   match="你上一个动作还没有完成！"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.doafterspecial(1,"get nothing123",10);</send>
  </trigger>
  <trigger
   group="jiedu"
   match="你上一个动作还没有完成，不能施用外功"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.doAfterSpecial(1,"perform herb.jiedu",10);</send>
  </trigger>
  <trigger
   group="mission-action"
   match="你似乎十分疲惫，看来需要好好休息了"
   regexp="y"
   send_to="10"
   sequence="50"
  >
  <send>use pill</send>
  </trigger>
  <trigger
   group="mission-action-fly"
   match="你似乎十分疲惫，看来需要好好休息了"
   regexp="y"
   send_to="10"
   sequence="50"
  >
  <send>use pill</send>
  </trigger>
  <trigger
   group="fly"
   match="你无法感受到这个人的内力"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.send("");
world.resetTimers();
world.deleteTemporaryTimers();
world.enableGroup("fly",0);
world.doAfterSpecial(1,"whisper",10);
</send>
  </trigger>
  <trigger
   group="savetaskitem"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.enableGroup("savetaskitem",0);
var i=1;
while (!varMyQueue5.isEmpty()){
world.doAfterSpecial(i*2-1,"cun "+varMyQueue5.dequeue(),10);
++i;
}
if (i==1)
world.execute("whisper");
else
world.doAfterSpecial(i*2-1,"whisper",10);
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>var zhanjia=world.getvariable("varCheckItemZhanjia");
var yeguo=world.getvariable("varCheckItemYeguo");
var sword=world.getvariable("varCheckItemSword");
var blade=world.getvariable("varCheckItemBlade");
var whip=world.getvariable("varCheckItemWhip");
var cash=world.getvariable("varCheckItemCash");
var ttcash=world.getvariable("varCheckItemTTCash");
var seal=world.getvariable("varCheckItemSeal");
var pill=world.getvariable("varCheckItemPill");

world.execute("missionCheckItemReset");
/*
if (zhanjia=="no"){
world.execute("south;south;south;east;buy zhanjia from xiangling;wear zhanjia");
world.doafterspecial(4,"id;west;north;north;north;ask",10);
}else 
*/
if (yeguo=="no"){
//world.execute("south;south;south;east;buy ye guo from xiangling;wear zhanjia");
//world.doafterspecial(4,"id;west;north;north;north;ask",10);
world.execute("gg0 ye guo");
world.doafterspecial(1,"id;ask",10);
}else if (cash=="no"){
world.execute("south;south;south;south;east;wit 900000");
world.doafterspecial(5,"id;west;north;north;north;north;ask",10);

}else if (ttcash=="no"){
world.execute("south;south;south;south;east;wit 1000000");
world.doafterspecial(5,"id;west;north;north;north;north;ask",10);

}else if (seal=="no"){
world.execute("north;west;west;west;north;buy back seal from xian;pp0 seal;buy back seal from xian;pp0 seal");
world.doafterspecial(1,"buy back seal from xian;pp0 seal;buy back seal from xian;pp0 seal;buy back seal from xian;pp0 seal;buy back seal from xian;pp0 seal;buy back seal from xian;pp0 seal",10);
world.doafterspecial(5,"gg0 seal;id;south;east;east;east;south;ask",10);

}else if (sword=="no"){
world.execute("north;north;north;north;north;west;buy sword from zhuge");
world.doafterspecial(5,"id;east;south;south;south;south;south;ask",10);

}else if (whip=="no"){
world.execute("north;north;north;north;north;west;buy whip from zhuge");
world.doafterspecial(5,"id;east;south;south;south;south;south;ask",10);

}else if (blade=="no"){
world.execute("north;north;north;north;north;west;buy blade from zhuge");
world.doafterspecial(5,"id;east;south;south;south;south;south;ask",10);

}else if (pill==0){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pillall-3");
world.doafterspecial(6,"east;id;ask",10);

}else if (pill==1){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pillall-2");
world.doafterspecial(6,"east;id;ask",10);

}else if (pill==2){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pillall-3");
world.doafterspecial(6,"east;id;ask",10);

}else{
world.enablegroup("mission-item",0);
world.execute("whisper");
}</send>
  </trigger>
  <trigger
   group="returntaskitem"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.enableGroup("returntaskitem",0);
var i=1;
initMove();
while (!varMyQueue5.isEmpty()){
var t=varMyQueue5.dequeue();
world.execute("setupTaskReturn "+t);
}
var a=world.getVariable("varAfterAction");
addMove2(a);
startMove(false);</send>
  </trigger>
  <trigger
   group="tasklocate"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.enableGroup("tasklocate",0);
var m=world.arraySize("tasklocatedlist");
if (m==0){
world.execute("tasklocatedone");
}else{
 var ts=world.arrayExportKeys("tasklocatedlist",",");
 var loctasks=ts.split(",");
 var j=0;
 var o=world.getVariable("varTaskLastObjects").split(";");
 var i=0;
 for (i=0;i&lt;loctasks.length;i++){
  var act="";
  world.arrayDeleteKey("taskavailablelist",loctasks[i]);
  world.arrayDeleteKey("taskarealist",loctasks[i]);
  world.arrayDeleteKey("tasknearbylist",loctasks[i]);
  act=act+"get "+loctasks[i]+";";
  if (world.getVariable("varTaskLastObjects")!=""){
   for (j=0;j&lt;o.length;j++){
    act=act+"get "+loctasks[i]+" from "+o[j]+";";
   }
  }
  act=act+"pp0 "+loctasks[i];
  world.doAfterSpecial(i+1,act,10);
 }
// act=act+"tasklocatedone";
 world.doAfterSpecial(loctasks.length+1,"tasklocatedone",10);
}
//world.setVariable("varTaskLastLocation","");
world.setVariable("varTaskLastObjects","");
world.arrayClear("tasklocatedlist");
</send>
  </trigger>
  <trigger
   enabled="y"
   match="你已经陷入半昏迷状态，神智全失，"
   regexp="y"
   sequence="50"
  >
  <send>use pill
burn</send>
  </trigger>
  <trigger
   group="heisong_up"
   match="什麽"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.doAfterSpecial(3,"talk xiaojun",10);</send>
  </trigger>
  <trigger
   group="mission-action"
   match="烟雾中出现了牛头马面，二话不说，将枷锁镣铐往你头上一套．．．．"
   regexp="y"
   send_to="10"
   sequence="50"
  >
  <send>stopp
tt mission-abort</send>
  </trigger>
  <trigger
   group="taskreward"
   match="这里无法使用神通。"
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.execute("noDir;west");
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(2,"goo2 "+t,10);</send>
  </trigger>
  <trigger
   group="mission-wait-summon"
   match="组织任务被(.+)完成，你被奖励了："
   regexp="y"
   send_to="12"
   sequence="50"
  >
  <send>world.note("---&gt; mission done during waiting summon");
world.enablegroup("mission-wait-summon",0);
initMove();
addMove2("w;wd;savePots");
addMove2("smk2");
addMove2("waitPoke lshui");
world.execute("waitSec 4");
//startMove();
</send>
  </trigger>
  <trigger
   group="savetaskitem"
   match="= (?P&lt;iname&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>var n="%&lt;iname&gt;";
var i=n.indexOf(",");
if (i&gt;0)
n=n.substr(0,i);
if (world.arrayGet("listTaskItem",n)!=null){
world.note("---&gt; task item:"+n);
varMyQueue5.enqueue(n);
}

</send>
  </trigger>
  <trigger
   group="qjl_in"
   match="打更的死了"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>world.enableGroup("qjl_in",0);
world.execute("pull ditan;down;whisper");</send>
  </trigger>
  <trigger
   group="mission-fly"
   match="看起来(.+)想杀死你！$"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>var t=world.getvariable("varMissionTarget");
world.execute("nian");
//world.execute("kill "+t+";nian;whistle;whistle");</send>
  </trigger>
  <trigger
   enabled="y"
   match="你摇头晃脑、歪歪斜斜，濒于晕倒"
   regexp="y"
   sequence="60"
  >
  <send>use pill</send>
  </trigger>
  <trigger
   group="check_box"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>world.enablegroup("check_box",0);
world.doafterspecial(2,"whisper",10);</send>
  </trigger>
  <trigger
   group="check_item"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>var e=world.getVariable("varItemPumpkin");
var c=world.getVariable("varItemCash");
var w=world.getVariable("varItemWineskin");
var jd=world.getVariable("varItemJade");
var yg=world.getVariable("varItemYeguo");
var sh=world.getVariable("varItemShouhuan");
var wp=world.getVariable("varItemWolfpen");
var bl=world.getVariable("varItemBuli");

/*
var j=world.getVariable("varItemJiduan");
var st=world.getVariable("varItemSalt");
var d=world.getVariable("varItemJiudai");
var l=world.getVariable("varItemluwei");
var z=world.getVariable("varItemZhanjia");
var g=world.getVariable("varItemLighter");
var p=world.getVariable("varItemPaper");
var c=world.getVariable("varItemCash");
var b=world.getVariable("varItemBook");
var h=world.getVariable("varItemShouhuan");
var r=world.getVariable("varItemRobe");
var x=world.getVariable("varItemXigua");
var bg=world.getVariable("varItemBag");
var sy=world.getVariable("varItemShouyu");
*/

world.execute("clearCheckItem");
if (yg&lt;1){
world.execute("gg ye guo");
world.doafterspecial(2,"id;ll0;ask",10);
//}else if (bl&lt;1){
//world.execute("gg 1000 tribuli");
//world.doafterspecial(2,"id;ll0;ask",10);
//}else if (w&lt;1){
//world.execute("gg wineskin");
//world.doafterspecial(2,"id;ll0;ask",10);
//}else if (wp&lt;1){
//world.execute("gg wolf pen");
//world.doafterspecial(2,"id;ll0;ask",10);
}else if (c&lt;1){
world.execute("out;#5 south;east;wit 900000");
world.doafterspecial(3,"west;#5 north;enter;id;ask",10);
}else{
world.enableGroup("check_item",0);
world.execute("whisper");
}

/*
world.execute("gg0 1 cash");
if (c&lt;1){
world.execute("south;south;south;south;south;east;wit 300000");
world.doAfterSpecial(3,"west;north;north;north;north;north;checkItem",10);
}else if (j&lt;2){
world.execute("south;east;buy jiduan from waiter");
world.doAfterSpecial(2,"west;north;checkItem",10);
}else if (h&lt;1){
world.execute("ask giftman about shouhuan;pp0 shouhuan;checkItem");
}else if (bg&lt;1){
world.execute("south;east;buy bag from waiter");
world.doAfterSpecial(2,"west;north;checkItem",10);
}else if (x&lt;1){
world.execute("south;east;buy xigua from waiter");
world.doAfterSpecial(2,"west;north;checkItem",10);
}else if (st&lt;1){
world.execute("ask giftman about salt;pp0 salt rock;checkItem");
}else if (r&lt;1){
world.execute("trans khl");
world.doAfterSpecial(1.5,"north;north;k fang xinqi;ss3",10);
world.doAfterSpecial(4.5,"gc robe;pp0 robe;trans gc",10);
world.doAfterSpecial(6,"east;north;north;north;checkItem",10);
}else if (sy&lt;1){
world.execute("trans sl");
world.doAfterSpecial(1.5,"ask master about 守经楼;answer 不怕;pp0 shouyu",10);
world.doAfterSpecial(2.5,"trans gc",10);
world.doAfterSpecial(4,"east;north;north;north;checkItem",10);
}else if (w&lt;1){
world.execute("trans gw");
world.doAfterSpecial(1.5,"west;south;south;south;east;buy wineskin from waiter;pp0 wineskin",10);
world.doAfterSpecial(2.5,"trans gc",10);
world.doAfterSpecial(4,"east;north;north;north;checkItem",10);
}else if (wp&lt;1){
world.execute("trans ls");
world.doAfterSpecial(1.5,"out;north;northeast;southeast;southeast;east;north;buy wolf pen from hao;pp0 wolf pen",10);
world.doAfterSpecial(2.5,"trans gc",10);
world.doAfterSpecial(4,"east;north;north;north;checkItem",10);
}else{
world.enableGroup("check_item",0);
world.execute("drop coin;pp0 cash;whisper");
}
*/</send>
  </trigger>
  <trigger
   group="check_hp"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>var j=world.getVariable("varMyJinRate");
var k=world.getVariable("varMyKeeRate");
var s=world.getVariable("varMyshenRate");
var f=world.getVariable("varMyFood");
var w=world.getVariable("varMyWater");
var sq=world.getVariable("varMySha");
if (f&lt;30 || w&lt;30){
world.execute("fd;hp;ask");
}else if (sq&gt;50){
world.execute("out;east;east;east;east;south;salute;hp");
world.doafterspecial(1,"north;west;west;west;west;enter;ask",10);
}else{
world.enableGroup("check_hp",0);
world.execute("whisper");
}

/*
if (j&lt;95 || k&lt;95 || s&lt;95){
var e=world.getVariable("varMyEnforce");
world.execute("aa0;ef "+e);
world.doAfterSpecial(2,"hp;ask",10);
}else{
world.enableGroup("check_hp",0);
world.execute("whisper");
}
*/</send>
  </trigger>
  <trigger
   group="check-weapon"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>var f=world.getvariable("varCheckWeaponLost");
world.enablegroup("check-weapon",0);
if (f==1){
world.execute("stopp");
}else{
world.execute("whisper");
}</send>
  </trigger>
  <trigger
   group="tasknpc2"
   match="刷新了,该干嘛干嘛去！"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>world.setVariable("varQuestCount",0);
world.setVariable("varRefresh",1);
initMove();
world.execute("stopp");
world.doAfterSpecial(2,"trans gc",10);
world.doAfterSpecial(4,"east;north;north;north",10);
world.doAfterSpecial(5,"startQuest",10);
</send>
  </trigger>
  <trigger
   group="qjl_in"
   match="这里没有这个人。"
   regexp="y"
   send_to="12"
   sequence="60"
  >
  <send>world.enableGroup("qjl_in",0);
world.execute("pull ditan;down;whisper");</send>
  </trigger>
  <trigger
   group="mission-search2"
   match="【队伍】(.+)：mission-request"
   regexp="y"
   send_to="12"
   sequence="70"
  >
  <send>world.enablegroup("mission-ask",1);</send>
  </trigger>
  <trigger
   group="hell-wait"
   match="地藏殿"
   regexp="y"
   send_to="12"
   sequence="70"
  >
  <send>world.enablegroup("hell-wait",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="li_in"
   match="你要对谁做这个动作？"
   regexp="y"
   send_to="12"
   sequence="70"
  >
  <send>world.enableGroup("li_in",0);
world.execute("ef 100;open curtain;north;ef 0;whisper");</send>
  </trigger>
  <trigger
   group="ginseng-maze-look"
   match="你要看什麽？"
   regexp="y"
   send_to="12"
   sequence="70"
  >
  <send>world.setvariable("varGinsengMazeMoveReach","yes");
world.note("---&gt; maze end now!!!");
</send>
  </trigger>
  <trigger
   group="move"
   match="此地不能使用时空转换"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>world.execute("trans gc");
world.doAfterSpecial(2,"umk",10);</send>
  </trigger>
  <trigger
   group="ginseng2"
   match="告诉你：ginseng-done"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>initMove();
addMove2("waitPoke code");
addMove2("waitPoke lshui");
addMove2("tell lshui ginseng-reconnect;reconnectGinseng");
startMove(true);</send>
  </trigger>
  <trigger
   group="move-dqe"
   match="灌木林"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>world.enableGroup("move-east",0);
world.enableGroup("move-dqe",0);
world.doAfterSpecial(1,"west;whisper",10);</send>
  </trigger>
  <trigger
   group="quest-return"
   match="你被奖励了："
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>world.setVariable("varQuestReturnReward",1);
world.execute("qq");</send>
  </trigger>
  <trigger
   group="usemark"
   match="你的灵力不够"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>//world.execute("de");
world.doAfterSpecial(2,"ex1 500",10);
world.doAfterSpecial(5,"res 200",10);
world.doAfterSpecial(8,"usemark",10);
</send>
  </trigger>
  <trigger
   group="jiedu"
   match="你的真气不足。"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>world.execute("ex 300");
world.doAfterSpecial(3,"perform herb.jiedu",10);</send>
  </trigger>
  <trigger
   group="mission-action"
   match="你头重脚轻，正在勉力支撑著不倒下去"
   regexp="y"
   send_to="10"
   sequence="80"
  >
  <send>use pill</send>
  </trigger>
  <trigger
   group="mission-action"
   match="你摇头晃脑"
   regexp="y"
   send_to="10"
   sequence="80"
  >
  <send>burn
use pill
stopp
tt
tt mission-abort</send>
  </trigger>
  <trigger
   enabled="y"
   match="烟雾中出现了牛头马面，二话不说，将枷锁镣铐往你头上一套．．．．"
   regexp="y"
   send_to="10"
   sequence="80"
  >
  <send>stopp</send>
  </trigger>
  <trigger
   group="teamfly-host2"
   match="在你的耳边悄声说道：teamfly-(?P&lt;target&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="80"
  >
  <send>world.note("---&gt; going to team fly %&lt;target&gt;");
world.execute("teamfly %&lt;target&gt;");
</send>
  </trigger>
  <trigger
   group="ghost-action"
   match="(.+)\((?P&lt;asker&gt;.+)\)告诉你：ghost-(?P&lt;npc&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="90"
  >
  <send>var r=world.getVariable("varGhostReady");
if (r=="yes"){
world.execute("ghostStart");
world.setVariable("varGhostAsker","%&lt;asker&gt;");
//world.setVariable("varGhostTarget","%&lt;npc&gt;");
initMove();
addMove2("fd;smk2");
var path=mapGhostNpc["%&lt;npc&gt;"];
generateQuestActionMove(path);
addMove2("ghostNpc %&lt;npc&gt;");
addMove2("tell %&lt;asker&gt; ghost-complete;umk");
//addMove2("umk");
addMove2("w;checkStatus");
addMove2("e;aa0;ghostAvailable;whisper");
startMove(true);
}else{
world.execute("tell %&lt;asker&gt; ghost-NOT-ready");
}</send>
  </trigger>
  <trigger
   group="quest-list-item"
   match="(把|粒)(?P&lt;cname&gt;\S+)\((?P&lt;ename&gt;.+)\)$"
   regexp="y"
   send_to="12"
   sequence="90"
  >
  <send>var dup=1;
if ("%&lt;cname&gt;".indexOf("箱子")&gt;0)
world.setvariable("varRewardBox",1);

var ename="%&lt;ename&gt;".toLowerCase();
for (var i=0;i&lt;varMyList1.length;i++){
var names=varMyList1[i].split(",");
if (names[1]==ename) dup=dup+1;
}
var itemstring="%&lt;cname&gt;,"+ename+","+dup+",";
if (dup==1)
itemstring=itemstring+ename;
else
itemstring=itemstring+ename+" "+dup;
varMyList1.push(itemstring);
world.note("---&gt; item %&lt;cname&gt; "+itemstring.split(",")[3]);
</send>
  </trigger>
  <trigger
   group="quest-return"
   match="递给你一具(.+)尸体。"
   regexp="y"
   send_to="12"
   sequence="90"
  >
  <send>world.enablegroup("quest-return-checkcorpse",1);
world.execute("look corpse;gcg;ask");</send>
  </trigger>
  <trigger
   group="ccd-up"
   match="观月顶"
   regexp="y"
   send_to="10"
   sequence="90"
  >
  <send>endActionGroup ccd-up</send>
  </trigger>
  <trigger
   group="dqroad-east3"
   match="海边路"
   regexp="y"
   send_to="10"
   sequence="90"
  >
  <send>endActionGroup dqroad-east3</send>
  </trigger>
  <trigger
   group="autokill"
   match="你附近没有这样东西。|对你说：在这里不要乱摸乱动！"
   regexp="y"
   send_to="12"
   sequence="90"
  >
  <send>world.deleteTemporaryTimers();
world.resetTimers();
world.enableGroup("autokill-busy",0);
world.enableGroup("autokill-perform",0);
world.enableGroup("autokill",0);

var abort=world.getvariable("varAutokillAbort");
if (abort!=null &amp;&amp; abort=="yes"){
world.setvariable("varAutokillAbort","no");
world.note("---&gt; waiting for burn complete");
world.doafterspecial(8,"gg0 seal;burn",10);
}else{
var a=world.getVariable("varAutokillDone");
world.execute(a);
}</send>
  </trigger>
  <trigger
   group="dqroad-east2"
   match="平原路"
   regexp="y"
   send_to="10"
   sequence="90"
  >
  <send>endActionGroup dqroad-east2</send>
  </trigger>
  <trigger
   group="quest-list"
   match="任务已经开始了(?P&lt;min&gt;.+)分((?P&lt;sec&gt;.+))秒。$"
   regexp="y"
   send_to="12"
   sequence="90"
  >
  <send>var m=chineseToNum("%&lt;min&gt;");
var s=chineseToNum("%&lt;sec&gt;");
var q=world.getVariable("varQuestListCurrent");
s=m*60+s;
mapQuestQueue[q]=s;
world.note("---&gt; quest "+ q+" time "+s+" seconds");</send>
  </trigger>
  <trigger
   group="quest-list"
   match="任务已经开始了(?P&lt;min&gt;.+)分。$"
   regexp="y"
   send_to="12"
   sequence="90"
  >
  <send>var m=chineseToNum("%&lt;min&gt;");
var q=world.getVariable("varQuestListCurrent");
var s=m*60;
mapQuestQueue[q]=s;
world.note("---&gt; quest "+ q+" time "+s+" seconds");</send>
  </trigger>
  <trigger
   group="dqroad-east1"
   match="山中小路"
   regexp="y"
   send_to="10"
   sequence="90"
  >
  <send>endActionGroup dqroad-east1</send>
  </trigger>
  <trigger
   group="checkbusy"
   match="你附近没有这样东西。|对你说：在这里不要乱摸乱动！"
   regexp="y"
   send_to="12"
   sequence="95"
  >
  <send>world.enableGroup("checkbusy",0);
world.execute("whisper");
</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="( 你上一个动作还没有完成，不能施展神通。)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.note("---&gt; try fly "+t+" later");
world.doAfterSpecial(5,"goo "+t,10);
</send>
  </trigger>
  <trigger
   group="smart-research"
   match="(.*)\((?P&lt;skname&gt;.+)\)(\s+)-(\s*)(\S+)(\s+)(?P&lt;level&gt;\d+)/(\s*)(?P&lt;pct&gt;\d+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var sk=world.getVariable("varResearchSkill");
if (sk=="%&lt;skname&gt;"){
var lv=world.getVariable("varResearchTargetLevel");
world.setvariable("varResearchNowLevel","%&lt;level&gt;");
world.setvariable("varResearchNowPoint","%&lt;pct&gt;");
world.note("current level: %&lt;skname&gt; - %&lt;level&gt; -%&lt;pct&gt;, target level "+lv);
}
</send>
  </trigger>
  <trigger
   group="sleep_research"
   match="(.*)\((?P&lt;skname&gt;.+)\)(\s+)-(\s*)(\S+)(\s+)(?P&lt;level&gt;\d+)/(\s*)(?P&lt;pct&gt;\d+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var sk=world.getVariable("varResearchSkill");
var lv=world.getVariable("varResearchLevel");
var skname='%&lt;skname&gt;';
var now='%&lt;pct&gt;';
var lvl=%&lt;level&gt;;

world.note("current level: %&lt;skname&gt; - %&lt;level&gt; -%&lt;pct&gt;, target level "+lv);
if (sk==skname){
if (lvl&gt;=lv)
world.execute("stopp");
}</send>
  </trigger>
  <trigger
   group="dali_letter"
   match="(.*)有一封密函，一定要在(.*)送交给(?P&lt;lettername&gt;.*)。我先送你去那里。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="%&lt;lettername&gt;";
if (n=="南宫十一郎"){
world.execute("goDaliLetterShiyi");
}else if(n=="南宫十三郎"){
world.execute("goDaliLetterNangong");
}else if(n=="南宫十四郎"){
world.execute("goDaliLetterShisi");
}else if(n=="吴青"){
world.execute("goDaliLetterWuqing");
}else if(n=="蓝胡子"){
world.execute("goDaliLetterLan");
}else if(n=="大胡子"){
world.execute("goDaliLetterHuzi");
}else if(n=="忏悔徒"){
world.execute("goDaliLetterChantu");
}else if(n=="楚楚"){
world.execute("goDaliLetterChuchu");
}else if(n=="莫不屈"){
world.execute("goDaliLetterBuqu");
}else if(n=="中年书生"){
world.execute("goDaliLetterShusheng");
}else if(n=="渔夫"){
world.execute("goDaliLetterFish");
}else if(n=="文人墨客"){
world.execute("goDaliLetterWenren");
}else if(n=="马老四"){
world.execute("goDaliLetterMax");
}else if(n=="珠宝商"){
world.execute("goDaliLetterJade");
}else if(n=="冷红儿"){
world.execute("goDaliLetterLeng");
}else if(n=="中药店老板"){
world.execute("goDaliLetterMed");
}else if(n=="武林大豪杰"){
world.execute("goDaliLetterToughman");
}else if(n=="风四娘"){
world.execute("goDaliLetterFeng");
}else if(n=="王若钢"){
world.execute("goDaliLetterWang");
}else if(n=="人和老人"){
world.execute("goDaliLetterRen");
}else if(n=="茅大先生"){
world.execute("goDaliLetterDa");
}else if(n=="城卫"){
world.execute("goDaliLetterCity");
}else if(n=="胭松"){
world.execute("goDaliLetterYan");
}else if(n=="班察那"){
world.execute("goDaliLetterWaiter");
}else if(n=="心湖"){
world.execute("goDaliLetterHu");
}else if(n=="地匹"){
world.execute("goDaliLetterDi");
}else{
world.execute("cancelDaliLetter");
}</send>
  </trigger>
  <trigger
   group="mission-fly"
   match="(.+)\((?P&lt;asker&gt;.+)\)告诉你：mission-target-(?P&lt;target&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varMissionAsker","%&lt;asker&gt;");
world.setvariable("varMissionTarget","%&lt;target&gt;");
world.setvariable("varBreakCommand","breakMissionFly");
initMove();
addMove2("fd;goo %&lt;target&gt;");
addMove2("checkBusy");
addMove2("smk");
addMove2("goo illusionist dong");
addMove2("checkBusy");
addMove2("down;south;east;tell %&lt;asker&gt; mission-fly-ready;whisper");
startMove(true);
</send>
  </trigger>
  <trigger
   group="quest-ghost"
   match="(.+)\((?P&lt;asker&gt;.+)\)告诉你：quest-ghost-(?P&lt;npc&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var r=world.getVariable("varGhostReady");
if (r=="yes"){
world.enablegroup("quest-ask",0);
world.setVariable("varGhostReady","no");
world.setVariable("varGhostAsker","%&lt;asker&gt;");
//world.setVariable("varGhostTarget","%&lt;npc&gt;");
initMove();
addMove2("smk2");
addMove2("fd;out;south;whisper");
var path=mapQuestNpcGhost["%&lt;npc&gt;"];
generateQuestActionMove(path);
addMove2("ghostNpc %&lt;npc&gt;");
addMove2("tell %&lt;asker&gt; ghost-complete;umk");
//addMove2("umk");
addMove2("checkStatus");
addMove2("whisper;readyQuestGhost");
startMove(true);
}else{
world.execute("tell %&lt;asker&gt; ghost-NOT-ready");
}</send>
  </trigger>
  <trigger
   enabled="y"
   match="(.+)\((?P&lt;asker&gt;\D+)\)告诉你：GG(?P&lt;itemn&gt;\D+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var o='%&lt;asker&gt;';
var i='%&lt;itemn&gt;';
world.execute("gg0 "+i+";give "+i+" to "+o);</send>
  </trigger>
  <trigger
   match="(.+)\((?P&lt;asker&gt;\D+)\)告诉你：\((?P&lt;itemn&gt;\D+)\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var o='%&lt;asker&gt;';
var i='%&lt;itemn&gt;';
world.send("give "+o+" "+i);</send>
  </trigger>
  <trigger
   group="ginseng-maze-look"
   match="(?P&lt;am&gt;\D+)文钱\(Coin\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var a=chineseToNum("%&lt;am&gt;");
//world.note("---&gt; coin amount "+a);
world.setvariable("varGinsengMazeLookCoin",a);

</send>
  </trigger>
  <trigger
   group="checkgold"
   match="(?P&lt;amount&gt;\S+)两黄金"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var a="%&lt;amount&gt;";
var b=chineseToNum(a);
world.setvariable("varMyGoldAmount",b);
//world.note("---&gt;"+b+" gold");
</send>
  </trigger>
  <trigger
   group="ginseng-deposit"
   match="(?P&lt;ca&gt;\D+)张一千两银票\(Thousand-cash\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var a=chineseToNum("%&lt;ca&gt;");
world.setvariable("varGinsengDepositAmount",a);
</send>
  </trigger>
  <trigger
   group="questitem"
   match="(?P&lt;cname&gt;\S+)(\s*)：(\s*)(?P&lt;itemid&gt;\d+) "
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n=world.getVariable("varQuestItem");
var m="%&lt;cname&gt;";
//world.note("---&gt;matching :"+m+":%&lt;itemid&gt;: for :"+n+":");
if (n==m){
//found quest item
world.note("found item "+n);
var o=world.getVariable("varQuestItemId");
if (o==0) world.setVariable("varQuestItemId","%&lt;itemid&gt;");
}
</send>
  </trigger>
  <trigger
   group="quest-list-item"
   match="(?P&lt;cname&gt;\S+)\((?P&lt;ename&gt;.+)\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var dup=1;
if ("%&lt;cname&gt;".indexOf("箱子")&gt;0)
world.setvariable("varRewardBox",1);

var ename="%&lt;ename&gt;".toLowerCase();
for (var i=0;i&lt;varMyList1.length;i++){
var names=varMyList1[i].split(",");
if (names[1]==ename) dup=dup+1;
}
var itemstring="%&lt;cname&gt;,"+ename+","+dup+",";
if (dup==1)
itemstring=itemstring+ename;
else
itemstring=itemstring+ename+" "+dup;
varMyList1.push(itemstring);
world.note("---&gt; item %&lt;cname&gt; "+itemstring.split(",")[3]);
</send>
  </trigger>
  <trigger
   group="quest-return-checkcorpse"
   match="(?P&lt;cname&gt;\S+)\((?P&lt;ename&gt;.+)\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var ename="%&lt;ename&gt;".toLowerCase();
var e=mapItemName["%&lt;cname&gt;"];
if (e!=null &amp;&amp; e!="" &amp;&amp; e==ename){
world.execute("get "+e+" from corpse;pp0 "+e);
}
</send>
  </trigger>
  <trigger
   group="check-corpse-gold-item"
   match="(?P&lt;cname&gt;\S+)\((?P&lt;ename&gt;.+)\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; cname %&lt;cname&gt; ename %&lt;ename&gt;");
var ename="%&lt;ename&gt;".toLowerCase();
var cname="%&lt;cname&gt;";
if (cname=="奉天龙纹系" || cname=="惊云步靴" || cname=="乘风慧剑" || cname=="奉天印戒" || cname=="情思古盾" || cname=="紫金软猬甲" || cname=="紫金文士冠" || cname=="紫金文士袍" || cname=="锦花文绣披风" ){
world.execute("get corpse;gc "+ename);
}
if (cname=="天蚕金丝袍" || ename=="sky clothes"){
world.execute("get corpse");
}</send>
  </trigger>
  <trigger
   group="khl-wade"
   match="(?P&lt;dir&gt;.+)佛塔"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("khl-wade",0);
if ("%&lt;dir&gt;"=="东"){
world.setvariable("varKhlDir","east");
}
if ("%&lt;dir&gt;"=="南"){
world.setvariable("varKhlDir","south");
}
if ("%&lt;dir&gt;"=="西"){
world.setvariable("varKhlDir","west");
}
if ("%&lt;dir&gt;"=="北"){
world.setvariable("varKhlDir","north");
}
world.note("--&gt; khl dir:%&lt;dir&gt;");
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="mz_job"
   match="(?P&lt;header&gt;.*)武林盟主正在招集"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>if ("%&lt;header&gt;"==null || "%&lt;header&gt;"=="" || "%&lt;header&gt;".indexOf("说道")==-1){
  varMyQueue.enqueue("done");
}
</send>
  </trigger>
  <trigger
   group="ginseng-redeem"
   match="(?P&lt;id&gt;\d+)：  长剑"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsendRedeemSwordId","%&lt;id&gt;");</send>
  </trigger>
  <trigger
   group="ginseng-redeem"
   match="(?P&lt;id&gt;\d+)：  野果"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsendRedeemYeguoId","%&lt;id&gt;");</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="(?P&lt;level&gt;\S*)级 人造人 (.*)\(Rzr(.*)\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var cl="%&lt;level&gt;";
var l=getNumberByChinese(cl);
var k=world.getVariable("varRzrKillLevel");
var h=new Date(world.getInfo(304)).getHours();
if ((h&gt;=19 &amp;&amp; h&lt;21) || (h&gt;=23 || h&lt;2 ) || (h&gt;=8 &amp;&amp; h&lt;11)){
//++k;
}

if (l&gt;=k){
 world.note("---&gt;Found Rzr: level "+l);
 world.setVariable("varMoveCommand","onRzrOrTaskFound");
 var t=world.getVariable("varRzrOrTaskFound");
 if (t!=null &amp;&amp; t!=""){
  if (t.indexOf("rzr")==-1) t=t+",rzr";
 }else{
  t="rzr";
 }
 world.setVariable("varRzrOrTaskFound",t);
}</send>
  </trigger>
  <trigger
   group="checkrzr"
   match="(?P&lt;level&gt;\S+)级 人造人(.*)\(rzr(?P&lt;rname&gt;.+)\) (.+)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var l="%&lt;level&gt;";
var n=getNumberByChinese(l);
var i="rzr%&lt;rname&gt;";
//world.note(n+":"+i);
var on=world.getVariable("varRzrMaxLevel");
if (n&gt;on){
world.setVariable("varRzrMaxLevel",n);
world.setVariable("varRzrMaxName",i);
}
</send>
  </trigger>
  <trigger
   group="quest-item"
   match="(\s)back seal"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemSeal","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)back seal"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemSeal","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)back seal"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemSeal","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)blade"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("---&gt;trigger blade");
world.setvariable("varCheckItemBlade","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)pill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
var p=world.getvariable("varCheckItemPill");
p=p+1;
world.setvariable("varCheckItemPill",p);
</send>
  </trigger>
  <trigger
   group="quest-item"
   match="(\s)pill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemPill","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)pill"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemPill","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)pxshan"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemPxshan","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)sword"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemSword","yes");
</send>
  </trigger>
  <trigger
   group="quest-item"
   match="(\s)sword"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemSword","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)sword"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("---&gt;trigger sword");
world.setvariable("varCheckItemSword","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)tenthousand-cash"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemCash","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)tenthousand-cash"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemTTCash","yes");
</send>
  </trigger>
  <trigger
   group="quest-item"
   match="(\s)tenthousand-cash"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemCash","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)thousand-cash"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemCash","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)tieguai-fork"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemFork","yes");
</send>
  </trigger>
  <trigger
   group="quest-item"
   match="(\s)whip"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemWhip","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)whip"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemWhip","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)whip"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemWhip","yes");
</send>
  </trigger>
  <trigger
   group="quest-item"
   match="(\s)ye guo"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemYeguo","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)ye guo"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemYeguo","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)ye guo"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemYeguo","yes");
</send>
  </trigger>
  <trigger
   group="mission-item"
   match="(\s)zhanjia$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemZhanjia","yes");
</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="(\s)zhanjia$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemZhanjia","yes");
</send>
  </trigger>
  <trigger
   group="quest-item"
   match="(\s)zhanjia$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("trigger sword");
world.setvariable("varCheckItemZhanjia","yes");
</send>
  </trigger>
  <trigger
   group="clearbag"
   match="(\s+)(?P&lt;id&gt;\d+)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>varMyQueue1.enqueue("%&lt;id&gt;");</send>
  </trigger>
  <trigger
   group="check_item"
   match="(g|G)old robe"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemRobe");
j++;
world.setVariable("varItemRobe",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(j|J)ade"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var jade=world.getVariable("varItemJade");
jade++;
world.setVariable("varItemJade",jade);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(j|J)iudai"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemJiudai");
j++;
world.setVariable("varItemJiudai",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(p|P)aper seal"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemPaper");
j++;
world.setVariable("varItemPaper",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(q|Q)ing feng book"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemBook");
j++;
world.setVariable("varItemBook",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(s|S)alt rock"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemSalt");
j++;
world.setVariable("varItemSalt",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(s|S)houhuan"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemShouhuan");
j++;
world.setVariable("varItemShouhuan",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(s|S)houyu"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemShouyu");
j++;
world.setVariable("varItemShouyu",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(t|T)housand-cash"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemCash");
j++;
world.setVariable("varItemCash",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(w|W)ineskin"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemWineskin");
j++;
world.setVariable("varItemWineskin",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="(w|W)olf pen"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemWolfpen");
j++;
world.setVariable("varItemWolfpen",j);</send>
  </trigger>
  <trigger
   group="quest-return-checkcorpse"
   match="(把|粒)(?P&lt;cname&gt;\S+)\((?P&lt;ename&gt;.+)\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var ename="%&lt;ename&gt;".toLowerCase();
var e=mapItemName["%&lt;cname&gt;"];
if (e!=null &amp;&amp; e!="" &amp;&amp; e==ename){
world.execute("get "+e+" from corpse;pp0 "+e);
}
</send>
  </trigger>
  <trigger
   group="gaa"
   match="= (?P&lt;dname&gt;\D+)(?P&lt;dnum&gt;\d+)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("pp0 %&lt;dname&gt;%&lt;dnum&gt;");</send>
  </trigger>
  <trigger
   group="taskreward"
   match="&gt; &gt;"
   regexp="y"
   sequence="100"
  >
  <send>whisper</send>
  </trigger>
  <trigger
   group="autokill"
   match="&gt; &gt; &gt; "
   regexp="y"
   sequence="100"
  >
  <send>get nothing123</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="Master hu\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask master about 守经楼;answer 不怕");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="Master yuan\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask master about 见方丈;answer 重要事");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="Wei xing long\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask wei xing long about book;f wei xing long");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="Yahuan\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","buy white towel from yahuan;drop coin");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="Yun liu\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask yunliu about tanqin;play qin");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="Zhu zao\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask zhu zao about 过阵;rea");</send>
  </trigger>
  <trigger
   enabled="y"
   match="\((?P&lt;asker&gt;.+)\)告诉你：teamflygo"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varTeamFlyAsker","%&lt;asker&gt;");
var r=world.getvariable("varTeamFlyReady");
if (r==null || r=="" || r==0){
world.send("tell %&lt;asker&gt; teamflyNOTready")
}else{
initMove();
addMove2("smk2");
addMove2("out;fy-chantu");
//addMove2("out;fy-postman");
addMove2("teamflyStart;tell %&lt;asker&gt; teamflyready;whisper");
startMove(true);
}</send>
  </trigger>
  <trigger
   enabled="y"
   match="\((?P&lt;asker&gt;.+)\)告诉你：teamflymarkgo"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varTeamFlyAsker","%&lt;asker&gt;");
var r=world.getvariable("varTeamFlyReady");
if (r==null || r=="" || r==0){
world.send("tell %&lt;asker&gt; teamflyNOTready")
}else{
world.enablegroup("teamflymark-host",1);
initMove();
addMove2("teamflymarkStart;out;fy-chantu");
addMove2("aasee;tell %&lt;asker&gt; teamflyready;whisper");
startMove(true);
}</send>
  </trigger>
  <trigger
   group="loopjob"
   match="\((?P&lt;ename&gt;\D+)\)(\s+)-(\s+)(\S+)(\s+)(?P&lt;level&gt;\d*)/(\s*)(?P&lt;amount&gt;\d*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note('%&lt;ename&gt; %&lt;level&gt; %&lt;amount&gt;');
var sk=world.getVariable("varPracticeEnableSkill");
var skname='%&lt;ename&gt;';
if (sk==skname){
var now='%&lt;amount&gt;';
var lvl='%&lt;level&gt;';
//var last=world.getVariable("varPracNowAmount");
world.setVariable("varPracLevel",lvl);
world.setVariable("varPracPoint",now);
}</send>
  </trigger>
  <trigger
   group="jump_practice_research"
   match="\((?P&lt;skname&gt;.*)\)(\s+)-(\s*)(\S+)(\s+)(?P&lt;level&gt;\d+)/(\s*)(?P&lt;pct&gt;\d+)%$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("%&lt;skname&gt; ; %&lt;level&gt;; %&lt;pct&gt;");
var sk=world.getVariable("varPracticeEnableSkill");
var skname='%&lt;skname&gt;';
if (sk==skname){
var now='%&lt;pct&gt;';
var lvl='%&lt;level&gt;';
world.setVariable("varPracLevel",lvl);
world.setVariable("varPracPoint",now);
}</send>
  </trigger>
  <trigger
   group="jump_research"
   match="\((?P&lt;skname&gt;.*)\)(\s+)-(\s*)(\S+)(\s+)(?P&lt;level&gt;\d+)/(\s*)(?P&lt;pct&gt;\d+)%$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("%&lt;skname&gt; ; %&lt;level&gt;; %&lt;pct&gt;");
var sk=world.getVariable("varResearchSkill");
var lv=world.getVariable("varResearchLevel");
var skname='%&lt;skname&gt;';
if (sk==skname){
var now='%&lt;pct&gt;';
var lvl='%&lt;level&gt;';
if (lvl&gt;=lv)
world.execute("stopp");
}</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Du tongxuan\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="du tongxuan";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Gong jiu\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="gong jiu";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Hua manlou\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="hua manlou";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Lei\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="lei";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Li huai\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="li huai";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Li yanbei\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="li yanbei";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Lu xiaojia\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="lu xiaojia";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="maze"
   match="\(Maze monster\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n=world.getVariable("varMazeMonster");
n=++n;
if (n==1){
world.execute("kill maze monster");
}else{
world.execute("kill maze monster "+n);
}
world.setVariable("varMazeMonster",n);
world.enableGroup("maze_kill",1);</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Shuai yifan\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="shuai yifan";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Xue xiaoren\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="xue xiaoren";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Xue yiren\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="xue yiren";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="\(Yan nantian\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n="yan nantian";
world.note("---&gt;Found Task: "+n);
world.setVariable("varMoveCommand","onRzrOrTaskFound");
var t=world.getVariable("varRzrOrTaskFound");
if (t!=null &amp;&amp; t!=""){
if (t.indexOf(n)&lt;0) t=t+","+n;
}else{
t=n;
}
world.setVariable("varRzrOrTaskFound",t);
</send>
  </trigger>
  <trigger
   enabled="y"
   match="^\( 你头重脚轻，正在勉力支撑著不倒下去"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>use pill
burn</send>
  </trigger>
  <trigger
   group="quest-action"
   match="^\( 你摇头晃脑"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>burn
stopp</send>
  </trigger>
  <trigger
   group="tufei-1"
   match="^【闲聊】关外马贼"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varTufeiGW","yes");
world.enablegroup("tufei-1",0);
world.execute("robotTufei");
</send>
  </trigger>
  <trigger
   group="tufei-2"
   match="^【闲聊】海盗倭寇"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varTufeiNH","yes");

world.enablegroup("tufei-2",0);
world.execute("robotTufei");
</send>
  </trigger>
  <trigger
   group="tufei-3"
   match="^【闲聊】蒙面土匪"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varTufeiCX","yes");

world.enablegroup("tufei-3",0);
world.execute("robotTufei");
</send>
  </trigger>
  <trigger
   group="tufei-4"
   match="^【闲聊】山西土匪|^【闲聊】突厥狼盗|^【闲聊】黑帮喽|^【闲聊】土豪恶霸"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varTufeiFY","yes");

world.enablegroup("tufei-4",0);
world.execute("robotTufei");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^北城厢"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask wang about kangqi;give round jade to wang;give round jade 2 to wang;give round jade 3 to wang;combine");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^表哥对你喝道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask biao ge about 事;accept yes");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^城北小路"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","look grass;stamp grass");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^大堂"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask yin bin about man");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^东偏厅"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","pull ditan;down");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^洞底"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","open rightdoor");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^洞口"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","dash huache");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^断塔下"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","look tower;push door;listen;enter;enter");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^风云堂"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","pull 书画;east");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^勾魂使者喝道：没有合约"
   regexp="y"
   sequence="100"
  >
  <send>accept test
tell ghost 没有面目</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^灌木林"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","dash bush");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^海边"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","gg0 qing feng book;give qing feng book to ding feng");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^河滩"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","wade river");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^黑松阁正厅"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","pull rope");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^花寡妇倒在床上，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","sleep hua gua fu");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^花海"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask wurong about 石观音");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^黄土甬道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","pull ring");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^将军放下木勺对你喝道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","get meat;eat meat;drop meat");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^净水阁"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("match");
world.SetVariable("varEnvAction","buy round jade from zhengjia");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^靠在海边的船"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask master chu about 蝙蝠岛");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^客栈后院"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","swim");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^孔雀河"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","wade 沙流");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^狼窝"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","crawl down");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^乱葬冈"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","pushaside grass;west;southwest;northwest;tear paper");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^茅屋内"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask monk about meat;open door;south");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^密林"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","open 珠帘;south");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^密林"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","listen;look south;south");
</send>
  </trigger>
  <trigger
   enabled="y"
   match="^你从(.*)身上搜出一件布衣。"
   regexp="y"
   sequence="100"
  >
  <send>drop cloth</send>
  </trigger>
  <trigger
   enabled="y"
   group="buy"
   match="^青石小街"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvBuyer", "ji");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^青室"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","open 山水画;south");</send>
  </trigger>
  <trigger
   enabled="y"
   group="buy"
   match="^倾城胭脂店"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvBuyer", "fang");
</send>
  </trigger>
  <trigger
   enabled="y"
   match="^如果你愿意加入，请用 team with (?P&lt;asker&gt;.+)。$"
   regexp="y"
   sequence="100"
  >
  <send>team with %&lt;asker&gt;</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^山脚乡田"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","talk xiao juan");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^天梯尽头"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","say 我来过，活过，爱过！");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^万梅瀑布"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","charge");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^西南角"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","ask xiao wu about gao li");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^香积厨"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","push 万紧那罗王;north");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^小仓房"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","climb bag");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^小石桥"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","hold vine");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^小屋"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","pull floor;down");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^星星小楼"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","climb window");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^羊肠小道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","pushaside grass");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^野狼坡"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","crawl up");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^银钩赌坊偏厅"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","open 字画;west");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^有凤来仪"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","open 屏风;south");</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="^楠木树上"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","jumpto yard");</send>
  </trigger>
  <trigger
   group="check_item"
   match="bag"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemBag");
j++;
world.setVariable("varItemBag",j);</send>
  </trigger>
  <trigger
   group="mission-item"
   match="box"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("---&gt;trigger blade");
world.setvariable("varCheckItemBox","yes");
</send>
  </trigger>
  <trigger
   group="check_item"
   match="cash"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemCash");
j++;
world.setVariable("varItemCash",j);</send>
  </trigger>
  <trigger
   group="check_box"
   match="copper box"
   regexp="y"
   sequence="100"
  >
  <send>buy copper key from seller
open copper box</send>
  </trigger>
  <trigger
   group="openbox"
   match="copper box"
   regexp="y"
   sequence="100"
  >
  <send>buy copper key from seller
open copper box</send>
  </trigger>
  <trigger
   group="check-rewardbox"
   match="copper box"
   regexp="y"
   sequence="100"
  >
  <send>buy copper key from seller
open copper box</send>
  </trigger>
  <trigger
   group="openbox"
   match="gold box"
   regexp="y"
   sequence="100"
  >
  <send>buy gold key from seller
open gold box</send>
  </trigger>
  <trigger
   group="check-rewardbox"
   match="gold box"
   regexp="y"
   sequence="100"
  >
  <send>buy gold key from seller
open gold box</send>
  </trigger>
  <trigger
   group="check_box"
   match="gold box"
   regexp="y"
   sequence="100"
  >
  <send>buy gold key from seller
open gold box</send>
  </trigger>
  <trigger
   group="check-rewardbox"
   match="iron box"
   regexp="y"
   sequence="100"
  >
  <send>buy iron key from seller
open iron box</send>
  </trigger>
  <trigger
   group="openbox"
   match="iron box"
   regexp="y"
   sequence="100"
  >
  <send>buy iron key from seller
open iron box</send>
  </trigger>
  <trigger
   group="check_box"
   match="iron box"
   regexp="y"
   sequence="100"
  >
  <send>buy iron key from seller
open iron box</send>
  </trigger>
  <trigger
   group="check_item"
   match="jiduan"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemJiduan");
j++;
world.setVariable("varItemJiduan",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="lighter"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemLighter");
j++;
world.setVariable("varItemLighter",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="luwei"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemLuwei");
j++;
world.setVariable("varItemLuwei",j);</send>
  </trigger>
  <trigger
   group="check_item"
   match="pumpkin"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemPumpkin");
j++;
world.setVariable("varItemPumpkin",j);</send>
  </trigger>
  <trigger
   group="check-rewardbox"
   match="silver box"
   regexp="y"
   sequence="100"
  >
  <send>buy silver key from seller
open silver box</send>
  </trigger>
  <trigger
   group="openbox"
   match="silver box"
   regexp="y"
   sequence="100"
  >
  <send>buy silver key from seller
open silver box</send>
  </trigger>
  <trigger
   group="check_box"
   match="silver box"
   regexp="y"
   sequence="100"
  >
  <send>buy silver key from seller
open silver box</send>
  </trigger>
  <trigger
   group="check_item"
   match="tribuli"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//var jade=world.getVariable("varItemBuli");
//jade++;
world.setVariable("varItemBuli",1);</send>
  </trigger>
  <trigger
   group="check_item"
   match="ye guo"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varItemYeguo",1);</send>
  </trigger>
  <trigger
   group="check_item"
   match="zhanjia"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var j=world.getVariable("varItemZhanjia");
j++;
world.setVariable("varItemZhanjia",j);</send>
  </trigger>
  <trigger
   group="task"
   match="。。。所有使命分布完毕"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("restartTask");
//world.doAfterspecial(2,"tasklist",10);
//world.doAfterspecial(5,"startTask",10);</send>
  </trigger>
  <trigger
   group="msgask-fly"
   match="“这是(.+)写给(?P&lt;target&gt;.+)的信。一路保重。”"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask-fly",0);
var t="%&lt;target&gt;";
world.note("---&gt; target:"+t);
world.setvariable("varMsgTarget",t);
if (t=="风四娘"){
world.execute("msgFeng");
}else if (t=="言青衣"){
world.execute("msgYan");
}else if (t=="李红袍"){
world.execute("msgHongbao");
//}else if (t=="原随云"){
//world.execute("msgYuan");
}else if (t=="天孙"){
world.execute("msgTiansun");
}else if (t=="羽天白"){
world.execute("msgYu");
}else if (t=="箫王孙"){
world.execute("msgXiao");
}else if (t=="了因师太"){
world.execute("msgLiaoyin");
}else if (t=="楚留香"){
world.execute("msgChu");
}else if (t=="胡金袖"){
world.execute("msgHu");
}else if (t=="关玉门"){
world.execute("msgYumen");
}else if (t=="万春流"){
world.execute("msgWan");
}else if (t=="石观音"){
world.execute("msgShi");
}else if (t=="张恩"){
world.execute("msgZhang");
}else if (t=="苏少英"){
world.execute("msgSu");
}else if (t=="葛伦"){
world.execute("msgGelun");
}else if (t=="铁少"){
world.execute("msgTie");
}else if (t=="兴国大师"){
world.execute("msgXing");
}else if (t=="唐一方"){
world.execute("msgTang");
}else if (t=="叶孤城"){
world.execute("msgYe");
}else if (t=="铁战"){
world.execute("msgTiezhan");
}else if (t=="白衣人"){
world.execute("msgWhite");
}else if (t=="老刀把子"){
world.execute("msgLaodao");
}else if (t=="白水娘娘"){
world.execute("msgShenshui");
}else if (t=="心湖"){
world.execute("msgShaolin");
}else if (t=="夜帝"){
world.execute("msgYedi");

}else{
world.execute("msgCancel");
}
</send>
  </trigger>
  <trigger
   group="msgask"
   match="“这是(.+)写给(?P&lt;target&gt;.+)的信。一路保重。”"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask",0);
var t="%&lt;target&gt;";
world.note("---&gt; target:"+t);
world.setvariable("varMsgTarget",t);
if (t=="风四娘"){
world.execute("msgFeng");
}else if (t=="言青衣"){
world.execute("msgYan");
}else if (t=="李红袍"){
world.execute("msgHongbao");
//}else if (t=="原随云"){
//world.execute("msgYuan");
}else if (t=="天孙"){
world.execute("msgTiansun");
}else if (t=="羽天白"){
world.execute("msgYu");
}else if (t=="箫王孙"){
world.execute("msgXiao");
}else if (t=="了因师太"){
world.execute("msgLiaoyin");
}else if (t=="楚留香"){
world.execute("msgChu");
}else if (t=="胡金袖"){
world.execute("msgHu");
}else if (t=="关玉门"){
world.execute("msgYumen");
}else if (t=="万春流"){
world.execute("msgWan");
}else if (t=="石观音"){
world.execute("msgShi");
}else if (t=="张恩"){
world.execute("msgZhang");
}else if (t=="苏少英"){
world.execute("msgSu");
}else if (t=="葛伦"){
world.execute("msgGelun");
}else if (t=="铁少"){
world.execute("msgTie");
}else if (t=="兴国大师"){
world.execute("msgXing");
}else if (t=="唐一方"){
world.execute("msgTang");
}else if (t=="叶孤城"){
world.execute("msgYe");
}else if (t=="铁战"){
world.execute("msgTiezhan");
}else if (t=="白衣人"){
world.execute("msgWhite");
}else{
world.execute("msgCancel");
}
</send>
  </trigger>
  <trigger
   group="msgask-team"
   match="“这是(.+)写给(?P&lt;target&gt;.+)的信。一路保重。”"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask-team",0);
var t="%&lt;target&gt;";
world.note("---&gt; target:"+t);
world.setvariable("varMsgTarget",t);
if (t=="风四娘"){
world.execute("msgFeng");
}else if (t=="言青衣"){
world.execute("msgYan");
}else if (t=="李红袍"){
world.execute("msgHongbao");
//}else if (t=="原随云"){
//world.execute("msgYuan");
}else if (t=="天孙"){
world.execute("msgTiansun");
}else if (t=="羽天白"){
world.execute("msgYu");
}else if (t=="箫王孙"){
world.execute("msgXiao");
}else if (t=="了因师太"){
world.execute("msgLiaoyin");
}else if (t=="楚留香"){
world.execute("msgChu");
}else if (t=="胡金袖"){
world.execute("msgHu");
}else if (t=="关玉门"){
world.execute("msgYumen");
}else if (t=="万春流"){
world.execute("msgWan");
}else if (t=="石观音"){
world.execute("msgShi");
}else if (t=="张恩"){
world.execute("msgZhang");
}else if (t=="苏少英"){
world.execute("msgSu");
}else if (t=="葛伦"){
world.execute("msgGelun");
}else if (t=="铁少"){
world.execute("msgTie");
}else if (t=="兴国大师"){
world.execute("msgXing");
}else if (t=="唐一方"){
world.execute("msgTang");
}else if (t=="叶孤城"){
world.execute("msgYe");
}else if (t=="铁战"){
world.execute("msgTiezhan");
}else if (t=="白衣人"){
world.execute("msgWhite");
}else if (t=="老刀把子"){
world.execute("msgLaodao");
}else if (t=="白水娘娘"){
world.execute("msgShenshui");
}else if (t=="心湖"){
world.execute("msgShaolin");

}else{
world.execute("msgCancel");
}
</send>
  </trigger>
  <trigger
   group="tasklocateall"
   match="『(?P&lt;cname&gt;.*)』似乎在(?P&lt;dis&gt;.*)。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var d="%&lt;dis&gt;";
if (d.indexOf("周围极近的地方")&gt;=0){
varMyQueue2.enqueue("here");
}else if (d.indexOf("极近")&gt;=0 || d.indexOf("很近")&gt;=0 || d.indexOf("比较近")&gt;=0 || d.indexOf("不远")&gt;=0 || d.indexOf("周围")&gt;=0){
varMyQueue2.enqueue("near");
}else{
varMyQueue2.enqueue("far");
}</send>
  </trigger>
  <trigger
   group="tasklocatenear"
   match="『(?P&lt;cname&gt;.*)』似乎在(?P&lt;dis&gt;.*)。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var d="%&lt;dis&gt;";
if (d.indexOf("周围极近的地方")&gt;=0){
varMyQueue2.enqueue("here");
}else if (d.indexOf("极近")&gt;=0 || d.indexOf("很近")&gt;=0 || d.indexOf("比较近")&gt;=0 || d.indexOf("不远")&gt;=0 || d.indexOf("周围")&gt;=0){
varMyQueue2.enqueue("near");
}else if (d.indexOf("很远")&gt;=0 || d.indexOf("极远")&gt;=0){
varMyQueue2.enqueue("toofar");
}else{
varMyQueue2.enqueue("far");
}</send>
  </trigger>
  <trigger
   group="mission-help-fly"
   match="【队伍】(.+)：mission-fly-(?P&lt;target&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varBreakCommand","missionTeamFlyBroken");
initMove();
addMove2("fd;eu;teamfly %&lt;target&gt;");
addMove2("goo illusionist xi");
addMove2(checkBusy");
addMove2("down;south;checkStatus");
addMove2("wd;savePots");
startMove();</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="【队伍】(.+)：mission-item-zhanjia$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varMissionItemWearZhanjia","yes");
</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="【队伍】(.+)：mission-kill-(?P&lt;target&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-kill",0);
world.enablegroup("mission-wait-summon",1);
world.setvariable("varMissionTarget","%&lt;target&gt;");
world.note("---&gt; mission target %&lt;target&gt;");
world.execute("eu;e;missionPrepRiddle;missionPrepKill");</send>
  </trigger>
  <trigger
   group="mission-ask"
   match="【队伍】(.+)：mission-location-(?P&lt;arealoc&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-ask",0);
var t=world.getvariable("varMissionTarget");
if (t=="unknown"){
//world.note("---&gt; unknown mission target");
//world.execute("stopp");
world.execute("missionAsk");
}else{

var locid=mapAreaLocName["%&lt;arealoc&gt;"];
if (locid==null || locid=="" || locid==undefined){
world.execute("missionLocationNotFound %&lt;arealoc&gt;");
}else if (locid=="duplicated"){
world.note("---&gt; duplicated location, need to vision npc");
world.execute("missionLocate");
}else{
world.note("---&gt; mission location id "+locid);
world.setvariable("varMissionLocationId",locid);
if (locid.indexOf("fywall")&gt;=0)
world.execute("tt mission-item-zhanjia");
world.execute("missionCheckRiddleItem");
}

}</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="【队伍】(.+)：mission-lost-target$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-kill",0);
world.setvariable("varMissionTarget","");
world.note("---&gt; back to mission start position");
world.execute("pp0 yue mask;pp0 suijin sword;pp0 zhanjia;wear magrobe;w;wd");
</send>
  </trigger>
  <trigger
   group="mission-request"
   match="【队伍】(.+)：mission-request"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>mission cancel</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="【队伍】(.+)：mission-resume$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp");
world.doafterspecial(5,"enGroup mission-help-kill;missionIdleResumeHelpKill",10);
</send>
  </trigger>
  <trigger
   group="mission-search"
   match="【队伍】(.+)：missionfly-fail$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>missionTeamFlyFail</send>
  </trigger>
  <trigger
   group="quest-askreturn"
   match="【队伍】(.+)：quest-return-end$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varQuestReturnDone",1);
world.note("---&gt; team quest return done");
//world.enablegroup("quest-askreturn",0);
//world.execute("whisper");</send>
  </trigger>
  <trigger
   group="quest-return"
   match="【队伍】(.+)：quest-return-start$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-ask",0);
world.execute("doQuestReturn");
</send>
  </trigger>
  <trigger
   group="quest-ask"
   match="【队伍】(.+)：team-quest-cancel"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>quest cancel
quest</send>
  </trigger>
  <trigger
   group="quest-return"
   match="【队伍】(.+)：team-quest-cancel"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>quest cancel
quest</send>
  </trigger>
  <trigger
   group="quest-action"
   match="【队伍】(.+)：team-quest-cancel"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>quest cancel
quest</send>
  </trigger>
  <trigger
   group="pianzi_show"
   match="①：(?P&lt;pile&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var p='%&lt;pile&gt;';
var n=p.lastIndexOf('●')+1;
world.note("pile 1:"+n);
world.setVariable("varPile1",n);</send>
  </trigger>
  <trigger
   group="pianzi_show"
   match="②：(?P&lt;pile&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var p='%&lt;pile&gt;';
var n=p.lastIndexOf('●')+1;
world.note("pile 2:"+n);
world.setVariable("varPile2",n);
</send>
  </trigger>
  <trigger
   group="pianzi_show"
   match="③：(?P&lt;pile&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var p='%&lt;pile&gt;';
var n=p.lastIndexOf('●')+1;
world.note("pile 3:"+n);
world.setVariable("varPile3",n);</send>
  </trigger>
  <trigger
   group="pianzi_show"
   match="④：(?P&lt;pile&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var p='%&lt;pile&gt;';
var n=p.lastIndexOf('●')+1;
world.note("pile 4:"+n);
world.setVariable("varPile4",n);</send>
  </trigger>
  <trigger
   group="pianzi_show"
   match="⑤：(?P&lt;pile&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var p='%&lt;pile&gt;';
var n=p.lastIndexOf('●')+1;
world.note("pile 5:"+n);
world.setVariable("varPile5",n);</send>
  </trigger>
  <trigger
   group="pianzi_show"
   match="⑥：(?P&lt;pile&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var p='%&lt;pile&gt;';
var n=p.lastIndexOf('●')+1;
world.note("pile 6:"+n);
world.setVariable("varPile6",n);</send>
  </trigger>
  <trigger
   group="zong-dugu"
   match="（你上一个动作还没有完成，不能施用外功。） "
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.doafterspecial(0.5,"hp;perform zong",10);
world.execute("perform zong");
</send>
  </trigger>
  <trigger
   group="sleep_pr"
   match="＊(.*)\((?P&lt;skname&gt;.+)\)(\s+)-(\s*)(\S+)(\s+)(?P&lt;level&gt;\d+)/(\s*)(?P&lt;pct&gt;\d+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var sk=world.getVariable("varResearchSkill");
var lv=world.getVariable("varResearchLevel");
var skname='%&lt;skname&gt;';
var now=%&lt;pct&gt;;
var lvl=%&lt;level&gt;;

var act="practice";
if (now&gt;=lvl*lvl)
act="research";
world.setvariable("varSleepPRAction",act);

if (sk==skname){
world.note("current level: %&lt;skname&gt; - %&lt;level&gt; -%&lt;pct&gt;, target level "+lv +", action "+act);
if (lvl&gt;=lv)
world.execute("stopp");
}</send>
  </trigger>
  <trigger
   group="fly_wm"
   match="白梅阁"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_wm",0);</send>
  </trigger>
  <trigger
   group="fly_shenshui"
   match="白水殿"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_shenshui",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="taishan-cave"
   match="半山一石洞"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("taishan-cave",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="pianzi"
   match="宝剑应随真主，我有一把幽冥紫灵剑，你可愿意买下"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>answer yes
give 100 gold to pianzi</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="被杖法所惑，动作慢了下来！"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>showTargetBusy 5</send>
  </trigger>
  <trigger
   group="sleep_pr"
   match="必须空手。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>ww0</send>
  </trigger>
  <trigger
   group="fly_qjl"
   match="不眠阁"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_qjl",0)</send>
  </trigger>
  <trigger
   group="sky_learn"
   match="不愿意教你这项技能。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varLearnSkyNext",1);</send>
  </trigger>
  <trigger
   group="smart-research"
   match="才智： (?P&lt;myint&gt;.+) / (.+)         体质："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; my int %&lt;myint&gt;");
world.setvariable("varResearchNowInt","%&lt;myint&gt;");</send>
  </trigger>
  <trigger
   group="sl_road"
   match="藏经阁"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("sl_road",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="ccd_road"
   match="常春岛渡口"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.enableGroup("ccd_road",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="ccd-down"
   match="长阶"
   regexp="y"
   sequence="100"
  >
  <send>westdown</send>
  </trigger>
  <trigger
   group="dqd_up"
   match="长阶"
   regexp="y"
   sequence="100"
  >
  <send>eastup</send>
  </trigger>
  <trigger
   group="ccd-up"
   match="长阶$"
   regexp="y"
   sequence="100"
  >
  <send>eastup</send>
  </trigger>
  <trigger
   group="fly_nangong"
   match="沉香南宫"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_nangong",0);
</send>
  </trigger>
  <trigger
   enabled="y"
   match="池水鳞光闪闪，那久违的童心一下子满溢心上，让人想起小时候透过水晶球看"
   regexp="y"
   sequence="100"
  >
  <send>lookat crystal ball
</send>
  </trigger>
  <trigger
   group="boat_in"
   match="池水太深，游不过去！"
   regexp="y"
   sequence="100"
  >
  <send>swim pond</send>
  </trigger>
  <trigger
   group="dq-swim"
   match="池水太深，游不过去！"
   regexp="y"
   sequence="100"
  >
  <send>swim</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="出口"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("fly-xg",0);
world.execute("waitSec 0.5");</send>
  </trigger>
  <trigger
   group="teamfly-host"
   match="出口"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("teamfly-host",0);
world.execute("checkBusy");
/*
initMove();
addMove2("checkBusy");
//addMove2("waitSec 3");
addMove2("goo illusionist xi");
addMove2("down;enter;fd;teamflyEnd;whisper");
startMove();
*/</send>
  </trigger>
  <trigger
   group="hell_dash"
   match="储藏室"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("hell_dash",0);
world.send("whisper");</send>
  </trigger>
  <trigger
   group="usemark"
   match="此地不能使用时空转换。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("burn");
world.doafterspecial(6,"usemark",10);
</send>
  </trigger>
  <trigger
   group="taskfinger"
   match="此人已关闭了ＴＥＬＬ频道。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>varMyQueue1.enqueue("player");</send>
  </trigger>
  <trigger
   group="fly_palace"
   match="大殿"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_palace",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="戴小宗诚惶诚恐对你道：“怎么敢劳您大驾”！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask-fly",0);
world.execute("hp");
world.doafterspecial(3,"checkCutDownExp",10);</send>
  </trigger>
  <trigger
   group="msg-team"
   match="戴小宗抽出一封信递给你道："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask-team",1);
</send>
  </trigger>
  <trigger
   group="msg"
   match="戴小宗抽出一封信递给你道："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask",1);
</send>
  </trigger>
  <trigger
   group="msg-smk"
   match="戴小宗抽出一封信递给你道："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask",1);
</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="戴小宗抽出一封信递给你道："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("msgask-fly",1);
</send>
  </trigger>
  <trigger
   group="quest-list"
   match="但是(.+)已经没有足够的时间来完成它了。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var lastQuest=world.getvariable("varQuestListCurrent");
mapQuestQueue[lastQuest]=-1;</send>
  </trigger>
  <trigger
   group="quest-kill"
   match="得手了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varStealTarget");
world.execute("kill "+t+";ssAutokillPre");
world.enableGroup("autokill",1);
</send>
  </trigger>
  <trigger
   group="move"
   match="的呼唤毫无效果，可能是你因为不够熟练。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.execute("goo "+t);</send>
  </trigger>
  <trigger
   group="mission-riddle-wait"
   match="地藏拿着解药，毫不犹豫地吞了下去。然后全身骨节咔咔作响，似乎不那么僵硬了|并没有悲伤、潦倒、失意、失败，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.execute("endActionGroup mission-riddle-wait");
</send>
  </trigger>
  <trigger
   group="quest-return"
   match="递给你"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>pp0 all</send>
  </trigger>
  <trigger
   group="stone_y"
   match="递给你一盒胭脂"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>pp0 yanzhi</send>
  </trigger>
  <trigger
   group="fate_ts"
   match="东方的天空中逐渐出现了一丝鱼肚白。"
   regexp="y"
   sequence="100"
  >
  <send>north</send>
  </trigger>
  <trigger
   group="quest-team"
   match="队伍成员(.*)杀了『(?P&lt;questkill&gt;.*)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.send(%&lt;questkill&gt;);
world.ArraySet("questkill",'%&lt;questkill&gt;',"k");
world.note("---&gt; add kill "+'%&lt;questkill&gt;');
</send>
  </trigger>
  <trigger
   group="questlist"
   match="队伍成员(.*)现在的任务是: 杀『(?P&lt;qkill&gt;.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>varMyQueue1.enqueue("npc-%&lt;qkill&gt;");</send>
  </trigger>
  <trigger
   group="quest-team"
   match="队伍成员(.*)找回『(?P&lt;questitem&gt;.*)』给天机老人。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.ArraySet("questitem",'%&lt;questitem&gt;',"s");
world.note("---&gt; add item "+'%&lt;questitem&gt;');</send>
  </trigger>
  <trigger
   group="quest-list"
   match="队伍成员(.+)现在的任务是: 杀『(?P&lt;target&gt;.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varQuestListCurrent","%&lt;target&gt;")
</send>
  </trigger>
  <trigger
   group="quest-return-list"
   match="队伍成员(.+)现在的任务是: 寻『(?P&lt;target&gt;.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>listQuestActiveQueue.push("%&lt;target&gt;");
</send>
  </trigger>
  <trigger
   group="quest-list"
   match="队伍成员(.+)现在的任务是: 寻『(?P&lt;target&gt;.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varQuestListCurrent","%&lt;target&gt;")</send>
  </trigger>
  <trigger
   group="check_item"
   match="对方好像没有你想要的东西。"
   regexp="y"
   sequence="100"
  >
  <send>kill waiter</send>
  </trigger>
  <trigger
   group="check-get"
   match="对你说：在这里不要乱摸乱动！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill monk;kill monk 2;kill monk 3;wield blade;perform kuaidao;unwield blade");
world.doafterspecial(2,"get nothing123",10);</send>
  </trigger>
  <trigger
   enabled="y"
   group="myinfo"
   match="法力(\s\s)(\S\S)(\s*)(?P&lt;fa&gt;\d*)(\s*)/(\s*)(?P&lt;maxfa&gt;\d*)(\s*)\((.+)\)(\s+)经验：(\s+)(?P&lt;exp&gt;\S+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varMyFa",%&lt;fa&gt;);
world.setVariable("varMyMaxFa",%&lt;maxfa&gt;);
world.setVariable("varMyExp",%&lt;exp&gt;);
</send>
  </trigger>
  <trigger
   group="boat_in"
   match="方舟$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("boat_in",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="sl_road"
   match="非少林弟子不可再往前走了"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill monk");
world.doAfterSpecial(1,"northup",10);</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="风云广场"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","turn dragon;down;jump");</send>
  </trigger>
  <trigger
   group="fly_jobhome"
   match="风云雅阁"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_jobhome",0);</send>
  </trigger>
  <trigger
   enabled="y"
   group="fight"
   match="缚手缚脚，一筹莫展！！"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>showTargetBusy 5</send>
  </trigger>
  <trigger
   group="pianzi"
   match="该你了。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>showPile</send>
  </trigger>
  <trigger
   enabled="y"
   match="告诉你：COMMAND:(?P&lt;command&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; incoming command %&lt;command&gt;");
world.execute("%&lt;command&gt;");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="auto"
   match="告诉你：DISCONNECTME$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("--&gt;DISCONNECT");
world.execute("NOCONNECT");
world.save("");
world.Disconnect();
</send>
  </trigger>
  <trigger
   group="jiedume"
   match="告诉你：HEALDONE"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varInPoison",0);
world.enableGroup("jiedume",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="taskreward"
   match="告诉你：TASK(?P&lt;task&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
world.execute("settaskreturn %&lt;task&gt;");
startMove(true);</send>
  </trigger>
  <trigger
   group="mission-poke-other"
   match="告诉你：ghost-NOT-ready"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varMissionPokeOtherTarget");
world.doafterspecial(20,"ghostHelp "+t,10);
</send>
  </trigger>
  <trigger
   group="quest-action-ghost"
   match="告诉你：ghost-NOT-ready"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var h=world.getVariable("varGhostHelper");
var t=world.getVariable("varFlyTarget");
world.doafterspecial(10,"tell "+h+" quest-ghost-"+t,10);
</send>
  </trigger>
  <trigger
   group="mission-poke-other"
   match="告诉你：ghost-complete"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varMissionPokeOtherTarget");
world.execute("poke "+t);</send>
  </trigger>
  <trigger
   group="teamfly-host"
   match="告诉你：ghost-complete"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.send("conjure teamdrift sense");
world.send(t);</send>
  </trigger>
  <trigger
   group="quest-action-ghost"
   match="告诉你：ghost-complete"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var f=world.getVariable("varTeamFlyTarget");
world.execute("gooGhost "+f);</send>
  </trigger>
  <trigger
   group="mission-poke-other"
   match="告诉你：ghost-fail"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; ghost fail, abort mission");
initMove();
world.enablegroup("mission-poke-other",0);
world.execute("missionPokeOtherFail");</send>
  </trigger>
  <trigger
   group="teamfly-host"
   match="告诉你：ghost-fail"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; ghost fail, abort mission");
world.enablegroup("teamfly-host",0);
initMove();
world.execute("drop");</send>
  </trigger>
  <trigger
   group="ginseng2"
   match="告诉你：ginseng-2st"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
//addMove2("checkBusy");
addMove2("fd;autokill dugu chi");
addMove2("up;autofight shu");
addMove2("jump;jump;south;checkStatus");
addMove2("south;south;south;east;pawn ginseng;checkBusy");
addMove2("sell gold mituo;checkBusy");
addMove2("west;north;north;east;north;tell shu ginseng-done;whisper");

startMove(true);
</send>
  </trigger>
  <trigger
   group="ginseng2"
   match="告诉你：ginseng-inposition"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
//addMove2("checkBusy");
addMove2("fd;autokill dugu chi");
addMove2("checkCorpseGoldItem;tell code ginseng-back");
addMove2("up;autofight lshui+numberone+shu 2");
addMove2("jump;jump;south;checkStatus");
addMove2("south;south;south;east;pawn ginseng;checkBusy");
addMove2("sell gold mituo;checkBusy");
addMove2("west;north;north;east;north;whisper");
addMove2("waitPoke code");
addMove2("give code all;reconnectGinseng");
startMove(true);
</send>
  </trigger>
  <trigger
   group="ginseng2"
   match="告诉你：ginseng-inposition"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
//addMove2("checkBusy");
addMove2("fd;autokill dugu chi");
addMove2("checkCorpseGoldItem");
addMove2("up;autofight lshui+numberone+kana");
addMove2("jump;jump;south;tell lshui ginseng-2st;checkStatus");
addMove2("south;south;south;east;pawn ginseng;checkBusy");
addMove2("sell gold mituo;checkBusy");
addMove2("west;north;north;east;north;tell code ginseng-back;whisper");
startMove(true);
</send>
  </trigger>
  <trigger
   group="ginseng2"
   match="告诉你：ginseng-reconnect"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>reconnectGinseng2st</send>
  </trigger>
  <trigger
   group="mission-fly"
   match="告诉你：mission-go"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var a=world.getvariable("varMissionAsker");
initMove();
addMove2("missionFlyMark");
addMove2("goo illusionist dong");
addMove2("down;south;checkStatus");
addMove2("east;savePots");
addMove2("tell "+a+" mission-fly-complete;whisper");
startMove(true);
</send>
  </trigger>
  <trigger
   group="mission-request"
   match="告诉你：mission-request"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>mission cancel</send>
  </trigger>
  <trigger
   group="teamfly-ask"
   match="告诉你：teamflyNOTready"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var h=world.getvariable("varTeamFlyHelper");
world.doafterspecial(5,"tell "+h+" teamflygo",10);
</send>
  </trigger>
  <trigger
   group="teamfly-ask"
   match="告诉你：teamflybroken"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("teamfly-ask",0);
//var b=world.getvariable("varBreakCommand");
//world.note("---&gt; team fly broken");
world.execute("drop");
</send>
  </trigger>
  <trigger
   group="teamfly-ask"
   match="告诉你：teamflyready"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varTeamFlyTarget");
var h=world.getvariable("varTeamFlyHelper");
world.execute("whisper "+h+" teamfly-"+t);
</send>
  </trigger>
  <trigger
   group="mission-locate"
   match="告诉你：vision-broken"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-locate",0);
world.execute("missionAsk");</send>
  </trigger>
  <trigger
   group="mission-locate"
   match="告诉你：vision-location:(?P&lt;namedesc&gt;.+)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-locate",0);
var locid=mapLocationNameId["%&lt;namedesc&gt;"];
world.note("---&gt; mission location id:"+locid);
if (locid==null || locid=="" ||locid=="undefined" || locid==undefined){
world.execute("missionLocationNotFound %&lt;namedesc&gt;");
}else{
world.setvariable("varMissionLocationId",locid);
if (locid.indexOf("fywall")&gt;=0)
world.execute("tt mission-item-zhanjia");
world.execute("missionCheckRiddleItem");
}
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="恭喜你，又完成了一个任务。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varTasknpcKilled",1);
</send>
  </trigger>
  <trigger
   group="huashan_yadi"
   match="公冶长看了你一眼，笑对你说：“你知道它在说什么吗？它在说："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.execute("follow crow");
</send>
  </trigger>
  <trigger
   group="huashan_yadi"
   match="公冶长看了你一眼，欲言又止。 "
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>north
south</send>
  </trigger>
  <trigger
   group="manglin-up"
   match="古树顶"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("manglin-up",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="move-dqw"
   match="谷内小径"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("move-south",0);
world.enableGroup("move-dqw",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="paa"
   match="怪物钻石\(Diamond(?P&lt;dnum&gt;\d+)\)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>varMyQueue1.enqueue("diamond"+"%&lt;dnum&gt;");</send>
  </trigger>
  <trigger
   group="dqd_up"
   match="观月顶"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("dqd_up",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="fly_dqd"
   match="观月顶"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_dqd",0);
world.doAfterSpecial(1,"whisper",10):</send>
  </trigger>
  <trigger
   group="task"
   match="滚落山崖。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(10,"eat jiduan",10);
world.doAfterSpecial(15,"restartTask",10);
</send>
  </trigger>
  <trigger
   group="task"
   match="滚下了山岭。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(10,"eat jiduan",10);
world.doAfterSpecial(15,"restartTask",10);
</send>
  </trigger>
  <trigger
   group="mission-help-kill2"
   match="郭灭死了。|胡姥姥死了。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.setvariable("varMissionTarget","gao tianjue");
world.setvariable("varCheckKneel","yes");
world.execute("burn");</send>
  </trigger>
  <trigger
   group="mission-action"
   match="郭灭死了。|胡姥姥死了。|金花娘死了。|金童死了。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; need to go kneel later")
world.setvariable("varCheckKneel","yes");

</send>
  </trigger>
  <trigger
   group="bat_wave"
   match="海浪就象是一头头恶狼，唑咬着你的船"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(0.2,"look wave",10);</send>
  </trigger>
  <trigger
   group="dqe-bat-t"
   match="海浪就象是一头头恶狼，唑咬着你的船！"
   regexp="y"
   sequence="100"
  >
  <send>look wave</send>
  </trigger>
  <trigger
   group="fly_dm"
   match="汉柏院"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_dm",0);
world.doAfterSpecial(1,"whisper",10);
</send>
  </trigger>
  <trigger
   group="wanmei-swim"
   match="荷花荡"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>endActionGroup wanmei-swim</send>
  </trigger>
  <trigger
   group="mission-check-ready"
   match="很无聊地戳了你一下。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var c=parseInt(world.getvariable("varMissionCheckReady"));
c=c+1;
world.setvariable("varMissionCheckReady",c);
world.note("---&gt; mission helper ready count:"+c);</send>
  </trigger>
  <trigger
   group="shenshui_up"
   match="轰隆一声，头顶上的出口又被挡住了。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.resetTimers();
//world.DeleteTemporaryTimers();
world.send("search");</send>
  </trigger>
  <trigger
   group="mission-help-kill2"
   match="胡姥姥嘿嘿怪叫：你上了我们姊妹当了！"
   regexp="y"
   sequence="100"
  >
  <send>kill hulaolaob</send>
  </trigger>
  <trigger
   group="kkpaper"
   match="胡英死了"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("kkpaper",0);
world.doAfterspecial(4,"ww0;whisper",10);</send>
  </trigger>
  <trigger
   group="fly_dwg2"
   match="湖底"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_dwg2",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="flower"
   match="花满城小心翼翼递给你一朵"
   regexp="y"
   sequence="100"
  >
  <send>delivery</send>
  </trigger>
  <trigger
   group="dali_tea"
   match="华赫艮给了你一个精致花盆。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("drop tea flower;east;south;east;east;east;east");
world.doAfterSpecial(1,"dle-jump",10);</send>
  </trigger>
  <trigger
   group="quest"
   match="还好，没有被发现。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n=world.getVariable("varQuestNpc");
world.doAfterSpecial(1,"steal cloth from "+n,10);</send>
  </trigger>
  <trigger
   enabled="y"
   group="myitem"
   match="慌乱而去"
   send_to="12"
   sequence="100"
  >
  <send>world.note("------------&gt; lost item");
world.note("------------&gt; lost item");
world.note("------------&gt; lost item");
world.note("------------&gt; lost item");</send>
  </trigger>
  <trigger
   group="task"
   match="慌乱而去"
   regexp="y"
   sequence="100"
  >
  <send>get bag
gab LOST ITEM!
gab LOST ITEM!!
gab LOST ITEM!!!
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="慌乱而去。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt;Item lost !!!");
world.setVariable("varMoveCommand","onLostItem");
</send>
  </trigger>
  <trigger
   group="fly_huangshan"
   match="黄山剑庐"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_huangshan",0);
world.doAfterspecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="pianzi"
   match="江湖骗子说道：佩服，佩服，这是你的二两银子"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>play</send>
  </trigger>
  <trigger
   group="pianzi"
   match="江湖骗子说道：怎么不玩了，你还有希望赢"
   regexp="y"
   sequence="100"
  >
  <send>play</send>
  </trigger>
  <trigger
   group="huashan_pearl"
   match="金灵芝和丁枫向东边荒凉的小径走去，很快消失了。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("huashan_pearl",0);
world.execute("east;whisper");</send>
  </trigger>
  <trigger
   enabled="y"
   group="myinfo"
   match="精力(\s\s)(\S\S)(\s*)(?P&lt;jin&gt;\d*)(\s*)/(\s*)(?P&lt;maxjin&gt;\d*)(\s*)\((?P&lt;jinrate&gt;.+)%\)(\s+)食物(\S\S)(\s*)(?P&lt;food&gt;\d*)%"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("--------catch---------");
world.setVariable("varMyJin",%&lt;jin&gt;);
world.setVariable("varMyMaxJin",%&lt;maxjin&gt;);
world.setVariable("varMyFood",%&lt;food&gt;);
world.setVariable("varMyJinRate",%&lt;jinrate&gt;);

</send>
  </trigger>
  <trigger
   group="fly_guanyin"
   match="精致卧房"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_guanyin",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="dali_tea"
   match="经过你的精心栽培，茶花成活了！！！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varDaliTeaDone",1);</send>
  </trigger>
  <trigger
   group="mission-ask"
   match="据组织情报，(.+)现在藏匿在(?P&lt;arealoc&gt;.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-ask",0);
var t=world.getvariable("varMissionTarget");
var fs=world.getvariable("varMissionFengsan");

if (t=="unknown"){
//world.note("---&gt; unknown mission target");
//world.execute("stopp");
world.execute("missionAsk");

}else if (fs=="yes" &amp;&amp; t!="feng san"){
//fengsan logic
world.execute("missionAsk");

}else{
var locid=mapAreaLocName["%&lt;arealoc&gt;"];
if (locid==null || locid=="" || locid==undefined){
world.execute("missionLocationNotFound %&lt;arealoc&gt;");
}else if (locid=="duplicated"){
world.note("---&gt; duplicated location, need to vision npc");
world.execute("missionLocate");
}else{
world.note("---&gt; mission location id "+locid);
world.setvariable("varMissionLocationId",locid);
if (locid.indexOf("fywall")&gt;=0)
world.execute("tt mission-item-zhanjia");
world.execute("missionCheckRiddleItem");
}

}</send>
  </trigger>
  <trigger
   group="mission-request2"
   match="据组织情报，(.+)现在藏匿在(?P&lt;loc&gt;.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var l="%&lt;loc&gt;".length;
//world.note("---&gt; length"+l);
if (l&gt;3)
world.execute("tt;tt mission-location-%&lt;loc&gt;");
else
world.execute("tt;tt mission-location-unknown");

</send>
  </trigger>
  <trigger
   group="mission-search-autokill"
   match="看起来(?P&lt;npc&gt;.+)想杀死你！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var c=world.getvariable("varMissionName");
if (c=="%&lt;npc&gt;"){
world.note("---&gt; mission npc auotkill");
world.enablegroup("mission-search-autokill",0);
initMove();
var t=world.getvariable("varMissionTarget");
world.setvariable("varKillTarget",t);
world.execute("wimpy 99;kill "+t+";ssNoKill");
addMove2("checkBusy");
if (t!="no xue yiren")
addMove2("missionSummon");
else
addMove2("missionNoSummon");
}</send>
  </trigger>
  <trigger
   group="mission-action"
   match="看起来狼想杀死你！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varMissionTarget");
if (t!=null &amp;&amp; t!=""){
world.execute("kill "+t);
}</send>
  </trigger>
  <trigger
   group="mission-kill2"
   match="看起来萧仲忍想杀死你"
   regexp="y"
   sequence="100"
  >
  <send>burn</send>
  </trigger>
  <trigger
   group="dqd_boat"
   match="老婆子说道：“到了，你们可以下船了。”"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("dqd_boat",0);
world.execute("up;whisper");
</send>
  </trigger>
  <trigger
   group="dqd_boat"
   match="老婆子说道：“上船吧！”"
   regexp="y"
   sequence="100"
  >
  <send>down</send>
  </trigger>
  <trigger
   enabled="y"
   group="myinfo"
   match="灵力(\s\s)(\S\S)(\s*)(?P&lt;lin&gt;\d*)(\s*)/(\s*)(?P&lt;maxlin&gt;\d*)(\s*)\((.+)\)(\s+)杀气(\S\S)(\s*)(?P&lt;sha&gt;\S+)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varMyLin",%&lt;lin&gt;);
world.setVariable("varMyMaxLin",%&lt;maxlin&gt;);
var sha='%&lt;sha&gt;';
if (sha== null) sha="0";
world.setVariable("varMySha",sha);
</send>
  </trigger>
  <trigger
   group="liutree_up"
   match="柳树上"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("liutree_up",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="sl_door"
   match="没有游山牌，非少林弟子不可入内"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill monk");
world.doAfterSpecial(1,"north",10);
</send>
  </trigger>
  <trigger
   group="taskfinger"
   match="没有这个人....。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>varMyQueue1.enqueue("npc");</send>
  </trigger>
  <trigger
   group="dali_letter"
   match="门派贡献： (?P&lt;gx&gt;\S*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varDaliGX",'%&lt;gx&gt;');
world.note("---&gt; DALI gongxian:"+'%&lt;gx&gt;');</send>
  </trigger>
  <trigger
   group="sq_in"
   match="门是开着的，敲什么？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>north</send>
  </trigger>
  <trigger
   group="heisong_up"
   match="蒙面人将小娟装入大布袋，向黑松山遁去"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
world.enableGroup("heisong_up",0);
world.execute("north;whisper");</send>
  </trigger>
  <trigger
   group="liutree_down"
   match="猛然间一股很大的力量把你拖入了水中"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("liutree_down",0);
world.doAfterSpecial(2,"whisper",10);
</send>
  </trigger>
  <trigger
   group="liutree_up"
   match="猛然间一股很大的力量把你拖入了水中。"
   regexp="y"
   sequence="100"
  >
  <send>up
climb tree</send>
  </trigger>
  <trigger
   group="dwg_in"
   match="秘道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("dwg_in",0);
world.send("whisper");
</send>
  </trigger>
  <trigger
   group="mission-check-wiz"
   match="目前正在连线中。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varMissionCheckWizOnline","yes");
world.note("---&gt; wiz online");</send>
  </trigger>
  <trigger
   group="hell_dash"
   match="奈何桥"
   regexp="y"
   sequence="100"
  >
  <send>east
dash</send>
  </trigger>
  <trigger
   group="fly_shiyi"
   match="南宫钱庄"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_shiyi",0)</send>
  </trigger>
  <trigger
   group="fly_shisi"
   match="南宫钱庄"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_shisi",0)</send>
  </trigger>
  <trigger
   enabled="y"
   group="myinfo"
   match="内力(\s\s)(\S\S)(\s*)(?P&lt;force&gt;\d*)(\s*)/(\s*)(?P&lt;maxforce&gt;\d*)(\s*)\((.+)\)(\s+)潜能(\S\S)(\s*)(?P&lt;pots&gt;\S*)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varMyforce",%&lt;force&gt;);
world.setVariable("varMyMaxForce",%&lt;maxforce&gt;);
world.setVariable("varMyPots",%&lt;pots&gt;);
</send>
  </trigger>
  <trigger
   group="sleep_pr"
   match="内力不够|你的内力或气不够"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varSleepPRRecover",1);</send>
  </trigger>
  <trigger
   group="sl_indoor"
   match="内院$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("sl_indoor",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="move"
   match="你：FLYMEREADY"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("goo2 flyme");</send>
  </trigger>
  <trigger
   group="taskreward"
   match="你：no task$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("reloadScript");
world.doAfterSpecial(10,"dotaskreward",10);
</send>
  </trigger>
  <trigger
   group="meng_down"
   match="你把小床推过来掩盖住密道"
   regexp="y"
   sequence="100"
  >
  <send>push bed</send>
  </trigger>
  <trigger
   group="meng_down"
   match="你把小床推开发现了一条密道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("meng-down",0);
world.execute("ww0;down;whisper");</send>
  </trigger>
  <trigger
   group="sharen-knee"
   match="你搬动机关。。。突然不知从哪儿射出一跟铁针，你被打了个正着！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doafterspecial(1,"push 1",10);</send>
  </trigger>
  <trigger
   group="quest-ask"
   match="你被奖励了："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varQuestReturnReward",1);
world.execute("qq");</send>
  </trigger>
  <trigger
   group="questkill"
   match="你不可以在这里研究。"
   regexp="y"
   sequence="100"
  >
  <send>get n1</send>
  </trigger>
  <trigger
   group="taskkill"
   match="你不可以在这里研究。"
   regexp="y"
   sequence="100"
  >
  <send>get n1</send>
  </trigger>
  <trigger
   group="autokill"
   match="你不可以在这里研究。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("autokill-perform",0);
world.execute("get nothing1234");

</send>
  </trigger>
  <trigger
   enabled="y"
   match="你不由地深吸了一口气。|你中的(.+)发作了！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varPoison",1);</send>
  </trigger>
  <trigger
   group="jiedume"
   match="你成功地逼出体内的巨毒"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varInPoison",0);
world.enableGroup("jiedume",0);</send>
  </trigger>
  <trigger
   group="quest"
   match="你成功地偷到一"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n=world.getVariable("varQuestNpc");
world.execute("pp0 cloth;questKill "+n);</send>
  </trigger>
  <trigger
   group="dq-swim"
   match="你从池水中爬了上来。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("dq-swim",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="mission-check-riddle"
   match="你从天蚕布袋中拿出"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-check-riddle",0);
world.note("---&gt; mission riddle item exist");
world.setvariable("varMissionRiddleItem","yes");
world.execute("missionGo");</send>
  </trigger>
  <trigger
   group="ginseng-maze-move-dz2"
   match="你从忘我的境界中回神敛气，睁开了眼睛。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("ginseng-maze-move-dz2",0);
world.execute("drop 1 coin;gsMazeLook");</send>
  </trigger>
  <trigger
   group="ginseng-maze-move-dz1"
   match="你从忘我的境界中回神敛气，睁开了眼睛。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("ginseng-maze-move-dz1",0);
world.execute("gsMazeMove");</send>
  </trigger>
  <trigger
   group="dazuo"
   match="你从忘我的境界中回神敛气，睁开了眼睛。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("after dazuo");
var a=world.getVariable("varActionAfterDazuo");
if (a!=""){
world.execute(a);
world.setVariable("varActionAfterDazuo","");
world.enableGroup("dazuo",0);
}</send>
  </trigger>
  <trigger
   group="loopjob"
   match="你从忘我的境界中回神敛气，睁开了眼睛。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("up;up");
var loopjob=world.getVariable("varLoopJob");
world.execute(loopjob);</send>
  </trigger>
  <trigger
   group="dqe-bat-t"
   match="你从忘我的境界中回神敛气，睁开了眼睛。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>dqe-bat-1</send>
  </trigger>
  <trigger
   group="check-status"
   match="你从忘我的境界中回神敛气，睁开了眼睛。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>hp;ask</send>
  </trigger>
  <trigger
   group="jump_practice_research"
   match="你的(.*)进步了！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varResearchLevelUp", 1);</send>
  </trigger>
  <trigger
   group="usemark"
   match="你的［时空转换］失败了"
   regexp="y"
   sequence="100"
  >
  <send>usemark</send>
  </trigger>
  <trigger
   group="usemark"
   match="你的精不够！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("ex1 200");
world.doafterspecial(5,"usemark",10);</send>
  </trigger>
  <trigger
   group="smk"
   match="你的精不够！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("ex1 200");
world.doafterspecial(5,"setmark",10);</send>
  </trigger>
  <trigger
   group="check-status"
   match="你的精气神全恢复了！！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
var g=world.getvariable("varMyGender");
if (g=="male"){
world.execute("hp;east;east;south;east;east;south;south;south;south;ask");
}else{
world.execute("hp;west;west;south;west;west;south;south;south;south;ask");
}</send>
  </trigger>
  <trigger
   group="teamfly-host"
   match="你的灵力不够！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("de");
world.doafterspecial(1,"res 200",10);
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(5,"teamfly "+t,10);

</send>
  </trigger>
  <trigger
   group="smk"
   match="你的灵力不够！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(2,"ex1 500",10);
world.doAfterSpecial(5,"res 200",10);
world.doAfterSpecial(8,"setmark",10);
</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="你的灵力不够！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("de");
world.doafterspecial(1,"res 100",10);
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(5,"goo "+t,10);

</send>
  </trigger>
  <trigger
   group="jump_practice_research"
   match="你的内力不够"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varPracticeLimit",1);</send>
  </trigger>
  <trigger
   group="dugu-sword"
   match="你的内力不够，没有力气演练「总诀式」"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var k=world.getVariable("varMyMaxKee");
k--;
world.execute("ex "+k);</send>
  </trigger>
  <trigger
   group="zong-dugu"
   match="你的内力不够，没有力气演练「总诀式」！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("ex 3000");
world.doafterspecial(5,"fd;perform zong",10);</send>
  </trigger>
  <trigger
   group="dali_letter"
   match="你的上一封信还没送到，怎么还来问我要"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(5,"ask fan about letter",10);</send>
  </trigger>
  <trigger
   group="sleep_pr"
   match="你的身体状况无法强化练习|体力不够"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varSleepPRRest",1);</send>
  </trigger>
  <trigger
   group="shenshui_up"
   match="你的手在石壁上摸到了一个突出物，你顺手往上一按"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.enableGroup("shenshui_up",0);
world.execute("up");
//world.doAfterSpecial(2,"whisper",10);</send>
  </trigger>
  <trigger
   group="summon-team"
   match="你的信鸽正在接引队友！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt;summon busy");
var t=world.getvariable("varSummonTarget");
world.doafterspecial(2,"inform "+t,10);</send>
  </trigger>
  <trigger
   group="dali_letter"
   match="你的眼前一黑，接著什麽也不知道了."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(120,"whisper",10);</send>
  </trigger>
  <trigger
   group="dali_yao"
   match="你的药锄象是碰到了些什么，这东西看上去象是药材，你毫不犹豫地把它揣在怀里！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varDaliYaoDone",1);
</send>
  </trigger>
  <trigger
   group="check-status"
   match="你的真气不够。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var f=world.getvariable("varMyMaxForce");
f=f*3/2;
world.execute("ex "+f);
</send>
  </trigger>
  <trigger
   group="stone_y"
   match="你递给罗达成一块歙石"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varStoneTime",world.getInfo(304));</send>
  </trigger>
  <trigger
   group="backfaint"
   match="你点了点头。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("backfaint",0);
world.execute("eat jiduan");
world.doAfterSpecial(1,"whisper",10);

</send>
  </trigger>
  <trigger
   group="bat_in"
   match="你点了点头。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("bat_in",0);
world.execute("eat jiduan");
world.doAfterSpecial(10,"whisper",10);

</send>
  </trigger>
  <trigger
   group="bat_dash"
   match="你点了点头。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("bat_dash",0);
world.execute("eat jiduan");
world.doAfterSpecial(10,"whisper",10);

</send>
  </trigger>
  <trigger
   group="stone_y"
   match="你丢下一个砚台"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
initMove();
addMove2("disStoneYGet;east;de;mmk2;waitSec 2");
addMove2("goo2 alpha");
addMove2("tell alpha GGstone;waitSec 3");
addMove2("goo2 nangong");
addMove2("east;south;west;westup;westup;westdown;south;westup;whisper");
addMove2("gg0 yanzhi;give girl yanzhi;kill girl;waitSec 3");
addMove2("umk");
addMove2("west;give luo tea;give luo stone;enStoneYGet");
startMove(false);

</send>
  </trigger>
  <trigger
   group="meng_kill"
   match="你对此项技能一无所知，如何搞研究？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("get nothing1234");
</send>
  </trigger>
  <trigger
   group="autokill"
   match="你对此项技能一无所知，如何搞研究？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("autokill-perform",0);
world.enableGroup("autokill-busy",1);
world.execute("get nothing1234");

</send>
  </trigger>
  <trigger
   group="questkill"
   match="你对此项技能一无所知，如何搞研究？"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>get n1</send>
  </trigger>
  <trigger
   group="taskkill"
   match="你对此项技能一无所知，如何搞研究？"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>get n1</send>
  </trigger>
  <trigger
   group="maze_kill"
   match="你对此项技能一无所知，如何搞研究？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("get nothing1234");
</send>
  </trigger>
  <trigger
   group="mz_kill"
   match="你对此项技能一无所知，如何搞研究？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("get nothing1234");
</send>
  </trigger>
  <trigger
   group="mission-search"
   match="你对著郭灭喝道："
   regexp="y"
   sequence="100"
  >
  <send>kill gao tianjue</send>
  </trigger>
  <trigger
   group="pianzi_show"
   match="你对著江湖骗子点了点头"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("pianzi_show",0);
world.execute("takePile");</send>
  </trigger>
  <trigger
   group="ginseng-up-move"
   match="你躲避不及，被大雪球紧紧的压在下边！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsengUpMoveBusy","yes");
world.note("---&gt; up move fail with busy, need to wait");</send>
  </trigger>
  <trigger
   group="taskreward"
   match="你发出一声怒吼，双臂一振，将周身凝聚的冰块震得粉碎！！"
   regexp="y"
   sequence="100"
  >
  <send>whisper</send>
  </trigger>
  <trigger
   group="ginseng-maze-move"
   match="你奋起最后一点残余的力气，从积雪堆中爬了出来！"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>gsMazeMove</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="你奋起最后一点残余的力气，从积雪堆中爬了出来！！"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>look
whisper</send>
  </trigger>
  <trigger
   group="check-get"
   match="你附近没有这样东西"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>endActionGroup check-get</send>
  </trigger>
  <trigger
   group="maze_kill"
   match="你附近没有这样东西。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
world.resetTimers();
world.enableGroup("maze_kill",0);
world.execute("gaa");
world.setVariable("varMazeMonster",0);
world.execute("whisper");

</send>
  </trigger>
  <trigger
   group="taskkill"
   match="你附近没有这样东西。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("taskkill",0);
world.execute("taskkilldone");</send>
  </trigger>
  <trigger
   group="questkill"
   match="你附近没有这样东西。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("questkill",0);
world.execute("questKillDone");</send>
  </trigger>
  <trigger
   group="meng_kill"
   match="你附近没有这样东西。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("meng_kill",0);
//world.deleteTemporaryTimers();
world.resetTimers();
world.execute("checkHP");</send>
  </trigger>
  <trigger
   group="mz_kill"
   match="你附近没有这样东西。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.resetTimers();
world.deleteTemporaryTimers();
world.enableGroup("mz_kill",0);
world.doAfterSpecial(1,"unwield all;whisper",10);</send>
  </trigger>
  <trigger
   group="mission-check-riddle"
   match="你附近没有这样东西。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-check-riddle",0);
world.note("---&gt; mission riddle item NOT exist");
world.setvariable("varMissionRiddleItem","no");
world.execute("missionAsk");</send>
  </trigger>
  <trigger
   enabled="y"
   group="move"
   match="你感觉到一股很大的力量在把你往下扯。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>up</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="你感受到对方的力量，但是不够强烈。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.send("conjure drift sense");
world.send(t);
//world.doafterspecial(2,"",10);
</send>
  </trigger>
  <trigger
   group="teamfly-host"
   match="你感受到对方的灵力，但是不够强烈。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.send("conjure teamdrift sense");
world.send(t);
//world.doafterspecial(2,"",10);
</send>
  </trigger>
  <trigger
   group="move"
   match="你感受到对方的灵力，但是不够强烈。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.execute("goo "+t);</send>
  </trigger>
  <trigger
   group="taskfinger"
   match="你告诉"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>varMyQueue1.enqueue("player");</send>
  </trigger>
  <trigger
   group="wait-poke"
   match="你很无聊地戳了"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varWaitPokeDone","yes");</send>
  </trigger>
  <trigger
   group="mission-wait"
   match="你很无聊地戳了(.+)一下。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-wait",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="mission-poke"
   match="你很无聊地戳了(.+)一下。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("mission-poke",0);
var fs=world.getvariable("varMissionFengsan");

//if (fs=="no"){
var t=world.getvariable("varMissionTarget");
if (t!="no xue yiren")
world.execute("missionSummon");
else
world.execute("missionNoSummon");

//}else{
//world.note("---&gt; found feng san");
//world.execute("missionDoFengsan");
//}
</send>
  </trigger>
  <trigger
   group="mission-poke-other"
   match="你很无聊地戳了(.+)一下。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>endActionGroup mission-poke-other</send>
  </trigger>
  <trigger
   group="li_in"
   match="你很无聊地戳了铁传甲一下。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill royal servant;ss3");</send>
  </trigger>
  <trigger
   group="heisong_up"
   match="你很无聊地戳了小娟一下。"
   regexp="y"
   sequence="100"
  >
  <send>talk xiao juan</send>
  </trigger>
  <trigger
   group="dali_yao"
   match="你胡乱地挖几锄头，累得满头大汗，但什么也没找到，"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var f=world.getVariable("varDaliYaoDone");
if (f==1){
world.setVariable("varDaliYaoDone",0);
world.execute("give ba yao;go west;east;wa yaocai");
}else{
world.execute("go west;east;wa yaocai");
}
</send>
  </trigger>
  <trigger
   group="smk"
   match="你环顾四方，双手一挥，闪出一点紫色火花落入地上消失了 。。。。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("smk",0);
var now=new Date().getTime();
world.setvariable("varSetmarkTime",now);
world.execute("checkBusy");</send>
  </trigger>
  <trigger
   group="ginseng-maze-move"
   match="你机凌凌的打了个冷战。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; success to move, need to recover damage");
world.setvariable("varGinsengMazeMoveRecover","yes");
//world.doafterspecial(8,"fd;dz",10);
</send>
  </trigger>
  <trigger
   group="learn_master"
   match="你今天太累了，结果"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varLearnFlag",1);</send>
  </trigger>
  <trigger
   group="sky_learn"
   match="你今天太累了，结果什麽也没有学到。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varSkyLearnJumpFlag",1);</send>
  </trigger>
  <trigger
   group="sealfly"
   match="你紧闭双眼,对着魔毯念了几句咒语,魔毯载着你直冲云霄。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("sealfly",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="shenshui_pearl"
   match="你看到石壁上有几粒珍珠似乎组成一个小箭头，箭尖对着东南方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("shenshui_pearl",0);
world.execute("southeast;whisper");</send>
  </trigger>
  <trigger
   group="dali_tea"
   match="你看清楚点:这里没有这个人耶。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(5,"ask hua about chahua",10);</send>
  </trigger>
  <trigger
   group="bat_book"
   match="你看清楚点:这里没有这个人耶。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("bat_book",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="huashan_pearl"
   match="你看清楚点:这里没有这个人耶。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("huashan_pearl",0);
world.execute("whisper");
</send>
  </trigger>
  <trigger
   group="ty_in"
   match="你没成功"
   regexp="y"
   sequence="100"
  >
  <send>catch rabbit</send>
  </trigger>
  <trigger
   group="dali_letter"
   match="你拿出回函"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("sc;de;ask");</send>
  </trigger>
  <trigger
   group="damo"
   match="你挠了挠头，站了起来。"
   regexp="y"
   sequence="100"
  >
  <send>mianbi</send>
  </trigger>
  <trigger
   group="ty_in"
   match="你扑了个空。"
   regexp="y"
   sequence="100"
  >
  <send>catch rabbit</send>
  </trigger>
  <trigger
   group="ginseng-up-move"
   match="你全身紧贴在岩石下，紧紧抓着凸出来的冰笋，终于躲过冰块，却不由得惊出一身冷汗！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsengUpMoveFail","yes");
world.note("---&gt; up move fail, retry now");</send>
  </trigger>
  <trigger
   group="damo"
   match="你揉了揉眼睛，好像在石壁上看到了什么，估计是眼花了。"
   regexp="y"
   sequence="100"
  >
  <send>mianbi</send>
  </trigger>
  <trigger
   group="loopjob"
   match="你上一个动作(.*)不能打坐"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(3,"dazuo",10);</send>
  </trigger>
  <trigger
   group="check-status"
   match="你上一个动作还没有完成，不能打坐。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doafterspecial(1,"dz",10);</send>
  </trigger>
  <trigger
   group="move"
   match="你上一个动作还没有完成，不能施展神通"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(10,"goo2 "+t,10);
</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="你上一个动作还没有完成，不能施展神通。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(3,"goo "+t,10);

</send>
  </trigger>
  <trigger
   group="autokill2"
   match="你身上没有这样东西。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>gg0 sword</send>
  </trigger>
  <trigger
   group="dali_letter"
   match="你身上没有这样东西。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>drop letter
ask</send>
  </trigger>
  <trigger
   group="msg-team"
   match="你身上没有足够的金子付定金呀。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>msgGold</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="你身上没有足够的金子付定金呀。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>msgGold</send>
  </trigger>
  <trigger
   group="msg"
   match="你身上没有足够的金子付定金呀。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>msgGold</send>
  </trigger>
  <trigger
   group="msg-smk"
   match="你身上没有足够的金子付定金呀。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>msgGold</send>
  </trigger>
  <trigger
   group="flower"
   match="你身上没有足够的银子付定金呀。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n=world.getInfo(3);
world.execute("whisper zip SILVER"+n);
world.doAfterSpecial(3,"delivery",10);</send>
  </trigger>
  <trigger
   group="shenshui_up"
   match="你什么都没找到。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.send("search");</send>
  </trigger>
  <trigger
   group="fight2"
   match="你使出(.+)，暗运内力，震飞手中"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varAutoKillLostSword",1);
world.note("---&gt; LOST SWORD");</send>
  </trigger>
  <trigger
   group="zong-dugu"
   match="你使出独孤九剑之「总诀式」，将手中"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var jin=world.getvariable("varMyJin");
var mjin=world.getvariable("varMyMaxJin");
if (jin&lt;=mjin/2){
world.doafterspecial(2,"fd;dz",10);
world.doafterspecial(5,"perform zong",10);
}else{
world.doafterspecial(0.3,"perform zong",10);
}</send>
  </trigger>
  <trigger
   group="ty_in"
   match="你收势不住摔了个嘴啃泥。 "
   regexp="y"
   sequence="100"
  >
  <send>catch rabbit</send>
  </trigger>
  <trigger
   group="usemark"
   match="你手指掐诀，口中默念，遁入一股青烟之中慢慢消失了 ...."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("usemark",0);
world.setVariable("varFlyAway",1);
world.execute("checkBusy");</send>
  </trigger>
  <trigger
   group="mission-teamfly"
   match="你受到(.+)的心灵感召，顿时如虚空凌度，已到了另外一个地方。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>endActionGroup mission-teamfly</send>
  </trigger>
  <trigger
   group="teamfly-ask"
   match="你受到(.+)的心灵感召，顿时如虚空凌度，已到了另外一个地方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("teamfly-ask",0);
world.execute("checkBusy");
</send>
  </trigger>
  <trigger
   group="chisong-down"
   match="你顺着谷壁爬了下来。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("chisong-down",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="manglin"
   match="你顺着树杆爬了上来。"
   regexp="y"
   sequence="100"
  >
  <send>look vine</send>
  </trigger>
  <trigger
   enabled="y"
   match="你似乎得到一个宝箱！$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varRewardBox",1);</send>
  </trigger>
  <trigger
   group="autokill2"
   match="你所选用的武功中没有这种必杀技。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>getMyWeapon</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="你突然感到脚底软绵绵的，无处着力！你大叫一声“不好！”，可是来不及"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsgFly",10);</send>
  </trigger>
  <trigger
   group="msg"
   match="你突然感到脚底软绵绵的，无处着力！你大叫一声“不好！”，可是来不及"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsg",10);</send>
  </trigger>
  <trigger
   group="msg-team"
   match="你突然感到脚底软绵绵的，无处着力！你大叫一声“不好！”，可是来不及"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsgTeam",10);</send>
  </trigger>
  <trigger
   group="msg-smk"
   match="你突然感到脚底软绵绵的，无处着力！你大叫一声“不好！”，可是来不及"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsgSmk",10);</send>
  </trigger>
  <trigger
   group="ginseng-up-move"
   match="你突然觉得脚底一滑，竟仰天摔了一跤。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsengUpMoveFailRecover","yes");
world.note("---&gt; up move fail with damage, need to recover");</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="你无法感受到这个人 ...."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("fly-xg",0);
world.send("");
world.execute("drop");
</send>
  </trigger>
  <trigger
   group="teamfly-host"
   match="你无法感受到这个人 ....|你无法感受到这个人的灵力 ...."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.send("");

var t=world.getVariable("varFlyTarget");
var c=world.getvariable("varTeamFlyCount");
var f=mapGhostNpc[t];

if (c==0 &amp;&amp; f!=null &amp;&amp; f!=""){
world.setvariable("varTeamFlyCount",1);
world.note("---&gt; try to ghost "+t);
world.execute("ghostHelp "+t+";aasee");
}else{
world.note("---&gt; unable to team fly "+t);
initMove();
world.enablegroup("teamfly-host",0);
world.execute("drop");
}


</send>
  </trigger>
  <trigger
   group="move"
   match="你无法感受到这个人的存在..."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.send("");
world.resetTimers();
world.deleteTemporaryTimers();
</send>
  </trigger>
  <trigger
   group="ghost-npc"
   match="你无法感受到这个人的鬼魂。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("ghost-npc",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="move"
   match="你无法感受到这个人的灵力"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(10,t,10);</send>
  </trigger>
  <trigger
   group="move"
   match="你无法感受到这个人的内力 ...."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.send("");
world.enableGroup("fly",0);
world.resetTimers();
world.deleteTemporaryTimers();
</send>
  </trigger>
  <trigger
   group="pianzi"
   match="你先拿\（take\）吧。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>showPile</send>
  </trigger>
  <trigger
   group="quest-list"
   match="你现在的任务是杀『(?P&lt;target&gt;.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varQuestListCurrent","%&lt;target&gt;")

</send>
  </trigger>
  <trigger
   group="msg-team"
   match="你现在的任务是替(.+)送信给(.+)。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; cancel message again");
world.doafterspecial(2,"msgCancel",10);
</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="你现在的任务是替(.+)送信给(.+)。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; cancel message again");
world.doafterspecial(2,"msgCancel",10);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)冰冰"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)方玉香"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-xiang");
addMove2("give flower to xiang;whisper");
addMove2("xiang-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)风"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)高亚男"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fys");
addMove2("fys-cxn");
addMove2("cxn-hua");
addMove2("hua-hua1");
addMove2("northdown;give flower to gao;whisper");
addMove2("hua1-hua");
addMove2("hua-cxn");
addMove2("cxn-fys");
addMove2("fys-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)胡金袖"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("cancelDlv");

/*
initMove();
addMove2("huaman-fy");
addMove2("fy-fys");
addMove2("fys-cxn");
addMove2("cxn-gw");
addMove2("gw-sunshine");
addMove2("give flower to sunshine;whisper");
addMove2("sunshine-gw");
addMove2("gw-cxn");
addMove2("cxn-fys");
addMove2("fys-fy");
addMove2("fy-huaman");
addMove2("whisper;delivery");
startMove(false);
*/
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)姬夫人"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)姬灵燕"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fyw");
addMove2("fyw-jx");
addMove2("give flower to ji;whisper");
addMove2("jx-fyw");
addMove2("fyw-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)金灵芝"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fys");
addMove2("fys-cxn");
addMove2("cxn-jinlingzhi");
addMove2("give flower to jin;whisper");
addMove2("jinlingzhi-cxn");
addMove2("cxn-fys");
addMove2("fys-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)蓝阳光"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("cancelDlv");

/*
initMove();
addMove2("huaman-fy");
addMove2("fy-fys");
addMove2("fys-cxn");
addMove2("cxn-gw");
addMove2("gw-sunshine");
addMove2("give flower to sunshine;whisper");
addMove2("sunshine-gw");
addMove2("gw-cxn");
addMove2("cxn-fys");
addMove2("fys-fy");
addMove2("fy-huaman");
addMove2("whisper;delivery");
startMove(false);
*/
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)冷"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-leng");
addMove2("give flower to leng;whisper");
addMove2("leng-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)齐小燕"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("cancelDlv");
/*
initMove();
addMove2("huaman-fy");
addMove2("fy-fys");
addMove2("fys-cxn");
addMove2("cxn-gw");
addMove2("gw-gw1");
addMove2("gw1-qixiaoyan");
addMove2("give flower to qi;whisper");
addMove2("qixiaoyan-gw1");
addMove2("gw1-gw");
addMove2("gw-cxn");
addMove2("cxn-fys");
addMove2("fys-fy");
addMove2("fy-huaman");
addMove2("whisper;delivery");
startMove(false);
*/
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)曲无容"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)沈"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fyn");
addMove2("fyn-jn");
addMove2("jn-qp");
addMove2("qp-dm");
addMove2("dm-ts");
addMove2("ts-ts1");
addMove2("ts1-ts2");
addMove2("east;give flower to shen;west;whisper");
addMove2("ts2-ts1");
addMove2("ts1-ts");
addMove2("ts-dm");
addMove2("dm-qp");
addMove2("qp-jn");
addMove2("jn-fyn");
addMove2("fyn-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)宋甜儿"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fyn");
addMove2("fyn-jn");
addMove2("southup;southdown;east;give flower to song;west;northup;northdown;whisper");
addMove2("jn-fyn");
addMove2("fyn-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)苏蓉蓉"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fyn");
addMove2("fyn-jn");
addMove2("east;give flower to su;west;whisper");
addMove2("jn-fyn");
addMove2("fyn-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)孙"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fyw");
addMove2("southeast;give flower to sun;northwest;whisper");
addMove2("fyw-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)田心"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)小铃儿"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fys");
addMove2("fys-cxn");
addMove2("cxn-hua");
addMove2("east;give flower to linger;west;whisper");
addMove2("hua-cxn");
addMove2("cxn-fys");
addMove2("fys-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)小桃红"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)雅芳"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-yafang");
addMove2("give flower to yafang;whisper");
addMove2("yafang-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);

</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)燕珊"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("huaman-fy");
addMove2("fy-fys");
addMove2("fys-cxn");
addMove2("cxn-cx");
addMove2("cx-huang");
addMove2("huang-yanshan");
addMove2("give flower to yan;whisper");
addMove2("yanshan-huang");
addMove2("huang-cx");
addMove2("cx-cxn");
addMove2("cxn-fys");
addMove2("fys-fy");
addMove2("fy-huaman");
addMove2("giveSilver;whisper;delivery");
startMove(false);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)箫飞雨"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="flower"
   match="你现在的任务是替(?P&lt;nouse&gt;.*)箫曼风"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>cancelDlv</send>
  </trigger>
  <trigger
   group="quest"
   match="你现在的任务是寻『(?P&lt;qitem&gt;.*)』。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varQuestItem","%&lt;qitem&gt;");
world.setVariable("varQuestNpc","");
world.setVariable("varQuestItemId",0);
world.setVariable("varQuestItemAfterKill",0);
world.note("quest item: %&lt;qitem&gt;");
world.execute("doQuestItem");</send>
  </trigger>
  <trigger
   group="quest-list"
   match="你现在的任务是寻『(?P&lt;target&gt;.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varQuestListCurrent","%&lt;target&gt;")

</send>
  </trigger>
  <trigger
   group="quest-return-list"
   match="你现在的任务是寻『(?P&lt;target&gt;.+)』。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>listQuestActiveQueue.push("%&lt;target&gt;");

</send>
  </trigger>
  <trigger
   group="sleepstudy"
   match="你现在过於疲倦，无法专心下来研读新知。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varSleepStudyNeedRest",1);
</send>
  </trigger>
  <trigger
   group="zong-dugu"
   match="你现在精力不够，无法控制内息的流动！"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>dz</send>
  </trigger>
  <trigger
   group="jump_practice_research"
   match="你现在太累了"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varResearchLimit",1);</send>
  </trigger>
  <trigger
   group="sleep_pr"
   match="你现在太累了，结果什麽也没有研究出来。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varSleepPRRest",1);
</send>
  </trigger>
  <trigger
   group="sleep_research"
   match="你现在太累了，结果什麽也没有研究出来。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varResearchRest",1);
</send>
  </trigger>
  <trigger
   group="usemark"
   match="你现在正忙"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(2,"usemark",10);</send>
  </trigger>
  <trigger
   group="summon-team"
   match="你现在正在忙！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt;summon busy");
var t=world.getvariable("varSummonTarget");
world.doafterspecial(2,"inform "+t,10);</send>
  </trigger>
  <trigger
   group="quest"
   match="你想行窃的对象不在这里。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("whisper");</send>
  </trigger>
  <trigger
   group="quest-kill"
   match="你想行窃的对象不在这里。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-kill",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="move"
   match="你想要御龙去的地方不可以用唤龙决！"
   regexp="y"
   sequence="100"
  >
  <send>look</send>
  </trigger>
  <trigger
   group="ty_in"
   match="你向右一扑！野兔向左一闪，你落了个空。 "
   regexp="y"
   sequence="100"
  >
  <send>catch rabbit</send>
  </trigger>
  <trigger
   group="damo"
   match="你嘘了口气。起来活动了一下手腿。"
   regexp="y"
   sequence="100"
  >
  <send>mianbi</send>
  </trigger>
  <trigger
   group="tasknoc"
   match="你血脉不畅，真气受滞，一时竟然不能施展神通。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>whisper</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="你血脉不畅，真气受滞，一时竟然不能施展神通。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.note("---&gt; try fly "+t+" later");
world.doAfterSpecial(5,"goo "+t,10);
</send>
  </trigger>
  <trigger
   group="liutree_down"
   match="你沿着树干慢慢爬了上去，坐到了横在湖面的柳树干上。"
   regexp="y"
   sequence="100"
  >
  <send>down
climb tree</send>
  </trigger>
  <trigger
   group="eat-rice"
   match="你要吃什么东西？"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>stopp</send>
  </trigger>
  <trigger
   enabled="y"
   group="move"
   match="你要丢弃什麽东西？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var d=world.getvariable("varBreakCommand");
if (d!=null &amp;&amp; d!="none" &amp;&amp; d!=""){
world.note("---&gt; auto command broken, going to run break command "+d);
//world.setvariable("varBreakCommand","none");
//world.execute("stopp");
world.doafterspecial(2,d,10);
}else{
world.note("---&gt; auto command broken, no break command defined.");
world.execute("whisper");
}
</send>
  </trigger>
  <trigger
   group="ginseng-checkdugu"
   match="你要对谁做这个动作？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsengDuguClear","yes");
</send>
  </trigger>
  <trigger
   group="mission-poke"
   match="你要对谁做这个动作？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("endActionGroup mission-poke");</send>
  </trigger>
  <trigger
   group="heisong_up"
   match="你要对谁做这个动作？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("heisong_up",0);
world.execute("north;whisper");
</send>
  </trigger>
  <trigger
   group="mission-poke-other"
   match="你要对谁做这个动作？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var c=world.getvariable("varMissionPokeOtherCount");
var t=world.getvariable("varMissionPokeOtherTarget");
var f=mapGhostNpc[t];
if (c==0 &amp;&amp; f!=null &amp;&amp; f!=""){
world.note("--&gt; try to ghost "+t);
world.setvariable("varMissionPokeOtherCount",1);
world.execute("ghostHelp "+t+";aasee");
}else{
initMove();
world.note("--&gt; unable to poke "+t+", abort mission");
world.execute("endActionGroup mission-poke-other;missionPokeOtherFail");
}</send>
  </trigger>
  <trigger
   group="mission-wait"
   match="你要对谁做这个动作？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varTeamFlyHelper");
world.doafterspecial(5,"poke "+t,10);
</send>
  </trigger>
  <trigger
   group="quest-askreturn"
   match="你要关闭什麽？$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var d=world.getvariable("varQuestReturnDone");
if (d==1){
world.enablegroup("quest-askreturn",0);
world.execute("whisper");
}else{
world.note("---&gt; wait for qust return finish");
world.doafterspecial(2,"close",10);
}
</send>
  </trigger>
  <trigger
   group="msg-team"
   match="你要过(.+)秒之后才可继续送信。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("de");
world.doafterspecial(2,"messenger",10);
</send>
  </trigger>
  <trigger
   group="msg-smk"
   match="你要过(.+)秒之后才可继续送信。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("de");
world.doafterspecial(2,"messenger",10);
</send>
  </trigger>
  <trigger
   group="msg"
   match="你要过(.+)秒之后才可继续送信。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("de");
world.doafterspecial(2,"messenger",10);
</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="你要过(.+)秒之后才可继续送信。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("de");
world.doafterspecial(2,"messenger",10);
</send>
  </trigger>
  <trigger
   group="flower"
   match="你要过(?P&lt;nouse&gt;.*)之后才可继续送花"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfter(5,"delivery");</send>
  </trigger>
  <trigger
   group="learn_master"
   match="你要回答什"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var tmp=world.getVariable("varLearnFlag");
if (tmp==1){
world.execute("duan-jump");
}else{
var sk=world.getVariable("varLearnSkill");
world.send("learn "+sk+" from master with 10");
world.send("learn "+sk+" from master with 10");
world.send("learn "+sk+" from master with 10");
world.send("reply");
}
</send>
  </trigger>
  <trigger
   group="jump_practice_research"
   match="你要捡起什"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>doJumpPracticeResearch</send>
  </trigger>
  <trigger
   group="wm_road"
   match="你要看什麽？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(2,"look north",10);
</send>
  </trigger>
  <trigger
   group="manglin"
   match="你要看什麽？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>varSwing=world.getVariable("varLastSwingDir");
varDir=world.getVariable("varManglinDir");
if (varSwing!=varDir){
 if (varSwing=='东'){
  world.execute("west;west");
 }
 if (varSwing=='南'){
  world.execute("north;north");
 }
 if (varSwing=='西'){
  world.execute("east;east");
 }
 if (varSwing=='北'){
  world.execute("south;south");
 }
 if (varDir=='东'){
  world.execute("ml-e");
 }
 if (varDir=='南'){
  world.execute("ml-s");
 }
 if (varDir=='西'){
  world.execute("ml-w");
 }
 if (varDir=='北'){
  world.execute("ml-n");
 }

}else{
world.enableGroup("manglin",0);
world.send("whisper");
}</send>
  </trigger>
  <trigger
   group="manglin-top"
   match="你要看什麽？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("manglin-top",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="bat_wave"
   match="你要看什麽？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.enableGroup("bat_wave",0);
world.execute("whisper");
//world.doAfterSpecial(0.5,"whisper",10);</send>
  </trigger>
  <trigger
   group="check-weapon"
   match="你要看什麽？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varCheckWeaponLost",1);
</send>
  </trigger>
  <trigger
   group="ginseng-redeem"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("ginseng-redeem",0);
world.execute("redeem "+world.getvariable("varGinsendRedeemYeguoId"));
world.doafterspecial(4,"redeem "+world.getvariable("varGinsendRedeemSwordId")+";checkBusy",10);
</send>
  </trigger>
  <trigger
   group="gaa"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("gaa",0);</send>
  </trigger>
  <trigger
   group="dali_tea"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var f=world.getVariable("varDaliTeaDone");
if (f==1){
world.setVariable("varDaliTeaDone",0);
world.doAfterSpecial(1,"east;east;north;north;north;west;give hua tea flower;ask hua about chahua",10);
}else{
world.doAfterSpecial(1,"fill pen pot;jiao;fill pen pot;jiao;fill pen pot;jiao;fill pen pot;jiao;ask",10);
}
</send>
  </trigger>
  <trigger
   group="checkrzr"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("checkrzr",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="sleep_pr"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var r=world.getvariable("varSleepPRRest");
var a=world.getvariable("varSleepPRAction");
if (r==1){
world.setvariable("varSleepPRRest",0);
world.execute("fd;sleep");
}else if (a=="practice"){
world.execute("doSleepPractice");
}else if (a=="research"){
world.execute("doSleepResearch");
}</send>
  </trigger>
  <trigger
   group="sky_learn"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var n=world.getVariable("varLearnSkyNext");
if (n==1){
world.setVariable("varLearnSkyNext",0);
world.execute("popQueue learnskill");
var n=world.getVariable("varPopQueue");
if (n=="null"){
world.execute("stopp");
}else{
world.setVariable("varLearnSkill",n);
}
}
var f=world.getVariable("varSkyLearnJumpflag");
var master=world.getVariable("varLearnMaster");
var amount=world.getVariable("varLearnAmount");
var sk=world.getVariable("varLearnSkill");
if (f==1){
world.setVariable("varSkyLearnJumpflag",0);
world.execute("ex1 1000");
world.doafterspecial(3,"fd;dz",10);
world.doafterspecial(8,"ask",10);
//world.setVariable("varSkyLearnJumpflag",0);
//world.execute("down;down;north;north;north");
//world.execute("west;west;north;west;open door;west;jump");
//world.doAfterSpecial(3,"east;east;south;east;east",10);
//world.execute("east;east;north;east;open door;east;wash");
//world.doAfterSpecial(3,"west;west;south;west;west",10);
//world.doAfterSpecial(4,"south;south;south;up;up;ask",10);
}else{
//world.send("learn "+sk+" from "+master+" with "+amount);
world.send("learn "+sk+" from "+master+" with "+amount);
world.send("learn "+sk+" from "+master+" with "+amount);
world.send("learn "+sk+" from "+master+" with "+amount);
world.send("learn "+sk+" from "+master+" with "+amount);
//world.send("learn "+sk+" from "+master+" with "+amount);
world.execute("ask");
}
</send>
  </trigger>
  <trigger
   group="check-corpse-gold-item"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varMissionTarget");
if (t=="tang wushuang"){
//world.execute("gac;drop cloth");
}
if (t=="tang ao"){
//world.execute("gac");
}
world.enablegroup("check-corpse-gold-item",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="taskreturn"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var i=0;
var m=varMyQueue1.getSize();
if (m&gt;0){
addMove2("goo2 rar");
for (i=0;i&lt;m;i++){
var t=varMyQueue1.dequeue();
//world.execute("settaskreturn "+varMyQueue1.dequeue());
addMove2("gg0 "+t+";pp "+t+";whisper");
}
}
addMove2("taskreturndone;restoreMoves");
startMove(true);
</send>
  </trigger>
  <trigger
   group="wait-poke"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var d=world.getvariable("varWaitPokeDone");
if (d=="yes"){
world.enablegroup("wait-poke",0);
world.execute("whisper");
}else{
var t=world.getvariable("varWaitPokeTarget");
world.doafterspecial(1.5,"poke "+t+";ask",10);
}
</send>
  </trigger>
  <trigger
   group="clearbag"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("clearbag",0);
initMove();
while (varMyQueue1.getSize()&gt;0){
var id=varMyQueue1.dequeue();
addMove2("qu "+id+";pp0 all;whisper");
}
startMove(true);</send>
  </trigger>
  <trigger
   group="ginseng-maze-look"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var end=world.getvariable("varGinsengMazeMoveReach");

if (end=="yes"){
world.enablegroup("ginseng-maze-look",0);
world.enablegroup("ginseng-maze-move",0);
world.enablegroup("ginseng-maze-move-dz1",0);
world.enablegroup("ginseng-maze-move-dz2",0);
world.note("---&gt; start to move up ladder");
world.execute("gsUpMoveStart");

}else{

var d=world.getvariable("varGinsengMazeLookDir");
var c=world.getvariable("varGinsengMazeLookCoin");
world.note("---&gt; mapping dir "+d+" with coin "+c);
mapMazeCoin[d]=c;

if (d=="west"){
var nd="north";
world.setvariable("varGinsengMazeLookDir",nd);
world.setvariable("varGinsengMazeLookCoin",0);
world.note("---&gt; maze coin amount "+c);
world.execute("look "+nd+";ask");
}
if (d=="north"){
var nd="east";
world.setvariable("varGinsengMazeLookDir",nd);
world.setvariable("varGinsengMazeLookCoin",0);
world.note("---&gt; maze coin amount "+c);
world.execute("look "+nd+";ask");
}
if (d=="east"){
var nd="south";
world.setvariable("varGinsengMazeLookDir",nd);
world.setvariable("varGinsengMazeLookCoin",0);
world.note("---&gt; maze coin amount "+c);
world.execute("look "+nd+";ask");
}

if (d=="south"){
world.note("---&gt; maze coin amount "+c);
world.setvariable("varGinsengMazeLookDir","");
world.setvariable("varGinsengMazeLookCoin",0);

var movedir="west";
var leastcoin=mapMazeCoin["west"];
if (mapMazeCoin["north"]&lt;leastcoin) {
 leastcoin=mapMazeCoin["north"];
 movedir="north";
}
if (mapMazeCoin["east"]&lt;leastcoin) {
 leastcoin=mapMazeCoin["east"];
 movedir="east";
}
if (mapMazeCoin["south"]&lt;leastcoin) {
 leastcoin=mapMazeCoin["south"];
 movedir="south";
}
world.note("---&gt; move dir is "+movedir+" with "+leastcoin+" coins");
world.enablegroup("ginseng-maze-look",0);
world.setvariable("varGinsengMazeMoveDir",movedir);
world.execute("gsMazeMove");
}

}</send>
  </trigger>
  <trigger
   group="ques-returnt-list"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-return-list",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="ginseng-deposit"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("ginseng-deposit",0);
var a=world.getvariable("varGinsengDepositAmount");
if (a!=0){
world.execute("dep1 "+a+";checkBusy");
}else{
world.execute("whisper");
}</send>
  </trigger>
  <trigger
   group="checkgold"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("checkgold",0);
var b=world.getvariable("varMyGoldAmount");
if (b&gt;9){
var a=b-9;
world.execute("pp "+a+" gold");
}
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="tasklocateall"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("task locate all trgger");
var act="";
var isend=false;
if (varMyQueue1.isEmpty()){
world.execute("tasklocatealldone");
}
else
{
for (i=0;i&lt;5;i++){
 if (varMyQueue1.isEmpty()){
  isend=true;
  break;
 }
 act=act+"locate "+varMyQueue1.dequeue()+";";
 if (varMyQueue1.isEmpty()){
  isend=true;
  break;
 }
}
if (isend)
act=act+"ask";
else
act=act+"ask";
world.execute(act);
}</send>
  </trigger>
  <trigger
   group="quest-list-item"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-list-item",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="mission-check-wiz"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var o=world.getvariable("varMissionCheckWizOnline");
if (p=="yes"){
world.setvariable("varMissionCheckWizOnline","no");
world.doafterspecial(60,"friend;ask",10);
}else{
world.enablegroup("mission-check-wiz",0);
world.execute("whisper");
}</send>
  </trigger>
  <trigger
   group="dali_letter"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var g=world.getVariable("varDaliGX");
if (g&gt;=34560){
world.execute("stopp");
}else{
world.doAfterSpecial(4,"ask fan about letter",10);
}</send>
  </trigger>
  <trigger
   group="ginseng-pill"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var r=world.getvariable("varGinsengPillReady");
if (r=="yes"){
world.enablegroup("ginseng-pill",0);
world.execute("whisper");
}else{
var h=world.getvariable("varPillHelper");
world.execute("tell "+h+" pillall-5");
world.doafterspecial(10,"look pill;ask",10);
}</send>
  </trigger>
  <trigger
   group="ginseng-checknumberone"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("ginseng-checknumberone",0);
world.execute("gsFightNumberone");</send>
  </trigger>
  <trigger
   group="paa"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("paa",0);
initMove();
var i=0;
var c="";
var n;
while(varMyQueue1.getSize()&gt;0){
n=varMyQueue1.dequeue();
c=c+"gg0 "+n+";give laipi "+n+";";
var a=c+"waitSec 1";
addMove2(a);
c="";
}
startMove(true);</send>
  </trigger>
  <trigger
   group="tasklist"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("tasklist",0);
world.note("init task name:"+world.arraySize("taskalllist"));
//world.execute("whisper");</send>
  </trigger>
  <trigger
   group="ginseng-checkdugu"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var c=world.getvariable("varGinsengDuguClear");
if (c=="yes"){
world.enablegroup("ginseng-checkdugu",0);
world.execute("up;gsCheckNumberone");
}else{
world.note("---&gt; wait for dugu clear");
world.doafterspecial(20,"poke dugu chi;ask",10);
}</send>
  </trigger>
  <trigger
   group="loopjob"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("hp");
var jin=world.getVariable("varMyJin");
var maxjin=world.getVariable("varMyMaxJin");
var kee=world.getVariable("varMyKee");
var maxkee=world.getVariable("varMyMaxKee");
var shen=world.getVariable("varMyShen");
var maxshen=world.getVariable("varMyMaxShen");
var force=world.getVariable("varMyForce");
var maxforce=world.getVariable("varMyMaxForce");
var water=world.getVariable("varMyWater");
var food=world.getVariable("varMyFood");
if (jin&lt;=maxjin/2 || kee&lt;=maxkee/2 || shen&lt;=maxshen/2){
if (water&lt;=6 || food&lt;=6){
world.execute("de")
//world.execute("sleep")
world.doAfterSpecial(4,"dazuo",10);
}else{
//world.execute("sleep")
world.execute("dz")
//world.execute("ex1 300");
//world.doAfterSpecial(2,"ex 550",10);
//world.doAfterSpecial(4,"dazuo",10);
}
}else{
var loopjob=world.getVariable("varLoopJob");
world.execute(loopjob);
}

</send>
  </trigger>
  <trigger
   group="ginseng-up-move"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var f=world.getvariable("varGinsengUpMoveFail");
var r=world.getvariable("varGinsengUpMoveFailRecover");
var fr=world.getvariable("varGinsengUpMoveFullRecover");
var b=world.getvariable("varGinsengUpMoveBusy");


if (f=="yes"){
world.execute("gsUpMoveAgain");

}else if (r=="yes"){
initMove();
addMove2("fd;dz;checkBusy");
addMove2("gsUpMoveAgain");
startMove(true);

}else if (b=="yes"){
initMove();
addMove2("fd;checkBusy");
addMove2("gsUpMoveAgain");
startMove(true);

}else{
 world.enablegroup("ginseng-up-move",0);
 var nextmove=varMyList1.shift();
 if (nextmove!=null &amp;&amp; nextmove!=""){
  world.execute("gsUpMove "+nextmove);
 }else{
  world.enablegroup("ginseng-up-move",0);
  world.execute("gsWaitForFight");
 }
}</send>
  </trigger>
  <trigger
   group="mission-item-fly"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var zhanjia=world.getvariable("varCheckItemZhanjia");
var yeguo=world.getvariable("varCheckItemYeguo");
var sword=world.getvariable("varCheckItemSword");
var whip=world.getvariable("varCheckItemWhip");
var cash=world.getvariable("varCheckItemCash");
var seal=world.getvariable("varCheckItemSeal");
var pill=world.getvariable("varCheckItemPill");
var pxshan=world.getvariable("varCheckItemPxshan");
var fork=world.getvariable("varCheckItemFork");
var usepxshan=world.getvariable("varMissionUsePxshan");

world.execute("resetMissionItem");

if (zhanjia=="no"){
world.execute("south;south;south;east;buy zhanjia from xiangling;wear zhanjia");
world.doafterspecial(4,"id;west;north;north;north;ask",10);

}else if (yeguo=="no"){
world.execute("south;south;south;east;buy ye guo from xiangling;wear zhanjia");
world.doafterspecial(4,"id;west;north;north;north;ask",10);

}else if (cash=="no"){
world.execute("south;south;south;south;east;wit 1000000");
world.doafterspecial(4,"id;west;north;north;north;north;ask",10);

}else if (seal=="no"){
world.execute("north;west;west;west;north;buy back seal from xian");
world.doafterspecial(4,"id;south;east;east;east;south;ask",10);

}else if (sword=="no"){
world.execute("north;north;north;north;north;west;buy sword from zhuge");
world.doafterspecial(4,"id;east;south;south;south;south;south;ask",10);

}else if (whip=="no"){
world.execute("north;north;north;north;north;west;buy whip from zhuge");
world.doafterspecial(4,"id;east;south;south;south;south;south;ask",10);

}else if (pill=="no"){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pill-all");
world.doafterspecial(6,"id;ask",10);
/*
}else if (fork=="no"){
world.note("---&gt; lost fork, stop mission now");
world.execute("stopp");
*/

}else{
world.enablegroup("mission-item-fly",0);
world.execute("whisper");
}</send>
  </trigger>
  <trigger
   group="smart-research-p2"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var myint=world.getvariable("varResearchNowInt");
var startint=world.getvariable("varResearchStartInt");
if (myint&lt;startint){
world.note("---&gt;smart pill gone, stop research");
world.execute("stopp");
}else{

var targetLevel=parseInt(world.getvariable("varResearchTargetLevel"));
var nowLevel=parseInt(world.getvariable("varResearchNowLevel"));
var startLevel=parseInt(world.getvariable("varResearchStartLevel"));
var startPoint=parseInt(world.getvariable("varResearchStartPoint"));
var nowPoint=parseInt(world.getvariable("varResearchNowPoint"));

if (nowLevel&gt;=targetLevel){
world.note("---&gt;target level reached, stop research");
world.execute("stopp");
}else{

if (nowLevel&gt;startLevel){
//research up one level
world.setvariable("varResearchStartPoint",0);
world.setvariable("varResearchStartLevel",nowLevel);
world.note("---&gt; research up one level, new start level "+nowLevel+" new start point 0");
world.execute("score;ask");
}
else{

var p=parseFloat(world.getvariable("varResearchRoundPercentage"));

var levelTotalPoint=2*(nowLevel+1)*(nowLevel+1)+1;
var remainPoint=levelTotalPoint-nowPoint;
remainPoint=remainPoint*p;
var rate=parseFloat(world.getvariable("varResearchPotRate"));
var pots=remainPoint/rate;
pots=parseInt(pots/8);
if (pots&lt;150)
pots=150;

world.setvariable("varResearchPots",pots);
world.note("---&gt; research pots "+pots);
world.execute("doSmartResearch");

//end of checking level up
}

//end of checking target level
}

//end of checking int
}</send>
  </trigger>
  <trigger
   group="questitem"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("questitem",0);
var i=world.getVariable("varQuestItemId");
if (i!=0){
world.note("found item!!!");
world.execute("qu "+i);
var cname=world.getVariable("varQuestItem");
var ename=world.arrayGet("questitemnamelist",cname);
world.execute("give "+ename+" to tianji");
world.doAfterSpecial(2,"askQuest",10);
}else{
var f=world.getVariable("varQuestItemAfterKill");
if (f==0){
world.note("go kill npc for item");
world.execute("doQuestItemFromKill");
}else{
world.note("item not found");
world.execute("askQuest");
}
}</send>
  </trigger>
  <trigger
   group="dali_yao"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("west;south;east;east;east;east");
world.doAfterSpecial(1,"dle-jump",10);</send>
  </trigger>
  <trigger
   group="sleepstudy"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var r=world.getvariable("varSleepStudyNeedRest");
if (r==1){
world.execute("sleep");
}else{
world.execute("doSleepStudy");

}</send>
  </trigger>
  <trigger
   group="sleep_research"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var r=world.getvariable("varResearchRest");
world.setvariable("varResearchRest",0);
if (r==1){
world.execute("sleep");
}else{
world.execute("doSleepResearch");
}</send>
  </trigger>
  <trigger
   group="getpearl"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("getpearl",0);
var pid=world.getVariable("varTaskPearlId");
if (pid==0){
world.execute("whisper");
}else{
world.execute("qu "+pid);
world.doAfterSpecial(2,"whisper",10);
}</send>
  </trigger>
  <trigger
   group="openbox"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("openbox",0);
world.execute("waitSec 1");</send>
  </trigger>
  <trigger
   group="smart-research-p1"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var c=parseInt(world.getvariable("varResearchP1Count"));

var nowLevel=parseInt(world.getvariable("varResearchNowLevel"));
var startLevel=parseInt(world.getvariable("varResearchStartLevel"));
var startPoint=parseInt(world.getvariable("varResearchStartPoint"));
var nowPoint=parseInt(world.getvariable("varResearchNowPoint"));

if (nowLevel&gt;startLevel){
//research up one level
var levelPoint=2*(nowLevel+1)*(nowLevel+1)+1-startPoint;
world.setvariable("varResearchP1Point",levelPoint);
world.setvariable("varResearchStartPoint",0);
world.setvariable("varResearchStartLevel",nowLevel);
world.note("---&gt; research up one level, new start level "+nowLevel+" new start point 0");
}

if (c&gt;=10){
var levelPoint=parseInt(world.getvariable("varResearchP1Point"));
var totalPoint=nowPoint-startPoint+levelPoint;
var totalPot=100*8*10;
var rate=totalPoint/totalPot;
world.note("---&gt; research P1 completed, total point "+totalPoint+", research rate "+rate);
world.setvariable("varResearchPotRate",rate);
world.execute("doSmartResearchP2");

}else{
c=c+1;
world.note("---&gt; smart research P1 count "+c);
world.setvariable("varResearchP1Count",c);
world.execute("doSmartResearch");
}</send>
  </trigger>
  <trigger
   group="tasklocatenear"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var act="";
var isend=false;
if (varMyQueue1.isEmpty()){
world.execute("tasklocateneardone");
}
else
{
for (i=0;i&lt;6;i++){
 if (varMyQueue1.isEmpty()){
  isend=true;
  break;
 }
 act=act+"locate "+varMyQueue1.dequeue()+";";
 if (varMyQueue1.isEmpty()){
  isend=true;
  break;
 }
}
if (isend)
act=act+"ask";
else
act=act+"ask";
world.execute(act);
}</send>
  </trigger>
  <trigger
   group="check-status"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var kee=world.getVariable("varMyKee");
var jin=world.getVariable("varMyJin");
var shen=world.getVariable("varMyShen");
var mkee=world.getVariable("varMyMaxKee");
var mjin=world.getVariable("varMyMaxJin");
var mshen=world.getVariable("varMyMaxShen");

var force=world.getVariable("varMyForce");
var mforce=world.getVariable("varMyMaxForce");

var jr=world.getVariable("varMyJinRate");
var kr=world.getVariable("varMyKeeRate");
var sr=world.getVariable("varMyshenRate");
var fd=world.getVariable("varMyFood");
var wt=world.getVariable("varMyWater");
var sq=world.getVariable("varMySha");

var poison=world.getVariable("varPoison");

if (fd&lt;30 || wt&lt;30){
world.execute("fd;hp;ask");

}else if (sq&gt;50){
world.execute("north;east;east;east;east;south;salute;hp");
world.doafterspecial(1,"hp;north;west;west;west;west;south;ask",10);

}else if (mforce==0){
world.execute("tuna;hp");
world.doafterspecial(1,"ask",10);


/*
}else if (jr&lt;=97 || kr&lt;=97 || sr&lt;=97){
var g=world.getvariable("varMyGender");
if (g=="male"){
world.execute("north;north;north;north;west;west;north;west;kill chu chu;ss2");
world.doafterspecial(6,"west;jump;open door",10);
//world.doafterspecial(200,"jump",10);
//world.doafterspecial(400,"jump",10);
//world.doafterspecial(600,"jump",10);
}else{
world.execute("north;north;north;north;east;east;north;east;kill jin tong;ss2");
world.doafterspecial(6,"east;wash;open door",10);
//world.doafterspecial(200,"wash",10);
//world.doafterspecial(400,"wash",10);
//world.doafterspecial(600,"wash",10);
}
*/

}else if (jr&lt;=96){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pill-gin");
world.doafterspecial(6,"use pill;east;hp;ask",10);

}else if (kr&lt;=96){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pill-kee");
world.doafterspecial(6,"use pill;east;hp;ask",10);

}else if (sr&lt;=96){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pill-sen");
world.doafterspecial(6,"use pill;east;hp;ask",10);


}else if (force&lt;=.8*mforce){
world.execute("ex "+parseInt(0.5*mforce));
world.doafterspecial(2,"hp;ask",10);
//world.doafterspecial(3,"dz",10);

/*
}else if (jr&lt;=98 || kr&lt;=98 || sr&lt;=98){
world.execute("aa0;hp");
world.doafterspecial(2,"ask",10);
*/

}else if (kee&lt;=.95*mkee || shen&lt;=.95*mshen || jin&lt;=.95*mjin){
world.execute("dz");


}else if (poison==1){
world.execute("aa9");
world.setvariable("varPoison",0);
world.doafterspecial(2,"ask",10);

}else{
world.enableGroup("check-status",0);
world.execute("whisper");
}
</send>
  </trigger>
  <trigger
   group="quest-return-list"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-return-list",0);
world.execute("whisper");
</send>
  </trigger>
  <trigger
   group="quest-return-return"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-return-return",0);
var r=world.getVariable("varQuestReturnReward"); 
if (r==1){
world.execute("doQuestReturn");
}else{
world.execute("whisper");
world.execute("tt ...");
world.execute("tt quest-return-end");
world.enablegroup("quest-ask",1);
}</send>
  </trigger>
  <trigger
   group="ginseng-maze-move"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var f=world.getvariable("varGinsengMazeMoveFail");
var r=world.getvariable("varGinsengMazeMoveRecover");
if (f=="yes"){
world.enablegroup("ginseng-maze-move-dz1",1);
world.enablegroup("ginseng-maze-move-dz2",0);
world.doafterspecial(8,"fd;dz",10);

}else if (r=="yes"){
world.enablegroup("ginseng-maze-move",0);
world.enablegroup("ginseng-maze-move-dz1",0);
world.enablegroup("ginseng-maze-move-dz2",1);
world.execute("fd;dz");

}else{
world.enablegroup("ginseng-maze-move-dz1",0);
world.enablegroup("ginseng-maze-move-dz2",0);
world.enablegroup("ginseng-maze-move",0);
world.execute("drop 1 coin;gsMazeLook");
}</send>
  </trigger>
  <trigger
   group="taskfinger"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("taskfinger",0);
var nlist=world.arrayExportKeys("tasknpclist",",").split(",");
var i;
for (i=0;i&lt;nlist.length;i++){
var f=varMyQueue1.dequeue();
if (f=="player") world.arrayDeleteKey("tasknpclist",nlist[i])
}
world.execute("taskkill");</send>
  </trigger>
  <trigger
   group="quest-return-checkcorpse"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-return-checkcorpse",0);
world.execute("drop corpse;whisper");</send>
  </trigger>
  <trigger
   group="check-rewardbox"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("check-rewardbox",0);</send>
  </trigger>
  <trigger
   group="quest-item"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var zhanjia=world.getvariable("varCheckItemZhanjia");
var yeguo=world.getvariable("varCheckItemYeguo");
var sword=world.getvariable("varCheckItemSword");
var whip=world.getvariable("varCheckItemWhip");
var cash=world.getvariable("varCheckItemCash");
var seal=world.getvariable("varCheckItemSeal");
var pill=world.getvariable("varCheckItemPill");

world.execute("resetQuestItem");

if (zhanjia=="no"){
world.execute("south;south;south;east;buy zhanjia from xiangling;wear zhanjia");
world.doafterspecial(4,"id;west;north;north;north;ask",10);

}else if (yeguo=="no"){
world.execute("south;south;south;east;buy ye guo from xiangling;wear zhanjia");
world.doafterspecial(4,"id;west;north;north;north;ask",10);

}else if (cash=="no"){
world.execute("south;south;south;south;east;wit 1000000");
world.doafterspecial(4,"id;west;north;north;north;north;ask",10);

}else if (seal=="no"){
world.execute("north;west;west;west;north;buy back seal from xian");
world.doafterspecial(4,"id;south;east;east;east;south;ask",10);

}else if (sword=="no"){
world.execute("north;north;north;north;north;west;buy sword from zhuge");
world.doafterspecial(4,"id;east;south;south;south;south;south;ask",10);
/*
}else if (whip=="no"){
world.execute("north;north;north;north;north;west;buy whip from zhuge");
world.doafterspecial(4,"id;east;south;south;south;south;south;ask",10);
*/

}else if (pill=="no"){
var ph=world.getvariable("varPillHelper");
world.execute("west;tell "+ph+" pill-all");
world.doafterspecial(6,"id;ask",10);

}else{
world.enablegroup("quest-item",0);
world.execute("whisper");
}</send>
  </trigger>
  <trigger
   group="quest-list"
   match="你要问谁什麽事？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("quest-list",0);
generateActiveQuestQueue();
var quests=listQuestActiveQueue.join(",");
world.note("---&gt; active quest from newest:"+quests);
world.execute("whisper");
</send>
  </trigger>
  <trigger
   group="damo"
   match="你要向谁求教？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp");
world.deleteTemporaryTimers();
world.doAfterSpecial(6,"mianbi",10);</send>
  </trigger>
  <trigger
   group="smart-research-p1"
   match="你要用外功做什麽？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var p=world.getvariable("varResearchNowPoint");
var l=world.getvariable("varResearchNowLevel");
world.setvariable("varResearchStartPoint",p);
world.setvariable("varResearchStartLevel",l);

var myint=world.getvariable("varResearchNowInt");
world.setvariable("varResearchStartInt",myint);

world.note("---&gt; set research start level "+l +" start point "+p);
world.execute("doSmartResearch");

</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="你一脚落空，滚下了山岭。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doafterspecial(60,"goo gao yanan",10);</send>
  </trigger>
  <trigger
   group="msg-team2"
   match="你已错过上一个任务。等下一个吧。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>msgCancel</send>
  </trigger>
  <trigger
   group="dali_yao"
   match="你已经没力气挖了"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("west;south;east;east;east;east");
world.doAfterSpecial(1,"dle-jump",10);</send>
  </trigger>
  <trigger
   group="eat-rice"
   match="你已陷身流沙之中！！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("umk");
addMove2("startEatRice");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="move"
   match="你因为不够熟练而失败了。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.resetTimers();
world.deleteTemporaryTimers();
var t=world.getVariable("varFlyTarget");
var f=world.getVariable("varFlyMode");
world.doAfterSpecial(1,"goo"+f+" "+t,10);</send>
  </trigger>
  <trigger
   group="msg-team"
   match="你又在流沙中陷深了一些！！你几乎在绝望中哭了出来！！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsgTeam",10);</send>
  </trigger>
  <trigger
   group="msg-smk"
   match="你又在流沙中陷深了一些！！你几乎在绝望中哭了出来！！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsgSmk",10);</send>
  </trigger>
  <trigger
   group="msg-fly"
   match="你又在流沙中陷深了一些！！你几乎在绝望中哭了出来！！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsgFly",10);</send>
  </trigger>
  <trigger
   group="msg"
   match="你又在流沙中陷深了一些！！你几乎在绝望中哭了出来！！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;quit");
world.doafterspecial(5,"reconnectWorld",10);
world.doafterSpecial(10,"resumeMsg",10);</send>
  </trigger>
  <trigger
   group="huashan_yadi"
   match="你再抬头看时，红嘴乌鸦已不见踪影。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>huashan-yadidone</send>
  </trigger>
  <trigger
   group="event"
   match="你在(.*)的耳边悄声说道：(?P&lt;event&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt;event: "+'%&lt;event&gt;');
if ('%&lt;event&gt;'=='AUTOEXEC'){
world.execute("autoExec");
}else{
onEvent('%&lt;event&gt;');
}
</send>
  </trigger>
  <trigger
   group="mission-request"
   match="你在(.+)后才可要任务。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doafterspecial(20,"mission",10);
world.note("---&gt; wait 20 seconds for next mission");</send>
  </trigger>
  <trigger
   group="shenshui-lighter"
   match="你在黑暗中搜索了一阵。"
   regexp="y"
   sequence="100"
  >
  <send>search</send>
  </trigger>
  <trigger
   group="shenshui-lighter"
   match="你在墙壁上摸到了一个象铜灯的东西。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("shenshu-lighter",0);
world.execute("gg0 lighter;use lighter;pp0 lighter;whisper");</send>
  </trigger>
  <trigger
   group="sleep_research"
   match="你睁开了眼睛，一个鲤鱼打挺从床上跳了下来。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>doSleepResearch</send>
  </trigger>
  <trigger
   group="sleep_pr"
   match="你睁开了眼睛，一个鲤鱼打挺从床上跳了下来。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var r=world.getvariable("varSleepPRRecover");
var action="doSleepPractice";
if (world.getvariable("varSleepPRAction")=="research")
action="doSleepResearch";
if (r==1){
world.setvariable("varSleepPRRecover",0);
var f=world.getvariable("varMyMaxForce");
f=f*1.2;
world.execute("ex "+f);
world.doafterspecial(2,action,10);
}else{
world.execute(action);
}
</send>
  </trigger>
  <trigger
   group="loopjob"
   match="你睁开了眼睛，一个鲤鱼打挺从床上跳了下来。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("up;up");
var loopjob=world.getVariable("varLoopJob");
world.execute(loopjob);</send>
  </trigger>
  <trigger
   group="sleepstudy"
   match="你睁开了眼睛，一个鲤鱼打挺从床上跳了下来。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>sk
doSleepStudy</send>
  </trigger>
  <trigger
   group="autokill-abort"
   match="你只觉得身子不断变轻，一直变轻，一直变轻，一直变轻，一直变轻 .....|你举起矶宝梵天紫金消浊器摇了摇，贯注了真气的矶宝梵天紫金消浊器突然之间就响彻云霄。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.note("---&gt; autokill abort done");
world.enableGroup("autokill-perform",0);
world.enableGroup("autokill-busy",0);
world.enableGroup("autokill-abort",0);
world.execute("checkBusy");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="poison"
   match="你中的(.+)发作了！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varPoison",1);
//world.setVariable("varInPoison",1);
//world.execute("aa9;aa9");
</send>
  </trigger>
  <trigger
   group="manglin-top"
   match="你抓紧树枝，用力向(.*)方荡去！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("manglin-top",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="manglin"
   match="你抓紧树枝，用力向北方荡去"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable('varLastSwingDir','北');</send>
  </trigger>
  <trigger
   group="manglin"
   match="你抓紧树枝，用力向东方荡去"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable('varLastSwingDir','东');</send>
  </trigger>
  <trigger
   group="manglin"
   match="你抓紧树枝，用力向南方荡去"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable('varLastSwingDir','南');</send>
  </trigger>
  <trigger
   group="manglin"
   match="你抓紧树枝，用力向西方荡去"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable('varLastSwingDir','西');</send>
  </trigger>
  <trigger
   group="robot_bat"
   match="你自言自语不知道在说些什麽。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var s=world.getVariable("varMySha");
if (s&gt;=200){
world.doAfterspecial(2,"mmk2",10);
world.doAfterspecial(3,"dive;de;cu;",10);
world.doAfterspecial(6,"exert powerfade",10);
world.doAfterspecial(8,"umk",10);
world.doAfterSpecial(9,"robotBat",10);
}else{
world.doAfterSpecial(1,"robotBat",10);
}
</send>
  </trigger>
  <trigger
   group="ty_in"
   match="你左扑右挡紧紧地跟着野兔"
   regexp="y"
   sequence="100"
  >
  <send>catch rabbit</send>
  </trigger>
  <trigger
   group="ghost-npc"
   match="浓雾立刻消失了．．．"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varGhostTarget");
var c=world.getVariable("varGhostFailCount")
c=parseInt(c)+1;
if (c&gt;2){
world.enablegroup("ghost-npc",0);
world.execute("whisper");
}else{
world.setVariable("varGhostFailCount",c);
world.execute("curse ghostcurse");
world.send(t);
}</send>
  </trigger>
  <trigger
   group="pianzi"
   match="佩服，佩服，这是你的二两金锭。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doafterspecial(6,"startPianzi",10);</send>
  </trigger>
  <trigger
   group="ccd-down"
   match="平台"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("ccd-down",0);
world.execute("whisper");
</send>
  </trigger>
  <trigger
   group="dqd_road"
   match="平台"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
world.enableGroup("dqd_road",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="dq-py"
   match="平原路"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("dq-py",0);
world.send("whisper");</send>
  </trigger>
  <trigger
   group="dqroad-east3"
   match="平原路$"
   regexp="y"
   sequence="100"
  >
  <send>east</send>
  </trigger>
  <trigger
   enabled="y"
   group="myinfo"
   match="气血(\s\s)(\S\S)(\s*)(?P&lt;kee&gt;\d*)(\s*)/(\s*)(?P&lt;maxkee&gt;\d*)(\s*)\((\s*)(?P&lt;keerate&gt;\d*)%\)(\s+)饮水(\S\S)(\s*)(?P&lt;water&gt;\d*)%"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varMyKee",%&lt;kee&gt;);
world.setVariable("varMyMaxKee",%&lt;maxkee&gt;);
world.setVariable("varMyWater",%&lt;water&gt;);
world.setVariable("varMyKeeRate",%&lt;keerate&gt;);

</send>
  </trigger>
  <trigger
   group="fly_ty"
   match="青青石板路"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_ty",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="tasklocatenear"
   match="确定不了(?P&lt;ename&gt;.*)的大概位置。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.arrayDeleteKey("taskavailablelist","%&lt;ename&gt;");
//world.arrayDeleteKey("tasknearbylist","%&lt;ename&gt;");
varMyQueue2.enqueue("gone");
</send>
  </trigger>
  <trigger
   group="tasklocateall"
   match="确定不了(?P&lt;ename&gt;.*)的大概位置。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.arrayDeleteKey("taskavailablelist","%&lt;ename&gt;");
//world.arrayDeleteKey("tasknearbylist","%&lt;ename&gt;");
varMyQueue2.enqueue("gone");
</send>
  </trigger>
  <trigger
   group="dqe-bat-t"
   match="人间地狱"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("dqe-bat-t",0);
world.execute("east;whisper");</send>
  </trigger>
  <trigger
   group="quest"
   match="任务被你完成，你被奖励了"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varQuestDone",1);</send>
  </trigger>
  <trigger
   group="quest-list"
   match="任务已经开始了(?P&lt;sec&gt;.+)秒。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var s=chineseToNum("%&lt;sec&gt;");
var q=world.getVariable("varQuestListCurrent");
mapQuestQueue[q]=s;
world.note("---&gt; quest "+ q+" time "+s+" seconds");</send>
  </trigger>
  <trigger
   group="shenshui_up"
   match="溶洞"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("shenshui_up",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="mz_job"
   match="如果你要和天宗狂徒性命相搏"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var a=world.getVariable("varWWMZ");
//world.execute(a);
</send>
  </trigger>
  <trigger
   group="ty_in"
   match="山峰背后"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("ty_in",0);
world.execute("listen;southeast;whisper");
</send>
  </trigger>
  <trigger
   group="huang_in"
   match="山水画荡了回来，又遮住了暗门。"
   regexp="y"
   sequence="100"
  >
  <send>open picture
west</send>
  </trigger>
  <trigger
   group="dq-py"
   match="山中小路"
   regexp="y"
   sequence="100"
  >
  <send>east</send>
  </trigger>
  <trigger
   group="dqroad-east2"
   match="山中小路$"
   regexp="y"
   sequence="100"
  >
  <send>east</send>
  </trigger>
  <trigger
   group="ghost-npc"
   match="身边渐渐得浓缩成一个黑影．．．"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("ghost-npc",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="jiedu"
   match="失败"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(2,"aa9",10);</send>
  </trigger>
  <trigger
   group="damo"
   match="石壁上面隐隐约约显示出一个人像"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>startLearnMaster iron-cloth</send>
  </trigger>
  <trigger
   group="huang_in"
   match="石级甬道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("huang_in",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="fly_ghost"
   match="石屋"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_ghost",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="ty_in"
   match="什么？"
   regexp="y"
   sequence="100"
  >
  <send>around
catch rabbit</send>
  </trigger>
  <trigger
   group="backfaint"
   match="什么？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"nod",10);</send>
  </trigger>
  <trigger
   group="dwg_in"
   match="什么？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("touch 恶人像;east");</send>
  </trigger>
  <trigger
   group="bat_dash"
   match="什么？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"nod",10);</send>
  </trigger>
  <trigger
   group="bat_in"
   match="什么？"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"nod",10);</send>
  </trigger>
  <trigger
   group="task"
   match="侍女脚下一个不稳，跌在地上一动也不动了。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>k girl
k girl 2
k girl 3
</send>
  </trigger>
  <trigger
   group="stone_y2"
   match="手也不听话了，砚台做坏了，这是我家传砚台"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
initMove();
addMove2("east;de;mmk2;waitSec 2");
addMove2("goo2 alpha");
addMove2("tell alpha GGstone;waitSec 3");
addMove2("goo2 nangong");
addMove2("east;south;west;westup;westup;westdown;south;westup;whisper");
addMove2("gg0 yanzhi;give girl yanzhi;kill girl;waitSec 3");
addMove2("umk");
addMove2("west;give luo tea;give luo stone;kick");
startMove(false);

</send>
  </trigger>
  <trigger
   group="general"
   match="刷新了,该干嘛干嘛去！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varQuestCount",0);
world.setVariable("varRefresh",1);
</send>
  </trigger>
  <trigger
   group="dqd_up"
   match="说道：“这位公子请留步。”"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill girl");
world.doAfterSpecial(1,"eastup",10);</send>
  </trigger>
  <trigger
   group="quest-kill"
   match="死了。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var c=world.getvariable("varQuestKillCorpseAmount");
c=parseInt(c)+1;
//limit to 5 corpses
if (c&lt;=5){;
world.setvariable("varQuestKillCorpseAmount",c);
world.note("---&gt; new corpse");
}</send>
  </trigger>
  <trigger
   group="summon-team"
   match="似乎没有空闲来接收信鸽。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>endActionGroup summon-team</send>
  </trigger>
  <trigger
   group="taskreward"
   match="宋长清并不要你的松牌"
   regexp="y"
   sequence="100"
  >
  <send>kill song</send>
  </trigger>
  <trigger
   group="taskreturn"
   match="宋长清并不要你的松牌。"
   regexp="y"
   sequence="100"
  >
  <send>kill song</send>
  </trigger>
  <trigger
   enabled="y"
   group="myitem"
   match="搜出一件布衣"
   regexp="y"
   sequence="100"
  >
  <send>drop cloth</send>
  </trigger>
  <trigger
   enabled="y"
   match="所有使命将在二分钟后重新分布！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var now=new Date().getTime() / 1000;
world.note("---&gt; task refresh in 2 minutes");
world.setvariable("varTaskRefreshNoticeTime",now);</send>
  </trigger>
  <trigger
   group="ginseng-pill"
   match="它能让你迅速恢复所有损伤。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsengPillReady","yes");</send>
  </trigger>
  <trigger
   group="yaren_in"
   match="探花诗台"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("yaren_in",0);
world.execute("ww0;whisper");</send>
  </trigger>
  <trigger
   group="fly_yaren"
   match="探花诗台"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_yaren",0);
world.doAfterspecial(2,"whisper",0);</send>
  </trigger>
  <trigger
   group="fate_ts"
   match="天光似乎越来越垂直了。"
   regexp="y"
   sequence="100"
  >
  <send>south</send>
  </trigger>
  <trigger
   group="quest-list"
   match="天机老人说道：请"
   regexp="y"
   send_to="13"
   sequence="100"
  >
  <send>quest</send>
  </trigger>
  <trigger
   group="quest"
   match="天机老人说道：请替天机老人杀了『(?P&lt;qnpc&gt;.*)』。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var count=world.getVariable("varQuestCount");
++count;
world.setVariable("varQuestCount",count);
world.note("---&gt; Quest count:"+count);
world.setVariable("varQuestItem","");
var t=world.arrayGet("questnpclist","%&lt;qnpc&gt;");
world.setVariable("varQuestNpc",t);
//world.note("quest npc:%&lt;qnpc&gt; "+e);
world.execute("doQuestNpc %&lt;qnpc&gt;");</send>
  </trigger>
  <trigger
   group="quest"
   match="天机老人说道：请找回『(?P&lt;qitem&gt;.*)』给天机老人。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var count=world.getVariable("varQuestCount");
++count;
world.setVariable("varQuestCount",count);
world.note("---&gt; Quest count:"+count);
world.setVariable("varQuestItem","%&lt;qitem&gt;");
world.setVariable("varQuestNpc","");
world.setVariable("varQuestItemId",0);
world.setVariable("varQuestItemAfterKill",0);
world.note("quest item: %&lt;qitem&gt;");
world.execute("doQuestItem");</send>
  </trigger>
  <trigger
   group="ginseng-checknumberone"
   match="天下第一人(.+)\((?P&lt;id&gt;.+)\)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var id="%&lt;id&gt;".toLowerCase();
world.note("---&gt; numberone id "+id);
world.setvariable("varGinsengNumberoneId",id);
</send>
  </trigger>
  <trigger
   group="li_in"
   match="铁传甲死了"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("li_in",0);
world.doAfterSpecial(4,"ww0;ef 100;open curtain;north;ef 0;whisper",10);</send>
  </trigger>
  <trigger
   group="manglin"
   match="听着耳边的呼呼风声，你不禁惊叫道："
   regexp="y"
   sequence="100"
  >
  <send>look vine</send>
  </trigger>
  <trigger
   group="bat_wave"
   match="突然间，你的船触礁了！一个大浪打来，你被抛入空中"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.enableGroup("bat_wave",0);
world.execute("whisper");
//world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="liutree_up"
   match="突然脚下一滑，扑通一声掉进了水里"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>up</send>
  </trigger>
  <trigger
   group="liutree_down"
   match="突然脚下一滑，扑通一声掉进了水里。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("liutree_down",0);
world.doAfterSpecial(2,"whisper",10);
//world.doAfterSpecial(2,"up",10);</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="土匪喽罗用短剑"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>ss3</send>
  </trigger>
  <trigger
   group="dqroad-west"
   match="危崖前"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("dqroad-west",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="move-dqw"
   match="危崖前"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("move-west",0);
world.execute("east;south");
world.enableGroup("move-south",1);</send>
  </trigger>
  <trigger
   group="bat_book"
   match="魏行龙无可奈何地从怀里掏出一本书递给你。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("bat_book",0);
world.execute("pp0 book;whisper")</send>
  </trigger>
  <trigger
   group="mission-kill-fengsan"
   match="武功看起来好象(?P&lt;desc&gt;.+)，出手"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var now=parseInt(new Date().getTime()/1000);
var due=world.getvariable("varMissionDueTime");
var dif=due-now;
if (dif&lt;=5){
world.note("---&gt; mission due time!!!");
world.enablegroup("mission-kill-fengsan",0);
world.execute("ss1");
world.setvariable("varAutokillList",world.getvariable("varAutokillListKillFengsan"));

}else if ("%&lt;desc&gt;"!="深不可测" &amp;&amp; "%&lt;desc&gt;"!="深藏不露" &amp;&amp; "%&lt;desc&gt;"!="震古铄今" &amp;&amp; "%&lt;desc&gt;"!="惊世骇俗" &amp;&amp; "%&lt;desc&gt;"!="举世无双" &amp;&amp; "%&lt;desc&gt;"!="神功盖世"  &amp;&amp; "%&lt;desc&gt;"!="一代宗师"  &amp;&amp; "%&lt;desc&gt;"!="所向披靡"  &amp;&amp; "%&lt;desc&gt;"!="登峰造极"  &amp;&amp; "%&lt;desc&gt;"!="傲视群雄" &amp;&amp; "%&lt;desc&gt;"!="出神入化"  &amp;&amp; "%&lt;desc&gt;"!="神乎其技" &amp;&amp; "%&lt;desc&gt;"!="技冠群雄" &amp;&amp; "%&lt;desc&gt;"!="无可匹敌" &amp;&amp; "%&lt;desc&gt;"!="出类拔萃" &amp;&amp; "%&lt;desc&gt;"!="已有大成" &amp;&amp; "%&lt;desc&gt;"!="豁然贯通" &amp;&amp; "%&lt;desc&gt;"!="略有大成"){
world.note("---&gt; kill feng san time!!!");
world.enablegroup("mission-kill-fengsan",0);
world.execute("ss1");
world.setvariable("varAutokillList",world.getvariable("varAutokillListKillFengsan"));

}else{
world.note("---&gt; feng san level:%&lt;desc&gt;, due seconds:"+dif);
}
</send>
  </trigger>
  <trigger
   group="mz_job"
   match="武林盟主有令: 天宗人马在(?P&lt;mzloc&gt;.*)出现了！请马上去击退"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("goMZ "+"%&lt;mzloc&gt;");
varMyQueue.enqueue("%&lt;mzloc&gt;");
</send>
  </trigger>
  <trigger
   group="heisong_in"
   match="西花园"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("heisong_in",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="yaren_in"
   match="向你喝道：＂皇公子所到之处，闲杂人等不可入内！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("k qinwei");
world.doAfterSpecial(1.5,"north",10);</send>
  </trigger>
  <trigger
   group="autokill2"
   match="萧十一郎仰天狼嚎“呜～嗷～～，呜～嗷”，顿时漫山遍野群狼齐哮。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill xiao11
perform tianrenheyi xiao11</send>
  </trigger>
  <trigger
   group="wanmei-boat"
   match="小船漂了过来。。。。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.execute("north;endActionGroup wanmei-boat");
</send>
  </trigger>
  <trigger
   group="dq-py"
   match="小路"
   regexp="y"
   sequence="100"
  >
  <send>east</send>
  </trigger>
  <trigger
   group="dqroad-west"
   match="小路"
   regexp="y"
   sequence="100"
  >
  <send>west</send>
  </trigger>
  <trigger
   group="dqroad-east1"
   match="小路$"
   regexp="y"
   sequence="100"
  >
  <send>east</send>
  </trigger>
  <trigger
   enabled="y"
   group="myinfo"
   match="心神(\s\s)(\S\S)(\s*)(?P&lt;shen&gt;\d*)(\s*)/(\s*)(?P&lt;maxshen&gt;\d*)(\s*)\((?P&lt;shenrate&gt;.+)%\)(\s+)评价(\S\S)(\s*)(-*)(?P&lt;score&gt;\d*)"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varMyShen",%&lt;shen&gt;);
world.setVariable("varMyMaxShen",%&lt;maxshen&gt;);
world.setVariable("varMyShenRate",%&lt;shenrate&gt;);
world.setVariable("varMyScore",%&lt;score&gt;);
</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="信鸽划过一道白色的弧线，飞回到(.*)手里。你在后面匆匆赶到。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.enablegroup("mission-wait-summon",0);
world.execute("missionHelpKill");
</send>
  </trigger>
  <trigger
   group="summon-team"
   match="信鸽划过一道白色的弧线，飞回到你手里。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("summon-team",0);
world.execute("checkBusy");
</send>
  </trigger>
  <trigger
   match="信鸽划过一道白色的弧线，飞回到宁手里。你在后面匆匆赶到。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>initMove();
addMove2("fd;checkBusy");
addMove2("autokill dugu chi");
addMove2("checkCorpseGoldItem");
addMove2("umk");
addMove2("checkBusy");
addMove2("autokill master");
addMove2("checkCorpseGoldItem");
addMove2("smk");

startMove(true)</send>
  </trigger>
  <trigger
   group="summon-team"
   match="信鸽无法发现你的队友！"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>endActionGroup summon-team</send>
  </trigger>
  <trigger
   group="dqd_boat"
   match="许久许久，海面上什么也没有出现"
   regexp="y"
   sequence="100"
  >
  <send>blow pipe</send>
  </trigger>
  <trigger
   group="quest-action"
   match="烟雾中出现了牛头马面，二话不说，将枷锁镣铐往你头上一套．．．．"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>stopp</send>
  </trigger>
  <trigger
   group="fly_xg"
   match="耶丈室"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_xg",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="sky_learn"
   match="也许是因为缺乏经验，你对"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varLearnSkyNext",1);</send>
  </trigger>
  <trigger
   group="getpearl"
   match="夜明珠 ：  (?P&lt;pid&gt;\d+) "
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var i="%&lt;pid&gt;";
world.setVariable("varTaskPearlId",i);</send>
  </trigger>
  <trigger
   group="shenshui_swim"
   match="一股暗流又把"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.enableGroup("shenshui_swim",0);
world.doAfterSpecial(2,"swim",10);</send>
  </trigger>
  <trigger
   group="ginseng-up-move"
   match="一块巨大无匹的冰石从天而降，砸向你的额角"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsengUpMoveFullRecover","yes");
world.note("---&gt; up move fail with full damage, need to full recover");

initMove();
//addMove2("checkBusy");
addMove2("ex1 700;checkBusy");
addMove2("ex2 700;checkBusy");
addMove2("ex3 700;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("gsUpMoveAgain");
world.execute("checkBusy");
</send>
  </trigger>
  <trigger
   group="ginseng-up-move"
   match="一声巨响，山摇地晃，闷雷阵阵，山崩了！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varGinsengUpMoveFullRecover","yes");
world.note("---&gt; up move fail with full damage, need to full recover");
initMove();
//addMove2("checkBusy");
addMove2("ex1 700;checkBusy");
addMove2("ex2 700;checkBusy");
addMove2("ex3 700;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("ex 2000;checkBusy");
addMove2("hp;fd;dz;checkBusy");
addMove2("gsUpMoveAgain");
world.execute("checkBusy");
</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="一只白色的信鸽忽然飞来，在你头顶上下飞动，一个盘旋，向远处飞去。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.enablegroup("mission-wait-summon",0);
//world.execute("missionHelpKill");
</send>
  </trigger>
  <trigger
   group="summon-team"
   match="已经在你身边了！"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>endActionGroup summon-team</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="银花娘娇笑一声：姐姐我来了！"
   regexp="y"
   sequence="100"
  >
  <send>kill silver girl</send>
  </trigger>
  <trigger
   group="fly_ying"
   match="鹰记商号"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_ying",0);</send>
  </trigger>
  <trigger
   group="sl_door"
   match="影壁"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("sl_door",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="fly_lu"
   match="右边小洞"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_lu",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="mission-ask-fly"
   match="在(.+)内替山流杀了(?P&lt;cname&gt;.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=queryMissionNpc("%&lt;cname&gt;");
world.note("---&gt; mission npc "+t);
if (t!=null &amp;&amp; t!=""){
world.setvariable("varMissionTarget",t);
world.enablegroup("mission-ask-fly",0);
world.execute("missionGoKill");
}else{
world.execute("tt ...;tt mission-request");
}

</send>
  </trigger>
  <trigger
   group="mission-ask"
   match="在(?P&lt;mtime&gt;.+)内替山流杀了(?P&lt;cname&gt;.+)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var missionSec=convertChineseTimeToNumber("%&lt;mtime&gt;");
var now=parseInt(new Date().getTime()/1000);
var missionDue=now+missionSec;
world.note("---&gt; mission due time:"+missionDue);
world.setvariable("varMissionDueTime",missionDue);

var c="%&lt;cname&gt;";
var t=queryMissionNpc(c);
world.note("---&gt; mission npc "+t);
if (t!=null &amp;&amp; t!=""){
if (c=="吕迪"){
c="多儿甲";
t="Master duo";
}
world.setvariable("varMissionName",c);
world.setvariable("varMissionTarget",t);
if (t=="feng san"){
world.note("---&gt; mission target feng san!!!");
world.setvariable("varMissionFengsan","yes");
}
}else{
world.note("---&gt; unknown mission npc %&lt;cname&gt;");
world.setvariable("varMissionName",c);
world.setvariable("varMissionTarget","unknown");
//writeMissionLog("unknown mission target %&lt;cname&gt;")
//world.execute("tt ...;tt mission-request");
}</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="在你的耳边悄声说道：SHEETFAIL$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.setVariable("varTJLoc","%&lt;loc&gt;");
world.doAfterSpecial(2,"sheetTasknpc",10);
</send>
  </trigger>
  <trigger
   group="tasknpc"
   match="在你的耳边悄声说道：SHEETLOC(?P&lt;loc&gt;.*)\|(?P&lt;desc&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.note("%&lt;loc&gt; %&lt;desc&gt;");
var loc="%&lt;loc&gt;".replace(" ","");
world.setVariable("varTasknpcLoc",loc);
world.setVariable("varTasknpcLocDesc","%&lt;desc&gt;");
world.execute("findTasknpcArea");
</send>
  </trigger>
  <trigger
   enabled="y"
   match="在你的耳边悄声说道：silver"
   regexp="y"
   sequence="100"
  >
  <send>give 10 silver to guesta</send>
  </trigger>
  <trigger
   group="autokill2"
   match="在这里不要乱摸乱动！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
world.resetTimers();
world.enableGroup("autokill",0);
var l=world.getvariable("varAutoKillLostSword");
if (l==1){
world.setvariable("varAutoKillLostSword",0);
world.execute("get sword");
}
var a=world.getVariable("varAutokillDone");
world.execute("look;"+a);
</send>
  </trigger>
  <trigger
   group="quest-kill"
   match="糟糕！你失手了！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("ssAutokill");
world.enablegroup("autokill",1);</send>
  </trigger>
  <trigger
   group="check-status"
   match="战斗中不能打坐，会走火入魔的。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doafterspecial(5,"dz",10);</send>
  </trigger>
  <trigger
   group="move"
   match="战斗中无法使用唤龙诀！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.resetTimers();
world.deleteTemporaryTimers();
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(10,"goo2 "+t,10);</send>
  </trigger>
  <trigger
   group="move"
   match="战斗中无法使用土遁！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.resetTimers();
world.deleteTemporaryTimers();
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(10,"goo3 "+t,10);</send>
  </trigger>
  <trigger
   group="usemark"
   match="战斗中无法使用仙法"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("burn;ss1");
world.doAfterSpecial(6,"usemark",10);</send>
  </trigger>
  <trigger
   group="smk"
   match="战斗中无法使用仙法！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("nian");
world.doafterspecial(5,"smk",10);</send>
  </trigger>
  <trigger
   group="teamfly-host2"
   match="战斗中无法使用游识神通！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
world.execute("nian");
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(2,"teamfly "+t,10);
</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="战斗中无法使用游识神通！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.deleteTemporaryTimers();
var t=world.getVariable("varFlyTarget");
world.note("---&gt; try fly "+t+" later");
world.doAfterSpecial(5,"goo "+t,10);
</send>
  </trigger>
  <trigger
   group="meng_down"
   match="账房先生用很一种奇怪的眼神瞄你"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill xiansheng;ss3");
world.doAfterSpecial(6,"ww0;push bed",10);</send>
  </trigger>
  <trigger
   group="fly_mls"
   match="沼泽边缘"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_mls",0);
world.doAfterSpecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="renci_in"
   match="这个方向的路被南宫灵挡住了 。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill master nangong;ss2");
world.doAfterspecial(5,"north",10);</send>
  </trigger>
  <trigger
   group="fly"
   match="这里(.*)出口"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>//world.execute("noDir");
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(1,"whisper",10);
world.setVariable("varFlyAway",1);
world.enableGroup("fly",0);
if (t=="flyme"){
world.execute("tell flyme DONE");
}
</send>
  </trigger>
  <trigger
   group="fly"
   match="这里(.*)出路"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.setVariable("varFlyAway",1);
world.enableGroup("fly",0);
var t=world.getVariable("varFlyTarget");
if (t=="flyme"){
world.execute("tell flyme DONE");
}

</send>
  </trigger>
  <trigger
   group="loopmove"
   match="这里(.*)的出口是 (?P&lt;pattern&gt;.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("%&lt;pattern&gt;");
/*
var p="%&lt;pattern&gt;";
var a=getLoopMove(p);
if (a!=null){
world.execute(a);
}else{
world.note("---&gt; no matching loop move");
world.execute("endLoopMove");
}
*/

if (checkLoopPattern('%&lt;pattern&gt;')){
world.execute(world.getVariable("varLoopMove"));
}else if (checkLoopEndPattern('%&lt;pattern&gt;')){
world.EnableGroup("loopmove",0);
//world.execute("noDir");
world.execute(world.getVariable("varLoopEndMove"));
}else{
world.note("---&gt; no matching loop move");
}
</send>
  </trigger>
  <trigger
   group="loopjob"
   match="这里不允许打坐"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var loopjob=world.getVariable("varLoopJob");
world.execute("ex1 450");
world.doAfterSpecial(2,"ex 400",10);
world.doAfterSpecial(4,"ex2 100;"+loopjob,10);
</send>
  </trigger>
  <trigger
   group="wm_road"
   match="这里的河床较宽，水流缓慢。河边的芦苇随风起伏荡漾，发出沙沙的声音"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("wm_road",0);
world.execute("north;whisper");</send>
  </trigger>
  <trigger
   group="mission-kill"
   match="这里没有(.*)。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varKillTarget");
world.note("---&gt; kill target dead or gone !!!");
if (t!="abortkill")
world.setvariable("varKillTarget","");
world.enablegroup("mission-kill",0);
</send>
  </trigger>
  <trigger
   group="eat-rice"
   match="这里没有地方可以装水。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>usemark</send>
  </trigger>
  <trigger
   group="fly-xg"
   match="这里没有任何明显的出路。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("fly-xg",0);
world.execute("waitSec 0.5");</send>
  </trigger>
  <trigger
   group="kkpaper"
   match="这里没有这个人。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("kkpaper",0);
world.doAfterspecial(4,"whisper",10);</send>
  </trigger>
  <trigger
   group="cave-ntdl"
   match="这里没有这个人。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setvariable("varCaveNtdlDone",1);</send>
  </trigger>
  <trigger
   group="ccd_road"
   match="这里明显的出口是 east 和 westdown"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.doAfterSpecial(0.5,"westdown;northwest;southwest;west",10);</send>
  </trigger>
  <trigger
   group="dqd_road"
   match="这里明显的出口是 west 和 northeast"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(2,"northeast;southeast;eastup;east",10);
</send>
  </trigger>
  <trigger
   group="ccd_road"
   match="这里明显的出口是 westdown 和 east。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.DeleteTemporaryTimers();
world.doAfterSpecial(0.5,"westdown;northwest;southwest;west",10);</send>
  </trigger>
  <trigger
   enabled="y"
   group="env"
   match="这里唯一的出口是 center。$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.SetVariable("varEnvAction","center");
</send>
  </trigger>
  <trigger
   group="task"
   match="这里无法使用神通。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.resetTimers();
world.deleteTemporaryTimers();
var t=world.getVariable("varFlyTarget");
world.execute("noDir;east;mmk");
world.doAfterSpecial(2,"goo2 "+t,10);</send>
  </trigger>
  <trigger
   enabled="y"
   group="move"
   match="这里无法使用神通。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("drop")
/*
world.execute("trans gc");
world.deleteTemporaryTimers();
var t=world.getVariable("varFlyTarget");
world.doAfterSpecial(3,"goo2 "+t,10);
*/
</send>
  </trigger>
  <trigger
   group="sealfly"
   match="这么危险，你还有空去拿神灯出来?"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getVariable("varFlyTarget");
world.execute("ss3");
world.doAfterSpecial(3,"goo4 "+t,10);</send>
  </trigger>
  <trigger
   group="stone_y"
   match="这是加工好的砚台"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>drop yan tai</send>
  </trigger>
  <trigger
   group="manglin-top"
   match="这是一根粗壮光滑的树枝，现在对着正北方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='北'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="manglin"
   match="这是一根粗壮光滑的树枝，现在对着正北方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='北'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="manglin"
   match="这是一根粗壮光滑的树枝，现在对着正东方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='东'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="manglin-top"
   match="这是一根粗壮光滑的树枝，现在对着正东方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='东'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="manglin"
   match="这是一根粗壮光滑的树枝，现在对着正南方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='南'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="manglin-top"
   match="这是一根粗壮光滑的树枝，现在对着正南方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='南'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="manglin-top"
   match="这是一根粗壮光滑的树枝，现在对着正西方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='西'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="manglin"
   match="这是一根粗壮光滑的树枝，现在对着正西方。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var varDir=world.getVariable("varManglinDir");
if (varDir=='西'){
world.send('swing vine');
}else{
world.send('turn vine');
world.send('look vine');
}</send>
  </trigger>
  <trigger
   group="sky_learn"
   match="这项技能你的程度已经不输你师父了。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varLearnSkyNext",1);
</send>
  </trigger>
  <trigger
   group="shenshui_pearl"
   match="珍珠在石壁上组成各样的字句和图案，你看了几眼不觉面红耳赤心神荡漾。"
   regexp="y"
   sequence="100"
  >
  <send>look pearl</send>
  </trigger>
  <trigger
   group="ginseng-maze-move"
   match="阵阵寒风从你身边刮过，吹得你四肢麻木，寸步难行。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.note("---&gt; fail to move, need to recover damage");
world.setvariable("varGinsengMazeMoveFail","yes");
//world.doafterspecial(8,"fd;dz",10);
</send>
  </trigger>
  <trigger
   group="mission-request"
   match="执行时段错误"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>tt;tt mission-location-unknown</send>
  </trigger>
  <trigger
   group="seal_fly"
   match="只见一阵烟雾从天而降，你从中跳了出来！"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("seal_fly",0);
world.doAfterspecial(2,"whisper",10);</send>
  </trigger>
  <trigger
   group="sharen-knee"
   match="只听得卡卡两声，坐垫忽然一沉，你咕咚地往下掉了下去。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enablegroup("sharen-knee",0);
world.execute("whisper");</send>
  </trigger>
  <trigger
   group="sl_indoor"
   match="只有少林寺弟子才可以进入少林内院"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("kill monk");
world.doAfterSpecial(1,"north",10);</send>
  </trigger>
  <trigger
   group="task"
   match="中止呼唤神龙"
   regexp="y"
   sequence="100"
  >
  <send>whisper</send>
  </trigger>
  <trigger
   group="taskreward"
   match="中止呼唤神龙。"
   regexp="y"
   sequence="100"
  >
  <send>whisper</send>
  </trigger>
  <trigger
   group="shenshui_swim"
   match="终于湿淋淋地爬到了岸上"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("shenshui_swim",0);
world.execute("checkBusy");
//world.doAfterSpecial(2,"whisper",10);</send>
  </trigger>
  <trigger
   match="重新分布所有使命．．．．．．重新分布完毕"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.setVariable("varTaskRefresh",1);</send>
  </trigger>
  <trigger
   group="taskreward"
   match="重新连线完毕。"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.execute("stopp;goo rar");
world.doAfterSpecial(10,"startTaskReward",10);</send>
  </trigger>
  <trigger
   group="task"
   match="重新连线完毕。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>restartTask</send>
  </trigger>
  <trigger
   group="mission-search"
   match="组织任务被(.+)完成，你被奖励了："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varMissionTarget");
if (t=="hulaolaoa" || t=="guo mie" || t=="gold girl")
world.setvariable("varKillTarget","abortkill");
world.setvariable("varMissionDone",1);

</send>
  </trigger>
  <trigger
   group="mission-help-kill"
   match="组织任务被(.+)完成，你被奖励了："
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>var t=world.getvariable("varMissionTarget");
if (t=="hulaolaoa" || t=="guo mie" || t=="gold girl" || t=="gold man")
world.setvariable("varKillTarget","abortkill");
//world.setvariable("varMissionDone",1);

</send>
  </trigger>
  <trigger
   group="mission-request"
   match="组织任务取消了。$"
   regexp="y"
   sequence="100"
  >
  <send>mission</send>
  </trigger>
  <trigger
   group="mission-request2"
   match="组织现在还没有(.+)的情报。"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>tt;tt mission-location-unknown</send>
  </trigger>
  <trigger
   group="renci_in"
   match="丐帮私房"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("renci_in",0);
world.send("whisper");</send>
  </trigger>
  <trigger
   group="fly_hell"
   match="冥府大道"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.enableGroup("fly_hell",0);
world.doAfterspecial(1,"whisper",10);</send>
  </trigger>
  <trigger
   group="fly_sl"
   match="邸园精舍"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>world.doAfterSpecial(1,"whisper",10);
world.enableGroup("fly_sl",0)</send>
  </trigger>
  <trigger
   group="task"
   match="嗖地一下从你头上跳过．．．．．"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  <send>kill monkey</send>
  </trigger>
  <trigger
   enabled="y"
   group="buy"
   match="^安生棺材店"
   regexp="y"
   send_to="12"
   sequence="200"
  >
  <send>world.SetVariable("varEnvBuyer", "huying");
world.SetVariable("varEnvAction","push coffin");</send>
  </trigger>
  <trigger
   enabled="y"
   group="buy"
   match="^焦都驿"
   regexp="y"
   send_to="12"
   sequence="200"
  >
  <send>world.SetVariable("varEnvBuyer", "max");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="buy"
   match="^普生堂"
   regexp="y"
   send_to="12"
   sequence="200"
  >
  <send>world.SetVariable("varEnvBuyer", "pusheng");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="buy"
   match="^太平客栈"
   regexp="y"
   send_to="12"
   sequence="200"
  >
  <send>world.SetVariable("varEnvBuyer", "hao");
</send>
  </trigger>
  <trigger
   enabled="y"
   group="buy"
   match="千银当铺"
   regexp="y"
   send_to="12"
   sequence="200"
  >
  <send>world.SetVariable("varEnvBuyer", "xiangling");
</send>
  </trigger>
  <trigger
   group="buy"
   match="鹰记商号"
   regexp="y"
   send_to="12"
   sequence="200"
  >
  <send>world.SetVariable("varEnvBuyer", "ying");
</send>
  </trigger>
  <trigger
   group="buy"
   match="迎宾酒家"
   regexp="y"
   send_to="12"
   sequence="200"
  >
  <send>world.SetVariable("varEnvBuyer", "waiter");
world.SetVariable("varEnvAction","bby jiduan;pp0 jiduan");</send>
  </trigger>
</triggers>
</muclient>
